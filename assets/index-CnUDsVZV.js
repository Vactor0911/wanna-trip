var HM=Object.defineProperty;var jM=(n,t,e)=>t in n?HM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var y=(n,t,e)=>jM(n,typeof t!="symbol"?t+"":t,e);function YE(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();function ic(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zb={exports:{}},au={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC;function WM(){if(JC)return au;JC=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,r){var o=null;if(r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),"key"in s){r={};for(var l in s)l!=="key"&&(r[l]=s[l])}else r=s;return s=r.ref,{$$typeof:n,type:i,key:o,ref:s!==void 0?s:null,props:r}}return au.Fragment=t,au.jsx=e,au.jsxs=e,au}var ZC;function qM(){return ZC||(ZC=1,Zb.exports=WM()),Zb.exports}var J=qM(),Qb={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC;function GM(){if(QC)return Ge;QC=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=m&&B[m]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function x(B,Z,ae){this.props=B,this.context=Z,this.refs=k,this.updater=ae||w}x.prototype.isReactComponent={},x.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},x.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function A(){}A.prototype=x.prototype;function L(B,Z,ae){this.props=B,this.context=Z,this.refs=k,this.updater=ae||w}var E=L.prototype=new A;E.constructor=L,_(E,x.prototype),E.isPureReactComponent=!0;var P=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function I(B,Z,ae,re,ge,he){return ae=he.ref,{$$typeof:n,type:B,key:Z,ref:ae!==void 0?ae:null,props:he}}function z(B,Z){return I(B.type,Z,void 0,void 0,void 0,B.props)}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function C(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ae){return Z[ae]})}var N=/\/+/g;function H(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?C(""+B.key):Z.toString(36)}function G(){}function Y(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(G,G):(B.status="pending",B.then(function(Z){B.status==="pending"&&(B.status="fulfilled",B.value=Z)},function(Z){B.status==="pending"&&(B.status="rejected",B.reason=Z)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function W(B,Z,ae,re,ge){var he=typeof B;(he==="undefined"||he==="boolean")&&(B=null);var ce=!1;if(B===null)ce=!0;else switch(he){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(B.$$typeof){case n:case t:ce=!0;break;case h:return ce=B._init,W(ce(B._payload),Z,ae,re,ge)}}if(ce)return ge=ge(B),ce=re===""?"."+H(B,0):re,P(ge)?(ae="",ce!=null&&(ae=ce.replace(N,"$&/")+"/"),W(ge,Z,ae,"",function(Ee){return Ee})):ge!=null&&(F(ge)&&(ge=z(ge,ae+(ge.key==null||B&&B.key===ge.key?"":(""+ge.key).replace(N,"$&/")+"/")+ce)),Z.push(ge)),1;ce=0;var de=re===""?".":re+":";if(P(B))for(var pe=0;pe<B.length;pe++)re=B[pe],he=de+H(re,pe),ce+=W(re,Z,ae,he,ge);else if(pe=b(B),typeof pe=="function")for(B=pe.call(B),pe=0;!(re=B.next()).done;)re=re.value,he=de+H(re,pe++),ce+=W(re,Z,ae,he,ge);else if(he==="object"){if(typeof B.then=="function")return W(Y(B),Z,ae,re,ge);throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ce}function M(B,Z,ae){if(B==null)return B;var re=[],ge=0;return W(B,re,"","",function(he){return Z.call(ae,he,ge++)}),re}function U(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(ae){(B._status===0||B._status===-1)&&(B._status=1,B._result=ae)},function(ae){(B._status===0||B._status===-1)&&(B._status=2,B._result=ae)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var K=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Q(){}return Ge.Children={map:M,forEach:function(B,Z,ae){M(B,function(){Z.apply(this,arguments)},ae)},count:function(B){var Z=0;return M(B,function(){Z++}),Z},toArray:function(B){return M(B,function(Z){return Z})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ge.Component=x,Ge.Fragment=e,Ge.Profiler=s,Ge.PureComponent=L,Ge.StrictMode=i,Ge.Suspense=u,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(B){return R.H.useMemoCache(B)}},Ge.cache=function(B){return function(){return B.apply(null,arguments)}},Ge.cloneElement=function(B,Z,ae){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var re=_({},B.props),ge=B.key,he=void 0;if(Z!=null)for(ce in Z.ref!==void 0&&(he=void 0),Z.key!==void 0&&(ge=""+Z.key),Z)!V.call(Z,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&Z.ref===void 0||(re[ce]=Z[ce]);var ce=arguments.length-2;if(ce===1)re.children=ae;else if(1<ce){for(var de=Array(ce),pe=0;pe<ce;pe++)de[pe]=arguments[pe+2];re.children=de}return I(B.type,ge,void 0,void 0,he,re)},Ge.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:r,_context:B},B},Ge.createElement=function(B,Z,ae){var re,ge={},he=null;if(Z!=null)for(re in Z.key!==void 0&&(he=""+Z.key),Z)V.call(Z,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=Z[re]);var ce=arguments.length-2;if(ce===1)ge.children=ae;else if(1<ce){for(var de=Array(ce),pe=0;pe<ce;pe++)de[pe]=arguments[pe+2];ge.children=de}if(B&&B.defaultProps)for(re in ce=B.defaultProps,ce)ge[re]===void 0&&(ge[re]=ce[re]);return I(B,he,void 0,void 0,null,ge)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(B){return{$$typeof:l,render:B}},Ge.isValidElement=F,Ge.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:U}},Ge.memo=function(B,Z){return{$$typeof:f,type:B,compare:Z===void 0?null:Z}},Ge.startTransition=function(B){var Z=R.T,ae={};R.T=ae;try{var re=B(),ge=R.S;ge!==null&&ge(ae,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Q,K)}catch(he){K(he)}finally{R.T=Z}},Ge.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ge.use=function(B){return R.H.use(B)},Ge.useActionState=function(B,Z,ae){return R.H.useActionState(B,Z,ae)},Ge.useCallback=function(B,Z){return R.H.useCallback(B,Z)},Ge.useContext=function(B){return R.H.useContext(B)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(B,Z){return R.H.useDeferredValue(B,Z)},Ge.useEffect=function(B,Z,ae){var re=R.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(B,Z)},Ge.useId=function(){return R.H.useId()},Ge.useImperativeHandle=function(B,Z,ae){return R.H.useImperativeHandle(B,Z,ae)},Ge.useInsertionEffect=function(B,Z){return R.H.useInsertionEffect(B,Z)},Ge.useLayoutEffect=function(B,Z){return R.H.useLayoutEffect(B,Z)},Ge.useMemo=function(B,Z){return R.H.useMemo(B,Z)},Ge.useOptimistic=function(B,Z){return R.H.useOptimistic(B,Z)},Ge.useReducer=function(B,Z,ae){return R.H.useReducer(B,Z,ae)},Ge.useRef=function(B){return R.H.useRef(B)},Ge.useState=function(B){return R.H.useState(B)},Ge.useSyncExternalStore=function(B,Z,ae){return R.H.useSyncExternalStore(B,Z,ae)},Ge.useTransition=function(){return R.H.useTransition()},Ge.version="19.1.0",Ge}var eS;function Iv(){return eS||(eS=1,Qb.exports=GM()),Qb.exports}var S=Iv();const kn=ic(S),ap=YE({__proto__:null,default:kn},[S]);function KM(n){if(n.sheet)return n.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===n)return document.styleSheets[t]}function YM(n){var t=document.createElement("style");return t.setAttribute("data-emotion",n.key),n.nonce!==void 0&&t.setAttribute("nonce",n.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var XM=function(){function n(e){var i=this;this._insertTag=function(s){var r;i.tags.length===0?i.insertionPoint?r=i.insertionPoint.nextSibling:i.prepend?r=i.container.firstChild:r=i.before:r=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(s,r),i.tags.push(s)},this.isSpeedy=e.speedy===void 0?!0:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=n.prototype;return t.hydrate=function(i){i.forEach(this._insertTag)},t.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(YM(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var r=KM(s);try{r.insertRule(i,r.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){var s;return(s=i.parentNode)==null?void 0:s.removeChild(i)}),this.tags=[],this.ctr=0},n}(),Yn="-ms-",lp="-moz-",gt="-webkit-",XE="comm",Lv="rule",Bv="decl",JM="@import",JE="@keyframes",ZM="@layer",QM=Math.abs,Xp=String.fromCharCode,eI=Object.assign;function tI(n,t){return zn(n,0)^45?(((t<<2^zn(n,0))<<2^zn(n,1))<<2^zn(n,2))<<2^zn(n,3):0}function ZE(n){return n.trim()}function nI(n,t){return(n=t.exec(n))?n[0]:n}function bt(n,t,e){return n.replace(t,e)}function uy(n,t){return n.indexOf(t)}function zn(n,t){return n.charCodeAt(t)|0}function nd(n,t,e){return n.slice(t,e)}function Ns(n){return n.length}function Dv(n){return n.length}function gh(n,t){return t.push(n),n}function iI(n,t){return n.map(t).join("")}var Jp=1,Hl=1,QE=0,yi=0,gn=0,sc="";function Zp(n,t,e,i,s,r,o){return{value:n,root:t,parent:e,type:i,props:s,children:r,line:Jp,column:Hl,length:o,return:""}}function lu(n,t){return eI(Zp("",null,null,"",null,null,0),n,{length:-n.length},t)}function sI(){return gn}function rI(){return gn=yi>0?zn(sc,--yi):0,Hl--,gn===10&&(Hl=1,Jp--),gn}function Bi(){return gn=yi<QE?zn(sc,yi++):0,Hl++,gn===10&&(Hl=1,Jp++),gn}function zs(){return zn(sc,yi)}function $h(){return yi}function Ld(n,t){return nd(sc,n,t)}function id(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function eA(n){return Jp=Hl=1,QE=Ns(sc=n),yi=0,[]}function tA(n){return sc="",n}function Hh(n){return ZE(Ld(yi-1,dy(n===91?n+2:n===40?n+1:n)))}function oI(n){for(;(gn=zs())&&gn<33;)Bi();return id(n)>2||id(gn)>3?"":" "}function aI(n,t){for(;--t&&Bi()&&!(gn<48||gn>102||gn>57&&gn<65||gn>70&&gn<97););return Ld(n,$h()+(t<6&&zs()==32&&Bi()==32))}function dy(n){for(;Bi();)switch(gn){case n:return yi;case 34:case 39:n!==34&&n!==39&&dy(gn);break;case 40:n===41&&dy(n);break;case 92:Bi();break}return yi}function lI(n,t){for(;Bi()&&n+gn!==57;)if(n+gn===84&&zs()===47)break;return"/*"+Ld(t,yi-1)+"*"+Xp(n===47?n:Bi())}function cI(n){for(;!id(zs());)Bi();return Ld(n,yi)}function uI(n){return tA(jh("",null,null,null,[""],n=eA(n),0,[0],n))}function jh(n,t,e,i,s,r,o,l,u){for(var f=0,h=0,m=o,b=0,w=0,_=0,k=1,x=1,A=1,L=0,E="",P=s,R=r,V=i,I=E;x;)switch(_=L,L=Bi()){case 40:if(_!=108&&zn(I,m-1)==58){uy(I+=bt(Hh(L),"&","&\f"),"&\f")!=-1&&(A=-1);break}case 34:case 39:case 91:I+=Hh(L);break;case 9:case 10:case 13:case 32:I+=oI(_);break;case 92:I+=aI($h()-1,7);continue;case 47:switch(zs()){case 42:case 47:gh(dI(lI(Bi(),$h()),t,e),u);break;default:I+="/"}break;case 123*k:l[f++]=Ns(I)*A;case 125*k:case 59:case 0:switch(L){case 0:case 125:x=0;case 59+h:A==-1&&(I=bt(I,/\f/g,"")),w>0&&Ns(I)-m&&gh(w>32?nS(I+";",i,e,m-1):nS(bt(I," ","")+";",i,e,m-2),u);break;case 59:I+=";";default:if(gh(V=tS(I,t,e,f,h,s,l,E,P=[],R=[],m),r),L===123)if(h===0)jh(I,t,V,V,P,r,m,l,R);else switch(b===99&&zn(I,3)===110?100:b){case 100:case 108:case 109:case 115:jh(n,V,V,i&&gh(tS(n,V,V,0,0,s,l,E,s,P=[],m),R),s,R,m,l,i?P:R);break;default:jh(I,V,V,V,[""],R,0,l,R)}}f=h=w=0,k=A=1,E=I="",m=o;break;case 58:m=1+Ns(I),w=_;default:if(k<1){if(L==123)--k;else if(L==125&&k++==0&&rI()==125)continue}switch(I+=Xp(L),L*k){case 38:A=h>0?1:(I+="\f",-1);break;case 44:l[f++]=(Ns(I)-1)*A,A=1;break;case 64:zs()===45&&(I+=Hh(Bi())),b=zs(),h=m=Ns(E=I+=cI($h())),L++;break;case 45:_===45&&Ns(I)==2&&(k=0)}}return r}function tS(n,t,e,i,s,r,o,l,u,f,h){for(var m=s-1,b=s===0?r:[""],w=Dv(b),_=0,k=0,x=0;_<i;++_)for(var A=0,L=nd(n,m+1,m=QM(k=o[_])),E=n;A<w;++A)(E=ZE(k>0?b[A]+" "+L:bt(L,/&\f/g,b[A])))&&(u[x++]=E);return Zp(n,t,e,s===0?Lv:l,u,f,h)}function dI(n,t,e){return Zp(n,t,e,XE,Xp(sI()),nd(n,2,-2),0)}function nS(n,t,e,i){return Zp(n,t,e,Bv,nd(n,0,i),nd(n,i+1,-1),i)}function Vl(n,t){for(var e="",i=Dv(n),s=0;s<i;s++)e+=t(n[s],s,n,t)||"";return e}function fI(n,t,e,i){switch(n.type){case ZM:if(n.children.length)break;case JM:case Bv:return n.return=n.return||n.value;case XE:return"";case JE:return n.return=n.value+"{"+Vl(n.children,i)+"}";case Lv:n.value=n.props.join(",")}return Ns(e=Vl(n.children,i))?n.return=n.value+"{"+e+"}":""}function hI(n){var t=Dv(n);return function(e,i,s,r){for(var o="",l=0;l<t;l++)o+=n[l](e,i,s,r)||"";return o}}function pI(n){return function(t){t.root||(t=t.return)&&n(t)}}var iS=function(t){var e=new WeakMap;return function(i){if(e.has(i))return e.get(i);var s=t(i);return e.set(i,s),s}};function nA(n){var t=Object.create(null);return function(e){return t[e]===void 0&&(t[e]=n(e)),t[e]}}var mI=function(t,e,i){for(var s=0,r=0;s=r,r=zs(),s===38&&r===12&&(e[i]=1),!id(r);)Bi();return Ld(t,yi)},gI=function(t,e){var i=-1,s=44;do switch(id(s)){case 0:s===38&&zs()===12&&(e[i]=1),t[i]+=mI(yi-1,e,i);break;case 2:t[i]+=Hh(s);break;case 4:if(s===44){t[++i]=zs()===58?"&\f":"",e[i]=t[i].length;break}default:t[i]+=Xp(s)}while(s=Bi());return t},bI=function(t,e){return tA(gI(eA(t),e))},sS=new WeakMap,yI=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var e=t.value,i=t.parent,s=t.column===i.column&&t.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(t.props.length===1&&e.charCodeAt(0)!==58&&!sS.get(i))&&!s){sS.set(t,!0);for(var r=[],o=bI(e,r),l=i.props,u=0,f=0;u<o.length;u++)for(var h=0;h<l.length;h++,f++)t.props[f]=r[u]?o[u].replace(/&\f/g,l[h]):l[h]+" "+o[u]}}},vI=function(t){if(t.type==="decl"){var e=t.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(t.return="",t.value="")}};function iA(n,t){switch(tI(n,t)){case 5103:return gt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return gt+n+lp+n+Yn+n+n;case 6828:case 4268:return gt+n+Yn+n+n;case 6165:return gt+n+Yn+"flex-"+n+n;case 5187:return gt+n+bt(n,/(\w+).+(:[^]+)/,gt+"box-$1$2"+Yn+"flex-$1$2")+n;case 5443:return gt+n+Yn+"flex-item-"+bt(n,/flex-|-self/,"")+n;case 4675:return gt+n+Yn+"flex-line-pack"+bt(n,/align-content|flex-|-self/,"")+n;case 5548:return gt+n+Yn+bt(n,"shrink","negative")+n;case 5292:return gt+n+Yn+bt(n,"basis","preferred-size")+n;case 6060:return gt+"box-"+bt(n,"-grow","")+gt+n+Yn+bt(n,"grow","positive")+n;case 4554:return gt+bt(n,/([^-])(transform)/g,"$1"+gt+"$2")+n;case 6187:return bt(bt(bt(n,/(zoom-|grab)/,gt+"$1"),/(image-set)/,gt+"$1"),n,"")+n;case 5495:case 3959:return bt(n,/(image-set\([^]*)/,gt+"$1$`$1");case 4968:return bt(bt(n,/(.+:)(flex-)?(.*)/,gt+"box-pack:$3"+Yn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gt+n+n;case 4095:case 3583:case 4068:case 2532:return bt(n,/(.+)-inline(.+)/,gt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ns(n)-1-t>6)switch(zn(n,t+1)){case 109:if(zn(n,t+4)!==45)break;case 102:return bt(n,/(.+:)(.+)-([^]+)/,"$1"+gt+"$2-$3$1"+lp+(zn(n,t+3)==108?"$3":"$2-$3"))+n;case 115:return~uy(n,"stretch")?iA(bt(n,"stretch","fill-available"),t)+n:n}break;case 4949:if(zn(n,t+1)!==115)break;case 6444:switch(zn(n,Ns(n)-3-(~uy(n,"!important")&&10))){case 107:return bt(n,":",":"+gt)+n;case 101:return bt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+gt+(zn(n,14)===45?"inline-":"")+"box$3$1"+gt+"$2$3$1"+Yn+"$2box$3")+n}break;case 5936:switch(zn(n,t+11)){case 114:return gt+n+Yn+bt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return gt+n+Yn+bt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return gt+n+Yn+bt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return gt+n+Yn+n+n}return n}var wI=function(t,e,i,s){if(t.length>-1&&!t.return)switch(t.type){case Bv:t.return=iA(t.value,t.length);break;case JE:return Vl([lu(t,{value:bt(t.value,"@","@"+gt)})],s);case Lv:if(t.length)return iI(t.props,function(r){switch(nI(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Vl([lu(t,{props:[bt(r,/:(read-\w+)/,":"+lp+"$1")]})],s);case"::placeholder":return Vl([lu(t,{props:[bt(r,/:(plac\w+)/,":"+gt+"input-$1")]}),lu(t,{props:[bt(r,/:(plac\w+)/,":"+lp+"$1")]}),lu(t,{props:[bt(r,/:(plac\w+)/,Yn+"input-$1")]})],s)}return""})}},_I=[wI],kI=function(t){var e=t.key;if(e==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(k){var x=k.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(k),k.setAttribute("data-s",""))})}var s=t.stylisPlugins||_I,r={},o,l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(k){for(var x=k.getAttribute("data-emotion").split(" "),A=1;A<x.length;A++)r[x[A]]=!0;l.push(k)});var u,f=[yI,vI];{var h,m=[fI,pI(function(k){h.insert(k)})],b=hI(f.concat(s,m)),w=function(x){return Vl(uI(x),b)};u=function(x,A,L,E){h=L,w(x?x+"{"+A.styles+"}":A.styles),E&&(_.inserted[A.name]=!0)}}var _={key:e,sheet:new XM({key:e,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:r,registered:{},insert:u};return _.sheet.hydrate(l),_};function sd(){return sd=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},sd.apply(null,arguments)}var e0={exports:{}},yt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rS;function CI(){if(rS)return yt;rS=1;var n=typeof Symbol=="function"&&Symbol.for,t=n?Symbol.for("react.element"):60103,e=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,r=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,b=n?Symbol.for("react.suspense_list"):60120,w=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,k=n?Symbol.for("react.block"):60121,x=n?Symbol.for("react.fundamental"):60117,A=n?Symbol.for("react.responder"):60118,L=n?Symbol.for("react.scope"):60119;function E(R){if(typeof R=="object"&&R!==null){var V=R.$$typeof;switch(V){case t:switch(R=R.type,R){case u:case f:case i:case r:case s:case m:return R;default:switch(R=R&&R.$$typeof,R){case l:case h:case _:case w:case o:return R;default:return V}}case e:return V}}}function P(R){return E(R)===f}return yt.AsyncMode=u,yt.ConcurrentMode=f,yt.ContextConsumer=l,yt.ContextProvider=o,yt.Element=t,yt.ForwardRef=h,yt.Fragment=i,yt.Lazy=_,yt.Memo=w,yt.Portal=e,yt.Profiler=r,yt.StrictMode=s,yt.Suspense=m,yt.isAsyncMode=function(R){return P(R)||E(R)===u},yt.isConcurrentMode=P,yt.isContextConsumer=function(R){return E(R)===l},yt.isContextProvider=function(R){return E(R)===o},yt.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===t},yt.isForwardRef=function(R){return E(R)===h},yt.isFragment=function(R){return E(R)===i},yt.isLazy=function(R){return E(R)===_},yt.isMemo=function(R){return E(R)===w},yt.isPortal=function(R){return E(R)===e},yt.isProfiler=function(R){return E(R)===r},yt.isStrictMode=function(R){return E(R)===s},yt.isSuspense=function(R){return E(R)===m},yt.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===i||R===f||R===r||R===s||R===m||R===b||typeof R=="object"&&R!==null&&(R.$$typeof===_||R.$$typeof===w||R.$$typeof===o||R.$$typeof===l||R.$$typeof===h||R.$$typeof===x||R.$$typeof===A||R.$$typeof===L||R.$$typeof===k)},yt.typeOf=E,yt}var oS;function SI(){return oS||(oS=1,e0.exports=CI()),e0.exports}var t0,aS;function xI(){if(aS)return t0;aS=1;var n=SI(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};r[n.ForwardRef]=i,r[n.Memo]=s;function o(_){return n.isMemo(_)?s:r[_.$$typeof]||t}var l=Object.defineProperty,u=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,b=Object.prototype;function w(_,k,x){if(typeof k!="string"){if(b){var A=m(k);A&&A!==b&&w(_,A,x)}var L=u(k);f&&(L=L.concat(f(k)));for(var E=o(_),P=o(k),R=0;R<L.length;++R){var V=L[R];if(!e[V]&&!(x&&x[V])&&!(P&&P[V])&&!(E&&E[V])){var I=h(k,V);try{l(_,V,I)}catch{}}}}return _}return t0=w,t0}xI();var TI=!0;function sA(n,t,e){var i="";return e.split(" ").forEach(function(s){n[s]!==void 0?t.push(n[s]+";"):s&&(i+=s+" ")}),i}var Nv=function(t,e,i){var s=t.key+"-"+e.name;(i===!1||TI===!1)&&t.registered[s]===void 0&&(t.registered[s]=e.styles)},Vv=function(t,e,i){Nv(t,e,i);var s=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var r=e;do t.insert(e===r?"."+s:"",r,t.sheet,!0),r=r.next;while(r!==void 0)}};function EI(n){for(var t=0,e,i=0,s=n.length;s>=4;++i,s-=4)e=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,t=(e&65535)*1540483477+((e>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(n.charCodeAt(i+2)&255)<<16;case 2:t^=(n.charCodeAt(i+1)&255)<<8;case 1:t^=n.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var AI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},PI=/[A-Z]|^ms/g,RI=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rA=function(t){return t.charCodeAt(1)===45},lS=function(t){return t!=null&&typeof t!="boolean"},n0=nA(function(n){return rA(n)?n:n.replace(PI,"-$&").toLowerCase()}),cS=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(RI,function(i,s,r){return Vs={name:s,styles:r,next:Vs},s})}return AI[t]!==1&&!rA(t)&&typeof e=="number"&&e!==0?e+"px":e};function rd(n,t,e){if(e==null)return"";var i=e;if(i.__emotion_styles!==void 0)return i;switch(typeof e){case"boolean":return"";case"object":{var s=e;if(s.anim===1)return Vs={name:s.name,styles:s.styles,next:Vs},s.name;var r=e;if(r.styles!==void 0){var o=r.next;if(o!==void 0)for(;o!==void 0;)Vs={name:o.name,styles:o.styles,next:Vs},o=o.next;var l=r.styles+";";return l}return OI(n,t,e)}case"function":{if(n!==void 0){var u=Vs,f=e(n);return Vs=u,rd(n,t,f)}break}}var h=e;if(t==null)return h;var m=t[h];return m!==void 0?m:h}function OI(n,t,e){var i="";if(Array.isArray(e))for(var s=0;s<e.length;s++)i+=rd(n,t,e[s])+";";else for(var r in e){var o=e[r];if(typeof o!="object"){var l=o;t!=null&&t[l]!==void 0?i+=r+"{"+t[l]+"}":lS(l)&&(i+=n0(r)+":"+cS(r,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var u=0;u<o.length;u++)lS(o[u])&&(i+=n0(r)+":"+cS(r,o[u])+";");else{var f=rd(n,t,o);switch(r){case"animation":case"animationName":{i+=n0(r)+":"+f+";";break}default:i+=r+"{"+f+"}"}}}return i}var uS=/label:\s*([^\s;{]+)\s*(;|$)/g,Vs;function Bd(n,t,e){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,s="";Vs=void 0;var r=n[0];if(r==null||r.raw===void 0)i=!1,s+=rd(e,t,r);else{var o=r;s+=o[0]}for(var l=1;l<n.length;l++)if(s+=rd(e,t,n[l]),i){var u=r;s+=u[l]}uS.lastIndex=0;for(var f="",h;(h=uS.exec(s))!==null;)f+="-"+h[1];var m=EI(s)+f;return{name:m,styles:s,next:Vs}}var MI=function(t){return t()},oA=ap.useInsertionEffect?ap.useInsertionEffect:!1,aA=oA||MI,dS=oA||S.useLayoutEffect,lA=S.createContext(typeof HTMLElement<"u"?kI({key:"css"}):null);lA.Provider;var Fv=function(t){return S.forwardRef(function(e,i){var s=S.useContext(lA);return t(e,s,i)})},jl=S.createContext({}),II=function(t,e){if(typeof e=="function"){var i=e(t);return i}return sd({},t,e)},LI=iS(function(n){return iS(function(t){return II(n,t)})}),BI=function(t){var e=S.useContext(jl);return t.theme!==e&&(e=LI(e)(t.theme)),S.createElement(jl.Provider,{value:e},t.children)},Dd={}.hasOwnProperty,fy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",zv=function(t,e){var i={};for(var s in e)Dd.call(e,s)&&(i[s]=e[s]);return i[fy]=t,i},DI=function(t){var e=t.cache,i=t.serialized,s=t.isStringTag;return Nv(e,i,s),aA(function(){return Vv(e,i,s)}),null},NI=Fv(function(n,t,e){var i=n.css;typeof i=="string"&&t.registered[i]!==void 0&&(i=t.registered[i]);var s=n[fy],r=[i],o="";typeof n.className=="string"?o=sA(t.registered,r,n.className):n.className!=null&&(o=n.className+" ");var l=Bd(r,void 0,S.useContext(jl));o+=t.key+"-"+l.name;var u={};for(var f in n)Dd.call(n,f)&&f!=="css"&&f!==fy&&(u[f]=n[f]);return u.className=o,e&&(u.ref=e),S.createElement(S.Fragment,null,S.createElement(DI,{cache:t,serialized:l,isStringTag:typeof s=="string"}),S.createElement(s,u))}),Uv=NI,$v=J.Fragment,D=function(t,e,i){return Dd.call(e,"css")?J.jsx(Uv,zv(t,e),i):J.jsx(t,e,i)},Ce=function(t,e,i){return Dd.call(e,"css")?J.jsxs(Uv,zv(t,e),i):J.jsxs(t,e,i)},i0={exports:{}},cu={},s0={exports:{}},r0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS;function VI(){return fS||(fS=1,function(n){function t(M,U){var K=M.length;M.push(U);e:for(;0<K;){var Q=K-1>>>1,B=M[Q];if(0<s(B,U))M[Q]=U,M[K]=B,K=Q;else break e}}function e(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var U=M[0],K=M.pop();if(K!==U){M[0]=K;e:for(var Q=0,B=M.length,Z=B>>>1;Q<Z;){var ae=2*(Q+1)-1,re=M[ae],ge=ae+1,he=M[ge];if(0>s(re,K))ge<B&&0>s(he,re)?(M[Q]=he,M[ge]=K,Q=ge):(M[Q]=re,M[ae]=K,Q=ae);else if(ge<B&&0>s(he,K))M[Q]=he,M[ge]=K,Q=ge;else break e}}return U}function s(M,U){var K=M.sortIndex-U.sortIndex;return K!==0?K:M.id-U.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var u=[],f=[],h=1,m=null,b=3,w=!1,_=!1,k=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function P(M){for(var U=e(f);U!==null;){if(U.callback===null)i(f);else if(U.startTime<=M)i(f),U.sortIndex=U.expirationTime,t(u,U);else break;U=e(f)}}function R(M){if(k=!1,P(M),!_)if(e(u)!==null)_=!0,V||(V=!0,H());else{var U=e(f);U!==null&&W(R,U.startTime-M)}}var V=!1,I=-1,z=5,F=-1;function C(){return x?!0:!(n.unstable_now()-F<z)}function N(){if(x=!1,V){var M=n.unstable_now();F=M;var U=!0;try{e:{_=!1,k&&(k=!1,L(I),I=-1),w=!0;var K=b;try{t:{for(P(M),m=e(u);m!==null&&!(m.expirationTime>M&&C());){var Q=m.callback;if(typeof Q=="function"){m.callback=null,b=m.priorityLevel;var B=Q(m.expirationTime<=M);if(M=n.unstable_now(),typeof B=="function"){m.callback=B,P(M),U=!0;break t}m===e(u)&&i(u),P(M)}else i(u);m=e(u)}if(m!==null)U=!0;else{var Z=e(f);Z!==null&&W(R,Z.startTime-M),U=!1}}break e}finally{m=null,b=K,w=!1}U=void 0}}finally{U?H():V=!1}}}var H;if(typeof E=="function")H=function(){E(N)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Y=G.port2;G.port1.onmessage=N,H=function(){Y.postMessage(null)}}else H=function(){A(N,0)};function W(M,U){I=A(function(){M(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(M){switch(b){case 1:case 2:case 3:var U=3;break;default:U=b}var K=b;b=U;try{return M()}finally{b=K}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var K=b;b=M;try{return U()}finally{b=K}},n.unstable_scheduleCallback=function(M,U,K){var Q=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Q+K:Q):K=Q,M){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=K+B,M={id:h++,callback:U,priorityLevel:M,startTime:K,expirationTime:B,sortIndex:-1},K>Q?(M.sortIndex=K,t(f,M),e(u)===null&&M===e(f)&&(k?(L(I),I=-1):k=!0,W(R,K-Q))):(M.sortIndex=B,t(u,M),_||w||(_=!0,V||(V=!0,H()))),M},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(M){var U=b;return function(){var K=b;b=U;try{return M.apply(this,arguments)}finally{b=K}}}}(r0)),r0}var hS;function FI(){return hS||(hS=1,s0.exports=VI()),s0.exports}var o0={exports:{}},qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS;function zI(){if(pS)return qn;pS=1;var n=Iv();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(u,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:u,containerInfo:f,implementation:h}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,qn.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return r(u,f,null,h)},qn.flushSync=function(u){var f=o.T,h=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=f,i.p=h,i.d.f()}},qn.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(u,f))},qn.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},qn.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,m=l(h,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?i.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:w}):h==="script"&&i.d.X(u,{crossOrigin:m,integrity:b,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},qn.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);i.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(u)},qn.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=l(h,f.crossOrigin);i.d.L(u,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},qn.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=l(f.as,f.crossOrigin);i.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(u)},qn.requestFormReset=function(u){i.d.r(u)},qn.unstable_batchedUpdates=function(u,f){return u(f)},qn.useFormState=function(u,f,h){return o.H.useFormState(u,f,h)},qn.useFormStatus=function(){return o.H.useHostTransitionStatus()},qn.version="19.1.0",qn}var mS;function cA(){if(mS)return o0.exports;mS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),o0.exports=zI(),o0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function UI(){if(gS)return cu;gS=1;var n=FI(),t=Iv(),e=cA();function i(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function r(a){var c=a,d=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(d=c.return),a=c.return;while(a)}return c.tag===3?d:null}function o(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function l(a){if(r(a)!==a)throw Error(i(188))}function u(a){var c=a.alternate;if(!c){if(c=r(a),c===null)throw Error(i(188));return c!==a?null:a}for(var d=a,p=c;;){var g=d.return;if(g===null)break;var v=g.alternate;if(v===null){if(p=g.return,p!==null){d=p;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===d)return l(g),a;if(v===p)return l(g),c;v=v.sibling}throw Error(i(188))}if(d.return!==p.return)d=g,p=v;else{for(var T=!1,O=g.child;O;){if(O===d){T=!0,d=g,p=v;break}if(O===p){T=!0,p=g,d=v;break}O=O.sibling}if(!T){for(O=v.child;O;){if(O===d){T=!0,d=v,p=g;break}if(O===p){T=!0,p=v,d=g;break}O=O.sibling}if(!T)throw Error(i(189))}}if(d.alternate!==p)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?a:c}function f(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=f(a),c!==null)return c;a=a.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),E=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=N&&a[N]||a["@@iterator"],typeof a=="function"?a:null)}var G=Symbol.for("react.client.reference");function Y(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===G?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case x:return"Profiler";case k:return"StrictMode";case R:return"Suspense";case V:return"SuspenseList";case F:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case E:return(a.displayName||"Context")+".Provider";case L:return(a._context.displayName||"Context")+".Consumer";case P:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return c=a.displayName||null,c!==null?c:Y(a.type)||"Memo";case z:c=a._payload,a=a._init;try{return Y(a(c))}catch{}}return null}var W=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},Q=[],B=-1;function Z(a){return{current:a}}function ae(a){0>B||(a.current=Q[B],Q[B]=null,B--)}function re(a,c){B++,Q[B]=a.current,a.current=c}var ge=Z(null),he=Z(null),ce=Z(null),de=Z(null);function pe(a,c){switch(re(ce,c),re(he,a),re(ge,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?xC(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=xC(c),a=TC(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ae(ge),re(ge,a)}function Ee(){ae(ge),ae(he),ae(ce)}function _e(a){a.memoizedState!==null&&re(de,a);var c=ge.current,d=TC(c,a.type);c!==d&&(re(he,a),re(ge,d))}function Ae(a){he.current===a&&(ae(ge),ae(he)),de.current===a&&(ae(de),nu._currentValue=K)}var Le=Object.prototype.hasOwnProperty,Ye=n.unstable_scheduleCallback,ze=n.unstable_cancelCallback,dt=n.unstable_shouldYield,an=n.unstable_requestPaint,rt=n.unstable_now,Rt=n.unstable_getCurrentPriorityLevel,yn=n.unstable_ImmediatePriority,vt=n.unstable_UserBlockingPriority,ft=n.unstable_NormalPriority,Pe=n.unstable_LowPriority,Dn=n.unstable_IdlePriority,Ut=n.log,_i=n.unstable_setDisableYieldValue,Hn=null,Dt=null;function fn(a){if(typeof Ut=="function"&&_i(a),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(Hn,a)}catch{}}var Nt=Math.clz32?Math.clz32:si,ki=Math.log,et=Math.LN2;function si(a){return a>>>=0,a===0?32:31-(ki(a)/et|0)|0}var Tn=256,vn=4194304;function Re(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ot(a,c,d){var p=a.pendingLanes;if(p===0)return 0;var g=0,v=a.suspendedLanes,T=a.pingedLanes;a=a.warmLanes;var O=p&134217727;return O!==0?(p=O&~v,p!==0?g=Re(p):(T&=O,T!==0?g=Re(T):d||(d=O&~a,d!==0&&(g=Re(d))))):(O=p&~v,O!==0?g=Re(O):T!==0?g=Re(T):d||(d=p&~a,d!==0&&(g=Re(d)))),g===0?0:c!==0&&c!==g&&(c&v)===0&&(v=g&-g,d=c&-c,v>=d||v===32&&(d&4194048)!==0)?c:g}function $t(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function Ci(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var a=Tn;return Tn<<=1,(Tn&4194048)===0&&(Tn=256),a}function tf(){var a=vn;return vn<<=1,(vn&62914560)===0&&(vn=4194304),a}function dc(a){for(var c=[],d=0;31>d;d++)c.push(a);return c}function Oo(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Hm(a,c,d,p,g,v){var T=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var O=a.entanglements,$=a.expirationTimes,te=a.hiddenUpdates;for(d=T&~d;0<d;){var ue=31-Nt(d),me=1<<ue;O[ue]=0,$[ue]=-1;var ne=te[ue];if(ne!==null)for(te[ue]=null,ue=0;ue<ne.length;ue++){var se=ne[ue];se!==null&&(se.lane&=-536870913)}d&=~me}p!==0&&nf(a,p,0),v!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=v&~(T&~c))}function nf(a,c,d){a.pendingLanes|=c,a.suspendedLanes&=~c;var p=31-Nt(c);a.entangledLanes|=c,a.entanglements[p]=a.entanglements[p]|1073741824|d&4194090}function sf(a,c){var d=a.entangledLanes|=c;for(a=a.entanglements;d;){var p=31-Nt(d),g=1<<p;g&c|a[p]&c&&(a[p]|=c),d&=~g}}function fc(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ue(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ri(){var a=U.p;return a!==0?a:(a=window.event,a===void 0?32:WC(a.type))}function rf(a,c){var d=U.p;try{return U.p=a,c()}finally{U.p=d}}var Lr=Math.random().toString(36).slice(2),jn="__reactFiber$"+Lr,oi="__reactProps$"+Lr,Ma="__reactContainer$"+Lr,jm="__reactEvents$"+Lr,I4="__reactListeners$"+Lr,L4="__reactHandles$"+Lr,hw="__reactResources$"+Lr,hc="__reactMarker$"+Lr;function Wm(a){delete a[jn],delete a[oi],delete a[jm],delete a[I4],delete a[L4]}function Ia(a){var c=a[jn];if(c)return c;for(var d=a.parentNode;d;){if(c=d[Ma]||d[jn]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(a=RC(a);a!==null;){if(d=a[jn])return d;a=RC(a)}return c}a=d,d=a.parentNode}return null}function La(a){if(a=a[jn]||a[Ma]){var c=a.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return a}return null}function pc(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(i(33))}function Ba(a){var c=a[hw];return c||(c=a[hw]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function En(a){a[hc]=!0}var pw=new Set,mw={};function Mo(a,c){Da(a,c),Da(a+"Capture",c)}function Da(a,c){for(mw[a]=c,a=0;a<c.length;a++)pw.add(c[a])}var B4=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gw={},bw={};function D4(a){return Le.call(bw,a)?!0:Le.call(gw,a)?!1:B4.test(a)?bw[a]=!0:(gw[a]=!0,!1)}function of(a,c,d){if(D4(c))if(d===null)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var p=c.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+d)}}function af(a,c,d){if(d===null)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+d)}}function Xs(a,c,d,p){if(p===null)a.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(c,d,""+p)}}var qm,yw;function Na(a){if(qm===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);qm=c&&c[1]||"",yw=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qm+a+yw}var Gm=!1;function Km(a,c){if(!a||Gm)return"";Gm=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(c){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(se){var ne=se}Reflect.construct(a,[],me)}else{try{me.call()}catch(se){ne=se}a.call(me.prototype)}}else{try{throw Error()}catch(se){ne=se}(me=a())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(se){if(se&&ne&&typeof se.stack=="string")return[se.stack,ne.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=p.DetermineComponentFrameRoot(),T=v[0],O=v[1];if(T&&O){var $=T.split(`
`),te=O.split(`
`);for(g=p=0;p<$.length&&!$[p].includes("DetermineComponentFrameRoot");)p++;for(;g<te.length&&!te[g].includes("DetermineComponentFrameRoot");)g++;if(p===$.length||g===te.length)for(p=$.length-1,g=te.length-1;1<=p&&0<=g&&$[p]!==te[g];)g--;for(;1<=p&&0<=g;p--,g--)if($[p]!==te[g]){if(p!==1||g!==1)do if(p--,g--,0>g||$[p]!==te[g]){var ue=`
`+$[p].replace(" at new "," at ");return a.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",a.displayName)),ue}while(1<=p&&0<=g);break}}}finally{Gm=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?Na(d):""}function N4(a){switch(a.tag){case 26:case 27:case 5:return Na(a.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 15:return Km(a.type,!1);case 11:return Km(a.type.render,!1);case 1:return Km(a.type,!0);case 31:return Na("Activity");default:return""}}function vw(a){try{var c="";do c+=N4(a),a=a.return;while(a);return c}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Hi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ww(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function V4(a){var c=ww(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),p=""+a[c];if(!a.hasOwnProperty(c)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,v=d.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return g.call(this)},set:function(T){p=""+T,v.call(this,T)}}),Object.defineProperty(a,c,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(T){p=""+T},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function lf(a){a._valueTracker||(a._valueTracker=V4(a))}function _w(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var d=c.getValue(),p="";return a&&(p=ww(a)?a.checked?"true":"false":a.value),a=p,a!==d?(c.setValue(a),!0):!1}function cf(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var F4=/[\n"\\]/g;function ji(a){return a.replace(F4,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ym(a,c,d,p,g,v,T,O){a.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?a.type=T:a.removeAttribute("type"),c!=null?T==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+Hi(c)):a.value!==""+Hi(c)&&(a.value=""+Hi(c)):T!=="submit"&&T!=="reset"||a.removeAttribute("value"),c!=null?Xm(a,T,Hi(c)):d!=null?Xm(a,T,Hi(d)):p!=null&&a.removeAttribute("value"),g==null&&v!=null&&(a.defaultChecked=!!v),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.name=""+Hi(O):a.removeAttribute("name")}function kw(a,c,d,p,g,v,T,O){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),c!=null||d!=null){if(!(v!=="submit"&&v!=="reset"||c!=null))return;d=d!=null?""+Hi(d):"",c=c!=null?""+Hi(c):d,O||c===a.value||(a.value=c),a.defaultValue=c}p=p??g,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=O?a.checked:!!p,a.defaultChecked=!!p,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.name=T)}function Xm(a,c,d){c==="number"&&cf(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Va(a,c,d,p){if(a=a.options,c){c={};for(var g=0;g<d.length;g++)c["$"+d[g]]=!0;for(d=0;d<a.length;d++)g=c.hasOwnProperty("$"+a[d].value),a[d].selected!==g&&(a[d].selected=g),g&&p&&(a[d].defaultSelected=!0)}else{for(d=""+Hi(d),c=null,g=0;g<a.length;g++){if(a[g].value===d){a[g].selected=!0,p&&(a[g].defaultSelected=!0);return}c!==null||a[g].disabled||(c=a[g])}c!==null&&(c.selected=!0)}}function Cw(a,c,d){if(c!=null&&(c=""+Hi(c),c!==a.value&&(a.value=c),d==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=d!=null?""+Hi(d):""}function Sw(a,c,d,p){if(c==null){if(p!=null){if(d!=null)throw Error(i(92));if(W(p)){if(1<p.length)throw Error(i(93));p=p[0]}d=p}d==null&&(d=""),c=d}d=Hi(c),a.defaultValue=d,p=a.textContent,p===d&&p!==""&&p!==null&&(a.value=p)}function Fa(a,c){if(c){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=c;return}}a.textContent=c}var z4=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xw(a,c,d){var p=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":p?a.setProperty(c,d):typeof d!="number"||d===0||z4.has(c)?c==="float"?a.cssFloat=d:a[c]=(""+d).trim():a[c]=d+"px"}function Tw(a,c,d){if(c!=null&&typeof c!="object")throw Error(i(62));if(a=a.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||c!=null&&c.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var g in c)p=c[g],c.hasOwnProperty(g)&&d[g]!==p&&xw(a,g,p)}else for(var v in c)c.hasOwnProperty(v)&&xw(a,v,c[v])}function Jm(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U4=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$4=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uf(a){return $4.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Zm=null;function Qm(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var za=null,Ua=null;function Ew(a){var c=La(a);if(c&&(a=c.stateNode)){var d=a[oi]||null;e:switch(a=c.stateNode,c.type){case"input":if(Ym(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+ji(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var p=d[c];if(p!==a&&p.form===a.form){var g=p[oi]||null;if(!g)throw Error(i(90));Ym(p,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(c=0;c<d.length;c++)p=d[c],p.form===a.form&&_w(p)}break e;case"textarea":Cw(a,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&Va(a,!!d.multiple,c,!1)}}}var eg=!1;function Aw(a,c,d){if(eg)return a(c,d);eg=!0;try{var p=a(c);return p}finally{if(eg=!1,(za!==null||Ua!==null)&&(Yf(),za&&(c=za,a=Ua,Ua=za=null,Ew(c),a)))for(c=0;c<a.length;c++)Ew(a[c])}}function mc(a,c){var d=a.stateNode;if(d===null)return null;var p=d[oi]||null;if(p===null)return null;d=p[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(i(231,c,typeof d));return d}var Js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tg=!1;if(Js)try{var gc={};Object.defineProperty(gc,"passive",{get:function(){tg=!0}}),window.addEventListener("test",gc,gc),window.removeEventListener("test",gc,gc)}catch{tg=!1}var Br=null,ng=null,df=null;function Pw(){if(df)return df;var a,c=ng,d=c.length,p,g="value"in Br?Br.value:Br.textContent,v=g.length;for(a=0;a<d&&c[a]===g[a];a++);var T=d-a;for(p=1;p<=T&&c[d-p]===g[v-p];p++);return df=g.slice(a,1<p?1-p:void 0)}function ff(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function hf(){return!0}function Rw(){return!1}function ai(a){function c(d,p,g,v,T){this._reactName=d,this._targetInst=g,this.type=p,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(d=a[O],this[O]=d?d(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?hf:Rw,this.isPropagationStopped=Rw,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=hf)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=hf)},persist:function(){},isPersistent:hf}),c}var Io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pf=ai(Io),bc=h({},Io,{view:0,detail:0}),H4=ai(bc),ig,sg,yc,mf=h({},bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:og,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yc&&(yc&&a.type==="mousemove"?(ig=a.screenX-yc.screenX,sg=a.screenY-yc.screenY):sg=ig=0,yc=a),ig)},movementY:function(a){return"movementY"in a?a.movementY:sg}}),Ow=ai(mf),j4=h({},mf,{dataTransfer:0}),W4=ai(j4),q4=h({},bc,{relatedTarget:0}),rg=ai(q4),G4=h({},Io,{animationName:0,elapsedTime:0,pseudoElement:0}),K4=ai(G4),Y4=h({},Io,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),X4=ai(Y4),J4=h({},Io,{data:0}),Mw=ai(J4),Z4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t3(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=e3[a])?!!c[a]:!1}function og(){return t3}var n3=h({},bc,{key:function(a){if(a.key){var c=Z4[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=ff(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Q4[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:og,charCode:function(a){return a.type==="keypress"?ff(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ff(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),i3=ai(n3),s3=h({},mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iw=ai(s3),r3=h({},bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:og}),o3=ai(r3),a3=h({},Io,{propertyName:0,elapsedTime:0,pseudoElement:0}),l3=ai(a3),c3=h({},mf,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),u3=ai(c3),d3=h({},Io,{newState:0,oldState:0}),f3=ai(d3),h3=[9,13,27,32],ag=Js&&"CompositionEvent"in window,vc=null;Js&&"documentMode"in document&&(vc=document.documentMode);var p3=Js&&"TextEvent"in window&&!vc,Lw=Js&&(!ag||vc&&8<vc&&11>=vc),Bw=" ",Dw=!1;function Nw(a,c){switch(a){case"keyup":return h3.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var $a=!1;function m3(a,c){switch(a){case"compositionend":return Vw(c);case"keypress":return c.which!==32?null:(Dw=!0,Bw);case"textInput":return a=c.data,a===Bw&&Dw?null:a;default:return null}}function g3(a,c){if($a)return a==="compositionend"||!ag&&Nw(a,c)?(a=Pw(),df=ng=Br=null,$a=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Lw&&c.locale!=="ko"?null:c.data;default:return null}}var b3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fw(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!b3[a.type]:c==="textarea"}function zw(a,c,d,p){za?Ua?Ua.push(p):Ua=[p]:za=p,c=th(c,"onChange"),0<c.length&&(d=new pf("onChange","change",null,d,p),a.push({event:d,listeners:c}))}var wc=null,_c=null;function y3(a){wC(a,0)}function gf(a){var c=pc(a);if(_w(c))return a}function Uw(a,c){if(a==="change")return c}var $w=!1;if(Js){var lg;if(Js){var cg="oninput"in document;if(!cg){var Hw=document.createElement("div");Hw.setAttribute("oninput","return;"),cg=typeof Hw.oninput=="function"}lg=cg}else lg=!1;$w=lg&&(!document.documentMode||9<document.documentMode)}function jw(){wc&&(wc.detachEvent("onpropertychange",Ww),_c=wc=null)}function Ww(a){if(a.propertyName==="value"&&gf(_c)){var c=[];zw(c,_c,a,Qm(a)),Aw(y3,c)}}function v3(a,c,d){a==="focusin"?(jw(),wc=c,_c=d,wc.attachEvent("onpropertychange",Ww)):a==="focusout"&&jw()}function w3(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return gf(_c)}function _3(a,c){if(a==="click")return gf(c)}function k3(a,c){if(a==="input"||a==="change")return gf(c)}function C3(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Si=typeof Object.is=="function"?Object.is:C3;function kc(a,c){if(Si(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var d=Object.keys(a),p=Object.keys(c);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var g=d[p];if(!Le.call(c,g)||!Si(a[g],c[g]))return!1}return!0}function qw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Gw(a,c){var d=qw(a);a=0;for(var p;d;){if(d.nodeType===3){if(p=a+d.textContent.length,a<=c&&p>=c)return{node:d,offset:c-a};a=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=qw(d)}}function Kw(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?Kw(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function Yw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=cf(a.document);c instanceof a.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)a=c.contentWindow;else break;c=cf(a.document)}return c}function ug(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var S3=Js&&"documentMode"in document&&11>=document.documentMode,Ha=null,dg=null,Cc=null,fg=!1;function Xw(a,c,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;fg||Ha==null||Ha!==cf(p)||(p=Ha,"selectionStart"in p&&ug(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Cc&&kc(Cc,p)||(Cc=p,p=th(dg,"onSelect"),0<p.length&&(c=new pf("onSelect","select",null,c,d),a.push({event:c,listeners:p}),c.target=Ha)))}function Lo(a,c){var d={};return d[a.toLowerCase()]=c.toLowerCase(),d["Webkit"+a]="webkit"+c,d["Moz"+a]="moz"+c,d}var ja={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionrun:Lo("Transition","TransitionRun"),transitionstart:Lo("Transition","TransitionStart"),transitioncancel:Lo("Transition","TransitionCancel"),transitionend:Lo("Transition","TransitionEnd")},hg={},Jw={};Js&&(Jw=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Bo(a){if(hg[a])return hg[a];if(!ja[a])return a;var c=ja[a],d;for(d in c)if(c.hasOwnProperty(d)&&d in Jw)return hg[a]=c[d];return a}var Zw=Bo("animationend"),Qw=Bo("animationiteration"),e_=Bo("animationstart"),x3=Bo("transitionrun"),T3=Bo("transitionstart"),E3=Bo("transitioncancel"),t_=Bo("transitionend"),n_=new Map,pg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pg.push("scrollEnd");function fs(a,c){n_.set(a,c),Mo(c,[a])}var i_=new WeakMap;function Wi(a,c){if(typeof a=="object"&&a!==null){var d=i_.get(a);return d!==void 0?d:(c={value:a,source:c,stack:vw(c)},i_.set(a,c),c)}return{value:a,source:c,stack:vw(c)}}var qi=[],Wa=0,mg=0;function bf(){for(var a=Wa,c=mg=Wa=0;c<a;){var d=qi[c];qi[c++]=null;var p=qi[c];qi[c++]=null;var g=qi[c];qi[c++]=null;var v=qi[c];if(qi[c++]=null,p!==null&&g!==null){var T=p.pending;T===null?g.next=g:(g.next=T.next,T.next=g),p.pending=g}v!==0&&s_(d,g,v)}}function yf(a,c,d,p){qi[Wa++]=a,qi[Wa++]=c,qi[Wa++]=d,qi[Wa++]=p,mg|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function gg(a,c,d,p){return yf(a,c,d,p),vf(a)}function qa(a,c){return yf(a,null,null,c),vf(a)}function s_(a,c,d){a.lanes|=d;var p=a.alternate;p!==null&&(p.lanes|=d);for(var g=!1,v=a.return;v!==null;)v.childLanes|=d,p=v.alternate,p!==null&&(p.childLanes|=d),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(g=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,g&&c!==null&&(g=31-Nt(d),a=v.hiddenUpdates,p=a[g],p===null?a[g]=[c]:p.push(c),c.lane=d|536870912),v):null}function vf(a){if(50<Kc)throw Kc=0,kb=null,Error(i(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var Ga={};function A3(a,c,d,p){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(a,c,d,p){return new A3(a,c,d,p)}function bg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Zs(a,c){var d=a.alternate;return d===null?(d=xi(a.tag,c,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=c,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,c=a.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function r_(a,c){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,c=d.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function wf(a,c,d,p,g,v){var T=0;if(p=a,typeof a=="function")bg(a)&&(T=1);else if(typeof a=="string")T=RM(a,d,ge.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case F:return a=xi(31,d,c,g),a.elementType=F,a.lanes=v,a;case _:return Do(d.children,g,v,c);case k:T=8,g|=24;break;case x:return a=xi(12,d,c,g|2),a.elementType=x,a.lanes=v,a;case R:return a=xi(13,d,c,g),a.elementType=R,a.lanes=v,a;case V:return a=xi(19,d,c,g),a.elementType=V,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:case E:T=10;break e;case L:T=9;break e;case P:T=11;break e;case I:T=14;break e;case z:T=16,p=null;break e}T=29,d=Error(i(130,a===null?"null":typeof a,"")),p=null}return c=xi(T,d,c,g),c.elementType=a,c.type=p,c.lanes=v,c}function Do(a,c,d,p){return a=xi(7,a,p,c),a.lanes=d,a}function yg(a,c,d){return a=xi(6,a,null,c),a.lanes=d,a}function vg(a,c,d){return c=xi(4,a.children!==null?a.children:[],a.key,c),c.lanes=d,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var Ka=[],Ya=0,_f=null,kf=0,Gi=[],Ki=0,No=null,Qs=1,er="";function Vo(a,c){Ka[Ya++]=kf,Ka[Ya++]=_f,_f=a,kf=c}function o_(a,c,d){Gi[Ki++]=Qs,Gi[Ki++]=er,Gi[Ki++]=No,No=a;var p=Qs;a=er;var g=32-Nt(p)-1;p&=~(1<<g),d+=1;var v=32-Nt(c)+g;if(30<v){var T=g-g%5;v=(p&(1<<T)-1).toString(32),p>>=T,g-=T,Qs=1<<32-Nt(c)+g|d<<g|p,er=v+a}else Qs=1<<v|d<<g|p,er=a}function wg(a){a.return!==null&&(Vo(a,1),o_(a,1,0))}function _g(a){for(;a===_f;)_f=Ka[--Ya],Ka[Ya]=null,kf=Ka[--Ya],Ka[Ya]=null;for(;a===No;)No=Gi[--Ki],Gi[Ki]=null,er=Gi[--Ki],Gi[Ki]=null,Qs=Gi[--Ki],Gi[Ki]=null}var ei=null,Jt=null,mt=!1,Fo=null,Ts=!1,kg=Error(i(519));function zo(a){var c=Error(i(418,""));throw Tc(Wi(c,a)),kg}function a_(a){var c=a.stateNode,d=a.type,p=a.memoizedProps;switch(c[jn]=a,c[oi]=p,d){case"dialog":st("cancel",c),st("close",c);break;case"iframe":case"object":case"embed":st("load",c);break;case"video":case"audio":for(d=0;d<Xc.length;d++)st(Xc[d],c);break;case"source":st("error",c);break;case"img":case"image":case"link":st("error",c),st("load",c);break;case"details":st("toggle",c);break;case"input":st("invalid",c),kw(c,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),lf(c);break;case"select":st("invalid",c);break;case"textarea":st("invalid",c),Sw(c,p.value,p.defaultValue,p.children),lf(c)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||p.suppressHydrationWarning===!0||SC(c.textContent,d)?(p.popover!=null&&(st("beforetoggle",c),st("toggle",c)),p.onScroll!=null&&st("scroll",c),p.onScrollEnd!=null&&st("scrollend",c),p.onClick!=null&&(c.onclick=nh),c=!0):c=!1,c||zo(a)}function l_(a){for(ei=a.return;ei;)switch(ei.tag){case 5:case 13:Ts=!1;return;case 27:case 3:Ts=!0;return;default:ei=ei.return}}function Sc(a){if(a!==ei)return!1;if(!mt)return l_(a),mt=!0,!1;var c=a.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||Vb(a.type,a.memoizedProps)),d=!d),d&&Jt&&zo(a),l_(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8)if(d=a.data,d==="/$"){if(c===0){Jt=ps(a.nextSibling);break e}c--}else d!=="$"&&d!=="$!"&&d!=="$?"||c++;a=a.nextSibling}Jt=null}}else c===27?(c=Jt,Jr(a.type)?(a=$b,$b=null,Jt=a):Jt=c):Jt=ei?ps(a.stateNode.nextSibling):null;return!0}function xc(){Jt=ei=null,mt=!1}function c_(){var a=Fo;return a!==null&&(ui===null?ui=a:ui.push.apply(ui,a),Fo=null),a}function Tc(a){Fo===null?Fo=[a]:Fo.push(a)}var Cg=Z(null),Uo=null,tr=null;function Dr(a,c,d){re(Cg,c._currentValue),c._currentValue=d}function nr(a){a._currentValue=Cg.current,ae(Cg)}function Sg(a,c,d){for(;a!==null;){var p=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),a===d)break;a=a.return}}function xg(a,c,d,p){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var v=g.dependencies;if(v!==null){var T=g.child;v=v.firstContext;e:for(;v!==null;){var O=v;v=g;for(var $=0;$<c.length;$++)if(O.context===c[$]){v.lanes|=d,O=v.alternate,O!==null&&(O.lanes|=d),Sg(v.return,d,a),p||(T=null);break e}v=O.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(i(341));T.lanes|=d,v=T.alternate,v!==null&&(v.lanes|=d),Sg(T,d,a),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===a){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function Ec(a,c,d,p){a=null;for(var g=c,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var O=g.type;Si(g.pendingProps.value,T.value)||(a!==null?a.push(O):a=[O])}}else if(g===de.current){if(T=g.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(nu):a=[nu])}g=g.return}a!==null&&xg(c,a,d,p),c.flags|=262144}function Cf(a){for(a=a.firstContext;a!==null;){if(!Si(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function $o(a){Uo=a,tr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Wn(a){return u_(Uo,a)}function Sf(a,c){return Uo===null&&$o(a),u_(a,c)}function u_(a,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},tr===null){if(a===null)throw Error(i(308));tr=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else tr=tr.next=c;return d}var P3=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(d,p){a.push(p)}};this.abort=function(){c.aborted=!0,a.forEach(function(d){return d()})}},R3=n.unstable_scheduleCallback,O3=n.unstable_NormalPriority,wn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tg(){return{controller:new P3,data:new Map,refCount:0}}function Ac(a){a.refCount--,a.refCount===0&&R3(O3,function(){a.controller.abort()})}var Pc=null,Eg=0,Xa=0,Ja=null;function M3(a,c){if(Pc===null){var d=Pc=[];Eg=0,Xa=Pb(),Ja={status:"pending",value:void 0,then:function(p){d.push(p)}}}return Eg++,c.then(d_,d_),c}function d_(){if(--Eg===0&&Pc!==null){Ja!==null&&(Ja.status="fulfilled");var a=Pc;Pc=null,Xa=0,Ja=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function I3(a,c){var d=[],p={status:"pending",value:null,reason:null,then:function(g){d.push(g)}};return a.then(function(){p.status="fulfilled",p.value=c;for(var g=0;g<d.length;g++)(0,d[g])(c)},function(g){for(p.status="rejected",p.reason=g,g=0;g<d.length;g++)(0,d[g])(void 0)}),p}var f_=M.S;M.S=function(a,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&M3(a,c),f_!==null&&f_(a,c)};var Ho=Z(null);function Ag(){var a=Ho.current;return a!==null?a:Vt.pooledCache}function xf(a,c){c===null?re(Ho,Ho.current):re(Ho,c.pool)}function h_(){var a=Ag();return a===null?null:{parent:wn._currentValue,pool:a}}var Rc=Error(i(460)),p_=Error(i(474)),Tf=Error(i(542)),Pg={then:function(){}};function m_(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Ef(){}function g_(a,c,d){switch(d=a[d],d===void 0?a.push(c):d!==c&&(c.then(Ef,Ef),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,y_(a),a;default:if(typeof c.status=="string")c.then(Ef,Ef);else{if(a=Vt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=c,a.status="pending",a.then(function(p){if(c.status==="pending"){var g=c;g.status="fulfilled",g.value=p}},function(p){if(c.status==="pending"){var g=c;g.status="rejected",g.reason=p}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,y_(a),a}throw Oc=c,Rc}}var Oc=null;function b_(){if(Oc===null)throw Error(i(459));var a=Oc;return Oc=null,a}function y_(a){if(a===Rc||a===Tf)throw Error(i(483))}var Nr=!1;function Rg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Og(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Vr(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Fr(a,c,d){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(wt&2)!==0){var g=p.pending;return g===null?c.next=c:(c.next=g.next,g.next=c),p.pending=c,c=vf(a),s_(a,null,d),c}return yf(a,p,c,d),vf(a)}function Mc(a,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var p=c.lanes;p&=a.pendingLanes,d|=p,c.lanes=d,sf(a,d)}}function Mg(a,c){var d=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var g=null,v=null;if(d=d.firstBaseUpdate,d!==null){do{var T={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};v===null?g=v=T:v=v.next=T,d=d.next}while(d!==null);v===null?g=v=c:v=v.next=c}else g=v=c;d={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:p.shared,callbacks:p.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=c}var Ig=!1;function Ic(){if(Ig){var a=Ja;if(a!==null)throw a}}function Lc(a,c,d,p){Ig=!1;var g=a.updateQueue;Nr=!1;var v=g.firstBaseUpdate,T=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var $=O,te=$.next;$.next=null,T===null?v=te:T.next=te,T=$;var ue=a.alternate;ue!==null&&(ue=ue.updateQueue,O=ue.lastBaseUpdate,O!==T&&(O===null?ue.firstBaseUpdate=te:O.next=te,ue.lastBaseUpdate=$))}if(v!==null){var me=g.baseState;T=0,ue=te=$=null,O=v;do{var ne=O.lane&-536870913,se=ne!==O.lane;if(se?(at&ne)===ne:(p&ne)===ne){ne!==0&&ne===Xa&&(Ig=!0),ue!==null&&(ue=ue.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Fe=a,Ne=O;ne=c;var Tt=d;switch(Ne.tag){case 1:if(Fe=Ne.payload,typeof Fe=="function"){me=Fe.call(Tt,me,ne);break e}me=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Ne.payload,ne=typeof Fe=="function"?Fe.call(Tt,me,ne):Fe,ne==null)break e;me=h({},me,ne);break e;case 2:Nr=!0}}ne=O.callback,ne!==null&&(a.flags|=64,se&&(a.flags|=8192),se=g.callbacks,se===null?g.callbacks=[ne]:se.push(ne))}else se={lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ue===null?(te=ue=se,$=me):ue=ue.next=se,T|=ne;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;se=O,O=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);ue===null&&($=me),g.baseState=$,g.firstBaseUpdate=te,g.lastBaseUpdate=ue,v===null&&(g.shared.lanes=0),Gr|=T,a.lanes=T,a.memoizedState=me}}function v_(a,c){if(typeof a!="function")throw Error(i(191,a));a.call(c)}function w_(a,c){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)v_(d[a],c)}var Za=Z(null),Af=Z(0);function __(a,c){a=cr,re(Af,a),re(Za,c),cr=a|c.baseLanes}function Lg(){re(Af,cr),re(Za,Za.current)}function Bg(){cr=Af.current,ae(Za),ae(Af)}var zr=0,Ze=null,St=null,hn=null,Pf=!1,Qa=!1,jo=!1,Rf=0,Bc=0,el=null,L3=0;function ln(){throw Error(i(321))}function Dg(a,c){if(c===null)return!1;for(var d=0;d<c.length&&d<a.length;d++)if(!Si(a[d],c[d]))return!1;return!0}function Ng(a,c,d,p,g,v){return zr=v,Ze=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,M.H=a===null||a.memoizedState===null?sk:rk,jo=!1,v=d(p,g),jo=!1,Qa&&(v=C_(c,d,p,g)),k_(a),v}function k_(a){M.H=Df;var c=St!==null&&St.next!==null;if(zr=0,hn=St=Ze=null,Pf=!1,Bc=0,el=null,c)throw Error(i(300));a===null||An||(a=a.dependencies,a!==null&&Cf(a)&&(An=!0))}function C_(a,c,d,p){Ze=a;var g=0;do{if(Qa&&(el=null),Bc=0,Qa=!1,25<=g)throw Error(i(301));if(g+=1,hn=St=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}M.H=U3,v=c(d,p)}while(Qa);return v}function B3(){var a=M.H,c=a.useState()[0];return c=typeof c.then=="function"?Dc(c):c,a=a.useState()[0],(St!==null?St.memoizedState:null)!==a&&(Ze.flags|=1024),c}function Vg(){var a=Rf!==0;return Rf=0,a}function Fg(a,c,d){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~d}function zg(a){if(Pf){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Pf=!1}zr=0,hn=St=Ze=null,Qa=!1,Bc=Rf=0,el=null}function li(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Ze.memoizedState=hn=a:hn=hn.next=a,hn}function pn(){if(St===null){var a=Ze.alternate;a=a!==null?a.memoizedState:null}else a=St.next;var c=hn===null?Ze.memoizedState:hn.next;if(c!==null)hn=c,St=a;else{if(a===null)throw Ze.alternate===null?Error(i(467)):Error(i(310));St=a,a={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},hn===null?Ze.memoizedState=hn=a:hn=hn.next=a}return hn}function Ug(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dc(a){var c=Bc;return Bc+=1,el===null&&(el=[]),a=g_(el,a,c),c=Ze,(hn===null?c.memoizedState:hn.next)===null&&(c=c.alternate,M.H=c===null||c.memoizedState===null?sk:rk),a}function Of(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Dc(a);if(a.$$typeof===E)return Wn(a)}throw Error(i(438,String(a)))}function $g(a){var c=null,d=Ze.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var p=Ze.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(c={data:p.data.map(function(g){return g.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=Ug(),Ze.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(a),p=0;p<a;p++)d[p]=C;return c.index++,d}function ir(a,c){return typeof c=="function"?c(a):c}function Mf(a){var c=pn();return Hg(c,St,a)}function Hg(a,c,d){var p=a.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=d;var g=a.baseQueue,v=p.pending;if(v!==null){if(g!==null){var T=g.next;g.next=v.next,v.next=T}c.baseQueue=g=v,p.pending=null}if(v=a.baseState,g===null)a.memoizedState=v;else{c=g.next;var O=T=null,$=null,te=c,ue=!1;do{var me=te.lane&-536870913;if(me!==te.lane?(at&me)===me:(zr&me)===me){var ne=te.revertLane;if(ne===0)$!==null&&($=$.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),me===Xa&&(ue=!0);else if((zr&ne)===ne){te=te.next,ne===Xa&&(ue=!0);continue}else me={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},$===null?(O=$=me,T=v):$=$.next=me,Ze.lanes|=ne,Gr|=ne;me=te.action,jo&&d(v,me),v=te.hasEagerState?te.eagerState:d(v,me)}else ne={lane:me,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},$===null?(O=$=ne,T=v):$=$.next=ne,Ze.lanes|=me,Gr|=me;te=te.next}while(te!==null&&te!==c);if($===null?T=v:$.next=O,!Si(v,a.memoizedState)&&(An=!0,ue&&(d=Ja,d!==null)))throw d;a.memoizedState=v,a.baseState=T,a.baseQueue=$,p.lastRenderedState=v}return g===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function jg(a){var c=pn(),d=c.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=a;var p=d.dispatch,g=d.pending,v=c.memoizedState;if(g!==null){d.pending=null;var T=g=g.next;do v=a(v,T.action),T=T.next;while(T!==g);Si(v,c.memoizedState)||(An=!0),c.memoizedState=v,c.baseQueue===null&&(c.baseState=v),d.lastRenderedState=v}return[v,p]}function S_(a,c,d){var p=Ze,g=pn(),v=mt;if(v){if(d===void 0)throw Error(i(407));d=d()}else d=c();var T=!Si((St||g).memoizedState,d);T&&(g.memoizedState=d,An=!0),g=g.queue;var O=E_.bind(null,p,g,a);if(Nc(2048,8,O,[a]),g.getSnapshot!==c||T||hn!==null&&hn.memoizedState.tag&1){if(p.flags|=2048,tl(9,If(),T_.bind(null,p,g,d,c),null),Vt===null)throw Error(i(349));v||(zr&124)!==0||x_(p,c,d)}return d}function x_(a,c,d){a.flags|=16384,a={getSnapshot:c,value:d},c=Ze.updateQueue,c===null?(c=Ug(),Ze.updateQueue=c,c.stores=[a]):(d=c.stores,d===null?c.stores=[a]:d.push(a))}function T_(a,c,d,p){c.value=d,c.getSnapshot=p,A_(c)&&P_(a)}function E_(a,c,d){return d(function(){A_(c)&&P_(a)})}function A_(a){var c=a.getSnapshot;a=a.value;try{var d=c();return!Si(a,d)}catch{return!0}}function P_(a){var c=qa(a,2);c!==null&&Ri(c,a,2)}function Wg(a){var c=li();if(typeof a=="function"){var d=a;if(a=d(),jo){fn(!0);try{d()}finally{fn(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},c}function R_(a,c,d,p){return a.baseState=d,Hg(a,St,typeof p=="function"?p:ir)}function D3(a,c,d,p,g){if(Bf(a))throw Error(i(485));if(a=c.action,a!==null){var v={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){v.listeners.push(T)}};M.T!==null?d(!0):v.isTransition=!1,p(v),d=c.pending,d===null?(v.next=c.pending=v,O_(c,v)):(v.next=d.next,c.pending=d.next=v)}}function O_(a,c){var d=c.action,p=c.payload,g=a.state;if(c.isTransition){var v=M.T,T={};M.T=T;try{var O=d(g,p),$=M.S;$!==null&&$(T,O),M_(a,c,O)}catch(te){qg(a,c,te)}finally{M.T=v}}else try{v=d(g,p),M_(a,c,v)}catch(te){qg(a,c,te)}}function M_(a,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){I_(a,c,p)},function(p){return qg(a,c,p)}):I_(a,c,d)}function I_(a,c,d){c.status="fulfilled",c.value=d,L_(c),a.state=d,c=a.pending,c!==null&&(d=c.next,d===c?a.pending=null:(d=d.next,c.next=d,O_(a,d)))}function qg(a,c,d){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do c.status="rejected",c.reason=d,L_(c),c=c.next;while(c!==p)}a.action=null}function L_(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function B_(a,c){return c}function D_(a,c){if(mt){var d=Vt.formState;if(d!==null){e:{var p=Ze;if(mt){if(Jt){t:{for(var g=Jt,v=Ts;g.nodeType!==8;){if(!v){g=null;break t}if(g=ps(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Jt=ps(g.nextSibling),p=g.data==="F!";break e}}zo(p)}p=!1}p&&(c=d[0])}}return d=li(),d.memoizedState=d.baseState=c,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:B_,lastRenderedState:c},d.queue=p,d=tk.bind(null,Ze,p),p.dispatch=d,p=Wg(!1),v=Jg.bind(null,Ze,!1,p.queue),p=li(),g={state:c,dispatch:null,action:a,pending:null},p.queue=g,d=D3.bind(null,Ze,g,v,d),g.dispatch=d,p.memoizedState=a,[c,d,!1]}function N_(a){var c=pn();return V_(c,St,a)}function V_(a,c,d){if(c=Hg(a,c,B_)[0],a=Mf(ir)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var p=Dc(c)}catch(T){throw T===Rc?Tf:T}else p=c;c=pn();var g=c.queue,v=g.dispatch;return d!==c.memoizedState&&(Ze.flags|=2048,tl(9,If(),N3.bind(null,g,d),null)),[p,v,a]}function N3(a,c){a.action=c}function F_(a){var c=pn(),d=St;if(d!==null)return V_(c,d,a);pn(),c=c.memoizedState,d=pn();var p=d.queue.dispatch;return d.memoizedState=a,[c,p,!1]}function tl(a,c,d,p){return a={tag:a,create:d,deps:p,inst:c,next:null},c=Ze.updateQueue,c===null&&(c=Ug(),Ze.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=a.next=a:(p=d.next,d.next=a,a.next=p,c.lastEffect=a),a}function If(){return{destroy:void 0,resource:void 0}}function z_(){return pn().memoizedState}function Lf(a,c,d,p){var g=li();p=p===void 0?null:p,Ze.flags|=a,g.memoizedState=tl(1|c,If(),d,p)}function Nc(a,c,d,p){var g=pn();p=p===void 0?null:p;var v=g.memoizedState.inst;St!==null&&p!==null&&Dg(p,St.memoizedState.deps)?g.memoizedState=tl(c,v,d,p):(Ze.flags|=a,g.memoizedState=tl(1|c,v,d,p))}function U_(a,c){Lf(8390656,8,a,c)}function $_(a,c){Nc(2048,8,a,c)}function H_(a,c){return Nc(4,2,a,c)}function j_(a,c){return Nc(4,4,a,c)}function W_(a,c){if(typeof c=="function"){a=a();var d=c(a);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function q_(a,c,d){d=d!=null?d.concat([a]):null,Nc(4,4,W_.bind(null,c,a),d)}function Gg(){}function G_(a,c){var d=pn();c=c===void 0?null:c;var p=d.memoizedState;return c!==null&&Dg(c,p[1])?p[0]:(d.memoizedState=[a,c],a)}function K_(a,c){var d=pn();c=c===void 0?null:c;var p=d.memoizedState;if(c!==null&&Dg(c,p[1]))return p[0];if(p=a(),jo){fn(!0);try{a()}finally{fn(!1)}}return d.memoizedState=[p,c],p}function Kg(a,c,d){return d===void 0||(zr&1073741824)!==0?a.memoizedState=c:(a.memoizedState=d,a=Jk(),Ze.lanes|=a,Gr|=a,d)}function Y_(a,c,d,p){return Si(d,c)?d:Za.current!==null?(a=Kg(a,d,p),Si(a,c)||(An=!0),a):(zr&42)===0?(An=!0,a.memoizedState=d):(a=Jk(),Ze.lanes|=a,Gr|=a,c)}function X_(a,c,d,p,g){var v=U.p;U.p=v!==0&&8>v?v:8;var T=M.T,O={};M.T=O,Jg(a,!1,c,d);try{var $=g(),te=M.S;if(te!==null&&te(O,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ue=I3($,p);Vc(a,c,ue,Pi(a))}else Vc(a,c,p,Pi(a))}catch(me){Vc(a,c,{then:function(){},status:"rejected",reason:me},Pi())}finally{U.p=v,M.T=T}}function V3(){}function Yg(a,c,d,p){if(a.tag!==5)throw Error(i(476));var g=J_(a).queue;X_(a,g,c,K,d===null?V3:function(){return Z_(a),d(p)})}function J_(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:K},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:d},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function Z_(a){var c=J_(a).next.queue;Vc(a,c,{},Pi())}function Xg(){return Wn(nu)}function Q_(){return pn().memoizedState}function ek(){return pn().memoizedState}function F3(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var d=Pi();a=Vr(d);var p=Fr(c,a,d);p!==null&&(Ri(p,c,d),Mc(p,c,d)),c={cache:Tg()},a.payload=c;return}c=c.return}}function z3(a,c,d){var p=Pi();d={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Bf(a)?nk(c,d):(d=gg(a,c,d,p),d!==null&&(Ri(d,a,p),ik(d,c,p)))}function tk(a,c,d){var p=Pi();Vc(a,c,d,p)}function Vc(a,c,d,p){var g={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Bf(a))nk(c,g);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=c.lastRenderedReducer,v!==null))try{var T=c.lastRenderedState,O=v(T,d);if(g.hasEagerState=!0,g.eagerState=O,Si(O,T))return yf(a,c,g,0),Vt===null&&bf(),!1}catch{}finally{}if(d=gg(a,c,g,p),d!==null)return Ri(d,a,p),ik(d,c,p),!0}return!1}function Jg(a,c,d,p){if(p={lane:2,revertLane:Pb(),action:p,hasEagerState:!1,eagerState:null,next:null},Bf(a)){if(c)throw Error(i(479))}else c=gg(a,d,p,2),c!==null&&Ri(c,a,2)}function Bf(a){var c=a.alternate;return a===Ze||c!==null&&c===Ze}function nk(a,c){Qa=Pf=!0;var d=a.pending;d===null?c.next=c:(c.next=d.next,d.next=c),a.pending=c}function ik(a,c,d){if((d&4194048)!==0){var p=c.lanes;p&=a.pendingLanes,d|=p,c.lanes=d,sf(a,d)}}var Df={readContext:Wn,use:Of,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln},sk={readContext:Wn,use:Of,useCallback:function(a,c){return li().memoizedState=[a,c===void 0?null:c],a},useContext:Wn,useEffect:U_,useImperativeHandle:function(a,c,d){d=d!=null?d.concat([a]):null,Lf(4194308,4,W_.bind(null,c,a),d)},useLayoutEffect:function(a,c){return Lf(4194308,4,a,c)},useInsertionEffect:function(a,c){Lf(4,2,a,c)},useMemo:function(a,c){var d=li();c=c===void 0?null:c;var p=a();if(jo){fn(!0);try{a()}finally{fn(!1)}}return d.memoizedState=[p,c],p},useReducer:function(a,c,d){var p=li();if(d!==void 0){var g=d(c);if(jo){fn(!0);try{d(c)}finally{fn(!1)}}}else g=c;return p.memoizedState=p.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},p.queue=a,a=a.dispatch=z3.bind(null,Ze,a),[p.memoizedState,a]},useRef:function(a){var c=li();return a={current:a},c.memoizedState=a},useState:function(a){a=Wg(a);var c=a.queue,d=tk.bind(null,Ze,c);return c.dispatch=d,[a.memoizedState,d]},useDebugValue:Gg,useDeferredValue:function(a,c){var d=li();return Kg(d,a,c)},useTransition:function(){var a=Wg(!1);return a=X_.bind(null,Ze,a.queue,!0,!1),li().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,d){var p=Ze,g=li();if(mt){if(d===void 0)throw Error(i(407));d=d()}else{if(d=c(),Vt===null)throw Error(i(349));(at&124)!==0||x_(p,c,d)}g.memoizedState=d;var v={value:d,getSnapshot:c};return g.queue=v,U_(E_.bind(null,p,v,a),[a]),p.flags|=2048,tl(9,If(),T_.bind(null,p,v,d,c),null),d},useId:function(){var a=li(),c=Vt.identifierPrefix;if(mt){var d=er,p=Qs;d=(p&~(1<<32-Nt(p)-1)).toString(32)+d,c="«"+c+"R"+d,d=Rf++,0<d&&(c+="H"+d.toString(32)),c+="»"}else d=L3++,c="«"+c+"r"+d.toString(32)+"»";return a.memoizedState=c},useHostTransitionStatus:Xg,useFormState:D_,useActionState:D_,useOptimistic:function(a){var c=li();c.memoizedState=c.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=Jg.bind(null,Ze,!0,d),d.dispatch=c,[a,c]},useMemoCache:$g,useCacheRefresh:function(){return li().memoizedState=F3.bind(null,Ze)}},rk={readContext:Wn,use:Of,useCallback:G_,useContext:Wn,useEffect:$_,useImperativeHandle:q_,useInsertionEffect:H_,useLayoutEffect:j_,useMemo:K_,useReducer:Mf,useRef:z_,useState:function(){return Mf(ir)},useDebugValue:Gg,useDeferredValue:function(a,c){var d=pn();return Y_(d,St.memoizedState,a,c)},useTransition:function(){var a=Mf(ir)[0],c=pn().memoizedState;return[typeof a=="boolean"?a:Dc(a),c]},useSyncExternalStore:S_,useId:Q_,useHostTransitionStatus:Xg,useFormState:N_,useActionState:N_,useOptimistic:function(a,c){var d=pn();return R_(d,St,a,c)},useMemoCache:$g,useCacheRefresh:ek},U3={readContext:Wn,use:Of,useCallback:G_,useContext:Wn,useEffect:$_,useImperativeHandle:q_,useInsertionEffect:H_,useLayoutEffect:j_,useMemo:K_,useReducer:jg,useRef:z_,useState:function(){return jg(ir)},useDebugValue:Gg,useDeferredValue:function(a,c){var d=pn();return St===null?Kg(d,a,c):Y_(d,St.memoizedState,a,c)},useTransition:function(){var a=jg(ir)[0],c=pn().memoizedState;return[typeof a=="boolean"?a:Dc(a),c]},useSyncExternalStore:S_,useId:Q_,useHostTransitionStatus:Xg,useFormState:F_,useActionState:F_,useOptimistic:function(a,c){var d=pn();return St!==null?R_(d,St,a,c):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:$g,useCacheRefresh:ek},nl=null,Fc=0;function Nf(a){var c=Fc;return Fc+=1,nl===null&&(nl=[]),g_(nl,a,c)}function zc(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function Vf(a,c){throw c.$$typeof===m?Error(i(525)):(a=Object.prototype.toString.call(c),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function ok(a){var c=a._init;return c(a._payload)}function ak(a){function c(X,q){if(a){var ee=X.deletions;ee===null?(X.deletions=[q],X.flags|=16):ee.push(q)}}function d(X,q){if(!a)return null;for(;q!==null;)c(X,q),q=q.sibling;return null}function p(X){for(var q=new Map;X!==null;)X.key!==null?q.set(X.key,X):q.set(X.index,X),X=X.sibling;return q}function g(X,q){return X=Zs(X,q),X.index=0,X.sibling=null,X}function v(X,q,ee){return X.index=ee,a?(ee=X.alternate,ee!==null?(ee=ee.index,ee<q?(X.flags|=67108866,q):ee):(X.flags|=67108866,q)):(X.flags|=1048576,q)}function T(X){return a&&X.alternate===null&&(X.flags|=67108866),X}function O(X,q,ee,fe){return q===null||q.tag!==6?(q=yg(ee,X.mode,fe),q.return=X,q):(q=g(q,ee),q.return=X,q)}function $(X,q,ee,fe){var xe=ee.type;return xe===_?ue(X,q,ee.props.children,fe,ee.key):q!==null&&(q.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===z&&ok(xe)===q.type)?(q=g(q,ee.props),zc(q,ee),q.return=X,q):(q=wf(ee.type,ee.key,ee.props,null,X.mode,fe),zc(q,ee),q.return=X,q)}function te(X,q,ee,fe){return q===null||q.tag!==4||q.stateNode.containerInfo!==ee.containerInfo||q.stateNode.implementation!==ee.implementation?(q=vg(ee,X.mode,fe),q.return=X,q):(q=g(q,ee.children||[]),q.return=X,q)}function ue(X,q,ee,fe,xe){return q===null||q.tag!==7?(q=Do(ee,X.mode,fe,xe),q.return=X,q):(q=g(q,ee),q.return=X,q)}function me(X,q,ee){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=yg(""+q,X.mode,ee),q.return=X,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return ee=wf(q.type,q.key,q.props,null,X.mode,ee),zc(ee,q),ee.return=X,ee;case w:return q=vg(q,X.mode,ee),q.return=X,q;case z:var fe=q._init;return q=fe(q._payload),me(X,q,ee)}if(W(q)||H(q))return q=Do(q,X.mode,ee,null),q.return=X,q;if(typeof q.then=="function")return me(X,Nf(q),ee);if(q.$$typeof===E)return me(X,Sf(X,q),ee);Vf(X,q)}return null}function ne(X,q,ee,fe){var xe=q!==null?q.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return xe!==null?null:O(X,q,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ee.key===xe?$(X,q,ee,fe):null;case w:return ee.key===xe?te(X,q,ee,fe):null;case z:return xe=ee._init,ee=xe(ee._payload),ne(X,q,ee,fe)}if(W(ee)||H(ee))return xe!==null?null:ue(X,q,ee,fe,null);if(typeof ee.then=="function")return ne(X,q,Nf(ee),fe);if(ee.$$typeof===E)return ne(X,q,Sf(X,ee),fe);Vf(X,ee)}return null}function se(X,q,ee,fe,xe){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return X=X.get(ee)||null,O(q,X,""+fe,xe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return X=X.get(fe.key===null?ee:fe.key)||null,$(q,X,fe,xe);case w:return X=X.get(fe.key===null?ee:fe.key)||null,te(q,X,fe,xe);case z:var tt=fe._init;return fe=tt(fe._payload),se(X,q,ee,fe,xe)}if(W(fe)||H(fe))return X=X.get(ee)||null,ue(q,X,fe,xe,null);if(typeof fe.then=="function")return se(X,q,ee,Nf(fe),xe);if(fe.$$typeof===E)return se(X,q,ee,Sf(q,fe),xe);Vf(q,fe)}return null}function Fe(X,q,ee,fe){for(var xe=null,tt=null,Me=q,Ve=q=0,Rn=null;Me!==null&&Ve<ee.length;Ve++){Me.index>Ve?(Rn=Me,Me=null):Rn=Me.sibling;var ht=ne(X,Me,ee[Ve],fe);if(ht===null){Me===null&&(Me=Rn);break}a&&Me&&ht.alternate===null&&c(X,Me),q=v(ht,q,Ve),tt===null?xe=ht:tt.sibling=ht,tt=ht,Me=Rn}if(Ve===ee.length)return d(X,Me),mt&&Vo(X,Ve),xe;if(Me===null){for(;Ve<ee.length;Ve++)Me=me(X,ee[Ve],fe),Me!==null&&(q=v(Me,q,Ve),tt===null?xe=Me:tt.sibling=Me,tt=Me);return mt&&Vo(X,Ve),xe}for(Me=p(Me);Ve<ee.length;Ve++)Rn=se(Me,X,Ve,ee[Ve],fe),Rn!==null&&(a&&Rn.alternate!==null&&Me.delete(Rn.key===null?Ve:Rn.key),q=v(Rn,q,Ve),tt===null?xe=Rn:tt.sibling=Rn,tt=Rn);return a&&Me.forEach(function(no){return c(X,no)}),mt&&Vo(X,Ve),xe}function Ne(X,q,ee,fe){if(ee==null)throw Error(i(151));for(var xe=null,tt=null,Me=q,Ve=q=0,Rn=null,ht=ee.next();Me!==null&&!ht.done;Ve++,ht=ee.next()){Me.index>Ve?(Rn=Me,Me=null):Rn=Me.sibling;var no=ne(X,Me,ht.value,fe);if(no===null){Me===null&&(Me=Rn);break}a&&Me&&no.alternate===null&&c(X,Me),q=v(no,q,Ve),tt===null?xe=no:tt.sibling=no,tt=no,Me=Rn}if(ht.done)return d(X,Me),mt&&Vo(X,Ve),xe;if(Me===null){for(;!ht.done;Ve++,ht=ee.next())ht=me(X,ht.value,fe),ht!==null&&(q=v(ht,q,Ve),tt===null?xe=ht:tt.sibling=ht,tt=ht);return mt&&Vo(X,Ve),xe}for(Me=p(Me);!ht.done;Ve++,ht=ee.next())ht=se(Me,X,Ve,ht.value,fe),ht!==null&&(a&&ht.alternate!==null&&Me.delete(ht.key===null?Ve:ht.key),q=v(ht,q,Ve),tt===null?xe=ht:tt.sibling=ht,tt=ht);return a&&Me.forEach(function($M){return c(X,$M)}),mt&&Vo(X,Ve),xe}function Tt(X,q,ee,fe){if(typeof ee=="object"&&ee!==null&&ee.type===_&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:e:{for(var xe=ee.key;q!==null;){if(q.key===xe){if(xe=ee.type,xe===_){if(q.tag===7){d(X,q.sibling),fe=g(q,ee.props.children),fe.return=X,X=fe;break e}}else if(q.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===z&&ok(xe)===q.type){d(X,q.sibling),fe=g(q,ee.props),zc(fe,ee),fe.return=X,X=fe;break e}d(X,q);break}else c(X,q);q=q.sibling}ee.type===_?(fe=Do(ee.props.children,X.mode,fe,ee.key),fe.return=X,X=fe):(fe=wf(ee.type,ee.key,ee.props,null,X.mode,fe),zc(fe,ee),fe.return=X,X=fe)}return T(X);case w:e:{for(xe=ee.key;q!==null;){if(q.key===xe)if(q.tag===4&&q.stateNode.containerInfo===ee.containerInfo&&q.stateNode.implementation===ee.implementation){d(X,q.sibling),fe=g(q,ee.children||[]),fe.return=X,X=fe;break e}else{d(X,q);break}else c(X,q);q=q.sibling}fe=vg(ee,X.mode,fe),fe.return=X,X=fe}return T(X);case z:return xe=ee._init,ee=xe(ee._payload),Tt(X,q,ee,fe)}if(W(ee))return Fe(X,q,ee,fe);if(H(ee)){if(xe=H(ee),typeof xe!="function")throw Error(i(150));return ee=xe.call(ee),Ne(X,q,ee,fe)}if(typeof ee.then=="function")return Tt(X,q,Nf(ee),fe);if(ee.$$typeof===E)return Tt(X,q,Sf(X,ee),fe);Vf(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,q!==null&&q.tag===6?(d(X,q.sibling),fe=g(q,ee),fe.return=X,X=fe):(d(X,q),fe=yg(ee,X.mode,fe),fe.return=X,X=fe),T(X)):d(X,q)}return function(X,q,ee,fe){try{Fc=0;var xe=Tt(X,q,ee,fe);return nl=null,xe}catch(Me){if(Me===Rc||Me===Tf)throw Me;var tt=xi(29,Me,null,X.mode);return tt.lanes=fe,tt.return=X,tt}finally{}}}var il=ak(!0),lk=ak(!1),Yi=Z(null),Es=null;function Ur(a){var c=a.alternate;re(_n,_n.current&1),re(Yi,a),Es===null&&(c===null||Za.current!==null||c.memoizedState!==null)&&(Es=a)}function ck(a){if(a.tag===22){if(re(_n,_n.current),re(Yi,a),Es===null){var c=a.alternate;c!==null&&c.memoizedState!==null&&(Es=a)}}else $r()}function $r(){re(_n,_n.current),re(Yi,Yi.current)}function sr(a){ae(Yi),Es===a&&(Es=null),ae(_n)}var _n=Z(0);function Ff(a){for(var c=a;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||Ub(d)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function Zg(a,c,d,p){c=a.memoizedState,d=d(p,c),d=d==null?c:h({},c,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Qg={enqueueSetState:function(a,c,d){a=a._reactInternals;var p=Pi(),g=Vr(p);g.payload=c,d!=null&&(g.callback=d),c=Fr(a,g,p),c!==null&&(Ri(c,a,p),Mc(c,a,p))},enqueueReplaceState:function(a,c,d){a=a._reactInternals;var p=Pi(),g=Vr(p);g.tag=1,g.payload=c,d!=null&&(g.callback=d),c=Fr(a,g,p),c!==null&&(Ri(c,a,p),Mc(c,a,p))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var d=Pi(),p=Vr(d);p.tag=2,c!=null&&(p.callback=c),c=Fr(a,p,d),c!==null&&(Ri(c,a,d),Mc(c,a,d))}};function uk(a,c,d,p,g,v,T){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,v,T):c.prototype&&c.prototype.isPureReactComponent?!kc(d,p)||!kc(g,v):!0}function dk(a,c,d,p){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,p),c.state!==a&&Qg.enqueueReplaceState(c,c.state,null)}function Wo(a,c){var d=c;if("ref"in c){d={};for(var p in c)p!=="ref"&&(d[p]=c[p])}if(a=a.defaultProps){d===c&&(d=h({},d));for(var g in a)d[g]===void 0&&(d[g]=a[g])}return d}var zf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function fk(a){zf(a)}function hk(a){console.error(a)}function pk(a){zf(a)}function Uf(a,c){try{var d=a.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(p){setTimeout(function(){throw p})}}function mk(a,c,d){try{var p=a.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function eb(a,c,d){return d=Vr(d),d.tag=3,d.payload={element:null},d.callback=function(){Uf(a,c)},d}function gk(a){return a=Vr(a),a.tag=3,a}function bk(a,c,d,p){var g=d.type.getDerivedStateFromError;if(typeof g=="function"){var v=p.value;a.payload=function(){return g(v)},a.callback=function(){mk(c,d,p)}}var T=d.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(a.callback=function(){mk(c,d,p),typeof g!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var O=p.stack;this.componentDidCatch(p.value,{componentStack:O!==null?O:""})})}function $3(a,c,d,p,g){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(c=d.alternate,c!==null&&Ec(c,d,g,!0),d=Yi.current,d!==null){switch(d.tag){case 13:return Es===null?Sb():d.alternate===null&&Zt===0&&(Zt=3),d.flags&=-257,d.flags|=65536,d.lanes=g,p===Pg?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([p]):c.add(p),Tb(a,p,g)),!1;case 22:return d.flags|=65536,p===Pg?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([p]):d.add(p)),Tb(a,p,g)),!1}throw Error(i(435,d.tag))}return Tb(a,p,g),Sb(),!1}if(mt)return c=Yi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=g,p!==kg&&(a=Error(i(422),{cause:p}),Tc(Wi(a,d)))):(p!==kg&&(c=Error(i(423),{cause:p}),Tc(Wi(c,d))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,p=Wi(p,d),g=eb(a.stateNode,p,g),Mg(a,g),Zt!==4&&(Zt=2)),!1;var v=Error(i(520),{cause:p});if(v=Wi(v,d),Gc===null?Gc=[v]:Gc.push(v),Zt!==4&&(Zt=2),c===null)return!0;p=Wi(p,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,a=g&-g,d.lanes|=a,a=eb(d.stateNode,p,a),Mg(d,a),!1;case 1:if(c=d.type,v=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Kr===null||!Kr.has(v))))return d.flags|=65536,g&=-g,d.lanes|=g,g=gk(g),bk(g,a,d,p),Mg(d,g),!1}d=d.return}while(d!==null);return!1}var yk=Error(i(461)),An=!1;function Nn(a,c,d,p){c.child=a===null?lk(c,null,d,p):il(c,a.child,d,p)}function vk(a,c,d,p,g){d=d.render;var v=c.ref;if("ref"in p){var T={};for(var O in p)O!=="ref"&&(T[O]=p[O])}else T=p;return $o(c),p=Ng(a,c,d,T,v,g),O=Vg(),a!==null&&!An?(Fg(a,c,g),rr(a,c,g)):(mt&&O&&wg(c),c.flags|=1,Nn(a,c,p,g),c.child)}function wk(a,c,d,p,g){if(a===null){var v=d.type;return typeof v=="function"&&!bg(v)&&v.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=v,_k(a,c,v,p,g)):(a=wf(d.type,null,p,c,c.mode,g),a.ref=c.ref,a.return=c,c.child=a)}if(v=a.child,!lb(a,g)){var T=v.memoizedProps;if(d=d.compare,d=d!==null?d:kc,d(T,p)&&a.ref===c.ref)return rr(a,c,g)}return c.flags|=1,a=Zs(v,p),a.ref=c.ref,a.return=c,c.child=a}function _k(a,c,d,p,g){if(a!==null){var v=a.memoizedProps;if(kc(v,p)&&a.ref===c.ref)if(An=!1,c.pendingProps=p=v,lb(a,g))(a.flags&131072)!==0&&(An=!0);else return c.lanes=a.lanes,rr(a,c,g)}return tb(a,c,d,p,g)}function kk(a,c,d){var p=c.pendingProps,g=p.children,v=a!==null?a.memoizedState:null;if(p.mode==="hidden"){if((c.flags&128)!==0){if(p=v!==null?v.baseLanes|d:d,a!==null){for(g=c.child=a.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;c.childLanes=v&~p}else c.childLanes=0,c.child=null;return Ck(a,c,p,d)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&xf(c,v!==null?v.cachePool:null),v!==null?__(c,v):Lg(),ck(c);else return c.lanes=c.childLanes=536870912,Ck(a,c,v!==null?v.baseLanes|d:d,d)}else v!==null?(xf(c,v.cachePool),__(c,v),$r(),c.memoizedState=null):(a!==null&&xf(c,null),Lg(),$r());return Nn(a,c,g,d),c.child}function Ck(a,c,d,p){var g=Ag();return g=g===null?null:{parent:wn._currentValue,pool:g},c.memoizedState={baseLanes:d,cachePool:g},a!==null&&xf(c,null),Lg(),ck(c),a!==null&&Ec(a,c,p,!0),null}function $f(a,c){var d=c.ref;if(d===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(a===null||a.ref!==d)&&(c.flags|=4194816)}}function tb(a,c,d,p,g){return $o(c),d=Ng(a,c,d,p,void 0,g),p=Vg(),a!==null&&!An?(Fg(a,c,g),rr(a,c,g)):(mt&&p&&wg(c),c.flags|=1,Nn(a,c,d,g),c.child)}function Sk(a,c,d,p,g,v){return $o(c),c.updateQueue=null,d=C_(c,p,d,g),k_(a),p=Vg(),a!==null&&!An?(Fg(a,c,v),rr(a,c,v)):(mt&&p&&wg(c),c.flags|=1,Nn(a,c,d,v),c.child)}function xk(a,c,d,p,g){if($o(c),c.stateNode===null){var v=Ga,T=d.contextType;typeof T=="object"&&T!==null&&(v=Wn(T)),v=new d(p,v),c.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Qg,c.stateNode=v,v._reactInternals=c,v=c.stateNode,v.props=p,v.state=c.memoizedState,v.refs={},Rg(c),T=d.contextType,v.context=typeof T=="object"&&T!==null?Wn(T):Ga,v.state=c.memoizedState,T=d.getDerivedStateFromProps,typeof T=="function"&&(Zg(c,d,T,p),v.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(T=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),T!==v.state&&Qg.enqueueReplaceState(v,v.state,null),Lc(c,p,v,g),Ic(),v.state=c.memoizedState),typeof v.componentDidMount=="function"&&(c.flags|=4194308),p=!0}else if(a===null){v=c.stateNode;var O=c.memoizedProps,$=Wo(d,O);v.props=$;var te=v.context,ue=d.contextType;T=Ga,typeof ue=="object"&&ue!==null&&(T=Wn(ue));var me=d.getDerivedStateFromProps;ue=typeof me=="function"||typeof v.getSnapshotBeforeUpdate=="function",O=c.pendingProps!==O,ue||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(O||te!==T)&&dk(c,v,p,T),Nr=!1;var ne=c.memoizedState;v.state=ne,Lc(c,p,v,g),Ic(),te=c.memoizedState,O||ne!==te||Nr?(typeof me=="function"&&(Zg(c,d,me,p),te=c.memoizedState),($=Nr||uk(c,d,$,p,ne,te,T))?(ue||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(c.flags|=4194308)):(typeof v.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=te),v.props=p,v.state=te,v.context=T,p=$):(typeof v.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{v=c.stateNode,Og(a,c),T=c.memoizedProps,ue=Wo(d,T),v.props=ue,me=c.pendingProps,ne=v.context,te=d.contextType,$=Ga,typeof te=="object"&&te!==null&&($=Wn(te)),O=d.getDerivedStateFromProps,(te=typeof O=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==me||ne!==$)&&dk(c,v,p,$),Nr=!1,ne=c.memoizedState,v.state=ne,Lc(c,p,v,g),Ic();var se=c.memoizedState;T!==me||ne!==se||Nr||a!==null&&a.dependencies!==null&&Cf(a.dependencies)?(typeof O=="function"&&(Zg(c,d,O,p),se=c.memoizedState),(ue=Nr||uk(c,d,ue,p,ne,se,$)||a!==null&&a.dependencies!==null&&Cf(a.dependencies))?(te||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(p,se,$),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(p,se,$)),typeof v.componentDidUpdate=="function"&&(c.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===a.memoizedProps&&ne===a.memoizedState||(c.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&ne===a.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=se),v.props=p,v.state=se,v.context=$,p=ue):(typeof v.componentDidUpdate!="function"||T===a.memoizedProps&&ne===a.memoizedState||(c.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&ne===a.memoizedState||(c.flags|=1024),p=!1)}return v=p,$f(a,c),p=(c.flags&128)!==0,v||p?(v=c.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:v.render(),c.flags|=1,a!==null&&p?(c.child=il(c,a.child,null,g),c.child=il(c,null,d,g)):Nn(a,c,d,g),c.memoizedState=v.state,a=c.child):a=rr(a,c,g),a}function Tk(a,c,d,p){return xc(),c.flags|=256,Nn(a,c,d,p),c.child}var nb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ib(a){return{baseLanes:a,cachePool:h_()}}function sb(a,c,d){return a=a!==null?a.childLanes&~d:0,c&&(a|=Xi),a}function Ek(a,c,d){var p=c.pendingProps,g=!1,v=(c.flags&128)!==0,T;if((T=v)||(T=a!==null&&a.memoizedState===null?!1:(_n.current&2)!==0),T&&(g=!0,c.flags&=-129),T=(c.flags&32)!==0,c.flags&=-33,a===null){if(mt){if(g?Ur(c):$r(),mt){var O=Jt,$;if($=O){e:{for($=O,O=Ts;$.nodeType!==8;){if(!O){O=null;break e}if($=ps($.nextSibling),$===null){O=null;break e}}O=$}O!==null?(c.memoizedState={dehydrated:O,treeContext:No!==null?{id:Qs,overflow:er}:null,retryLane:536870912,hydrationErrors:null},$=xi(18,null,null,0),$.stateNode=O,$.return=c,c.child=$,ei=c,Jt=null,$=!0):$=!1}$||zo(c)}if(O=c.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return Ub(O)?c.lanes=32:c.lanes=536870912,null;sr(c)}return O=p.children,p=p.fallback,g?($r(),g=c.mode,O=Hf({mode:"hidden",children:O},g),p=Do(p,g,d,null),O.return=c,p.return=c,O.sibling=p,c.child=O,g=c.child,g.memoizedState=ib(d),g.childLanes=sb(a,T,d),c.memoizedState=nb,p):(Ur(c),rb(c,O))}if($=a.memoizedState,$!==null&&(O=$.dehydrated,O!==null)){if(v)c.flags&256?(Ur(c),c.flags&=-257,c=ob(a,c,d)):c.memoizedState!==null?($r(),c.child=a.child,c.flags|=128,c=null):($r(),g=p.fallback,O=c.mode,p=Hf({mode:"visible",children:p.children},O),g=Do(g,O,d,null),g.flags|=2,p.return=c,g.return=c,p.sibling=g,c.child=p,il(c,a.child,null,d),p=c.child,p.memoizedState=ib(d),p.childLanes=sb(a,T,d),c.memoizedState=nb,c=g);else if(Ur(c),Ub(O)){if(T=O.nextSibling&&O.nextSibling.dataset,T)var te=T.dgst;T=te,p=Error(i(419)),p.stack="",p.digest=T,Tc({value:p,source:null,stack:null}),c=ob(a,c,d)}else if(An||Ec(a,c,d,!1),T=(d&a.childLanes)!==0,An||T){if(T=Vt,T!==null&&(p=d&-d,p=(p&42)!==0?1:fc(p),p=(p&(T.suspendedLanes|d))!==0?0:p,p!==0&&p!==$.retryLane))throw $.retryLane=p,qa(a,p),Ri(T,a,p),yk;O.data==="$?"||Sb(),c=ob(a,c,d)}else O.data==="$?"?(c.flags|=192,c.child=a.child,c=null):(a=$.treeContext,Jt=ps(O.nextSibling),ei=c,mt=!0,Fo=null,Ts=!1,a!==null&&(Gi[Ki++]=Qs,Gi[Ki++]=er,Gi[Ki++]=No,Qs=a.id,er=a.overflow,No=c),c=rb(c,p.children),c.flags|=4096);return c}return g?($r(),g=p.fallback,O=c.mode,$=a.child,te=$.sibling,p=Zs($,{mode:"hidden",children:p.children}),p.subtreeFlags=$.subtreeFlags&65011712,te!==null?g=Zs(te,g):(g=Do(g,O,d,null),g.flags|=2),g.return=c,p.return=c,p.sibling=g,c.child=p,p=g,g=c.child,O=a.child.memoizedState,O===null?O=ib(d):($=O.cachePool,$!==null?(te=wn._currentValue,$=$.parent!==te?{parent:te,pool:te}:$):$=h_(),O={baseLanes:O.baseLanes|d,cachePool:$}),g.memoizedState=O,g.childLanes=sb(a,T,d),c.memoizedState=nb,p):(Ur(c),d=a.child,a=d.sibling,d=Zs(d,{mode:"visible",children:p.children}),d.return=c,d.sibling=null,a!==null&&(T=c.deletions,T===null?(c.deletions=[a],c.flags|=16):T.push(a)),c.child=d,c.memoizedState=null,d)}function rb(a,c){return c=Hf({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function Hf(a,c){return a=xi(22,a,null,c),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function ob(a,c,d){return il(c,a.child,null,d),a=rb(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function Ak(a,c,d){a.lanes|=c;var p=a.alternate;p!==null&&(p.lanes|=c),Sg(a.return,c,d)}function ab(a,c,d,p,g){var v=a.memoizedState;v===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:g}:(v.isBackwards=c,v.rendering=null,v.renderingStartTime=0,v.last=p,v.tail=d,v.tailMode=g)}function Pk(a,c,d){var p=c.pendingProps,g=p.revealOrder,v=p.tail;if(Nn(a,c,p.children,d),p=_n.current,(p&2)!==0)p=p&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Ak(a,d,c);else if(a.tag===19)Ak(a,d,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}switch(re(_n,p),g){case"forwards":for(d=c.child,g=null;d!==null;)a=d.alternate,a!==null&&Ff(a)===null&&(g=d),d=d.sibling;d=g,d===null?(g=c.child,c.child=null):(g=d.sibling,d.sibling=null),ab(c,!1,g,d,v);break;case"backwards":for(d=null,g=c.child,c.child=null;g!==null;){if(a=g.alternate,a!==null&&Ff(a)===null){c.child=g;break}a=g.sibling,g.sibling=d,d=g,g=a}ab(c,!0,d,null,v);break;case"together":ab(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function rr(a,c,d){if(a!==null&&(c.dependencies=a.dependencies),Gr|=c.lanes,(d&c.childLanes)===0)if(a!==null){if(Ec(a,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(i(153));if(c.child!==null){for(a=c.child,d=Zs(a,a.pendingProps),c.child=d,d.return=c;a.sibling!==null;)a=a.sibling,d=d.sibling=Zs(a,a.pendingProps),d.return=c;d.sibling=null}return c.child}function lb(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&Cf(a)))}function H3(a,c,d){switch(c.tag){case 3:pe(c,c.stateNode.containerInfo),Dr(c,wn,a.memoizedState.cache),xc();break;case 27:case 5:_e(c);break;case 4:pe(c,c.stateNode.containerInfo);break;case 10:Dr(c,c.type,c.memoizedProps.value);break;case 13:var p=c.memoizedState;if(p!==null)return p.dehydrated!==null?(Ur(c),c.flags|=128,null):(d&c.child.childLanes)!==0?Ek(a,c,d):(Ur(c),a=rr(a,c,d),a!==null?a.sibling:null);Ur(c);break;case 19:var g=(a.flags&128)!==0;if(p=(d&c.childLanes)!==0,p||(Ec(a,c,d,!1),p=(d&c.childLanes)!==0),g){if(p)return Pk(a,c,d);c.flags|=128}if(g=c.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),re(_n,_n.current),p)break;return null;case 22:case 23:return c.lanes=0,kk(a,c,d);case 24:Dr(c,wn,a.memoizedState.cache)}return rr(a,c,d)}function Rk(a,c,d){if(a!==null)if(a.memoizedProps!==c.pendingProps)An=!0;else{if(!lb(a,d)&&(c.flags&128)===0)return An=!1,H3(a,c,d);An=(a.flags&131072)!==0}else An=!1,mt&&(c.flags&1048576)!==0&&o_(c,kf,c.index);switch(c.lanes=0,c.tag){case 16:e:{a=c.pendingProps;var p=c.elementType,g=p._init;if(p=g(p._payload),c.type=p,typeof p=="function")bg(p)?(a=Wo(p,a),c.tag=1,c=xk(null,c,p,a,d)):(c.tag=0,c=tb(null,c,p,a,d));else{if(p!=null){if(g=p.$$typeof,g===P){c.tag=11,c=vk(null,c,p,a,d);break e}else if(g===I){c.tag=14,c=wk(null,c,p,a,d);break e}}throw c=Y(p)||p,Error(i(306,c,""))}}return c;case 0:return tb(a,c,c.type,c.pendingProps,d);case 1:return p=c.type,g=Wo(p,c.pendingProps),xk(a,c,p,g,d);case 3:e:{if(pe(c,c.stateNode.containerInfo),a===null)throw Error(i(387));p=c.pendingProps;var v=c.memoizedState;g=v.element,Og(a,c),Lc(c,p,null,d);var T=c.memoizedState;if(p=T.cache,Dr(c,wn,p),p!==v.cache&&xg(c,[wn],d,!0),Ic(),p=T.element,v.isDehydrated)if(v={element:p,isDehydrated:!1,cache:T.cache},c.updateQueue.baseState=v,c.memoizedState=v,c.flags&256){c=Tk(a,c,p,d);break e}else if(p!==g){g=Wi(Error(i(424)),c),Tc(g),c=Tk(a,c,p,d);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Jt=ps(a.firstChild),ei=c,mt=!0,Fo=null,Ts=!0,d=lk(c,null,p,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(xc(),p===g){c=rr(a,c,d);break e}Nn(a,c,p,d)}c=c.child}return c;case 26:return $f(a,c),a===null?(d=LC(c.type,null,c.pendingProps,null))?c.memoizedState=d:mt||(d=c.type,a=c.pendingProps,p=ih(ce.current).createElement(d),p[jn]=c,p[oi]=a,Fn(p,d,a),En(p),c.stateNode=p):c.memoizedState=LC(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return _e(c),a===null&&mt&&(p=c.stateNode=OC(c.type,c.pendingProps,ce.current),ei=c,Ts=!0,g=Jt,Jr(c.type)?($b=g,Jt=ps(p.firstChild)):Jt=g),Nn(a,c,c.pendingProps.children,d),$f(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&mt&&((g=p=Jt)&&(p=bM(p,c.type,c.pendingProps,Ts),p!==null?(c.stateNode=p,ei=c,Jt=ps(p.firstChild),Ts=!1,g=!0):g=!1),g||zo(c)),_e(c),g=c.type,v=c.pendingProps,T=a!==null?a.memoizedProps:null,p=v.children,Vb(g,v)?p=null:T!==null&&Vb(g,T)&&(c.flags|=32),c.memoizedState!==null&&(g=Ng(a,c,B3,null,null,d),nu._currentValue=g),$f(a,c),Nn(a,c,p,d),c.child;case 6:return a===null&&mt&&((a=d=Jt)&&(d=yM(d,c.pendingProps,Ts),d!==null?(c.stateNode=d,ei=c,Jt=null,a=!0):a=!1),a||zo(c)),null;case 13:return Ek(a,c,d);case 4:return pe(c,c.stateNode.containerInfo),p=c.pendingProps,a===null?c.child=il(c,null,p,d):Nn(a,c,p,d),c.child;case 11:return vk(a,c,c.type,c.pendingProps,d);case 7:return Nn(a,c,c.pendingProps,d),c.child;case 8:return Nn(a,c,c.pendingProps.children,d),c.child;case 12:return Nn(a,c,c.pendingProps.children,d),c.child;case 10:return p=c.pendingProps,Dr(c,c.type,p.value),Nn(a,c,p.children,d),c.child;case 9:return g=c.type._context,p=c.pendingProps.children,$o(c),g=Wn(g),p=p(g),c.flags|=1,Nn(a,c,p,d),c.child;case 14:return wk(a,c,c.type,c.pendingProps,d);case 15:return _k(a,c,c.type,c.pendingProps,d);case 19:return Pk(a,c,d);case 31:return p=c.pendingProps,d=c.mode,p={mode:p.mode,children:p.children},a===null?(d=Hf(p,d),d.ref=c.ref,c.child=d,d.return=c,c=d):(d=Zs(a.child,p),d.ref=c.ref,c.child=d,d.return=c,c=d),c;case 22:return kk(a,c,d);case 24:return $o(c),p=Wn(wn),a===null?(g=Ag(),g===null&&(g=Vt,v=Tg(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=d),g=v),c.memoizedState={parent:p,cache:g},Rg(c),Dr(c,wn,g)):((a.lanes&d)!==0&&(Og(a,c),Lc(c,null,null,d),Ic()),g=a.memoizedState,v=c.memoizedState,g.parent!==p?(g={parent:p,cache:p},c.memoizedState=g,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=g),Dr(c,wn,p)):(p=v.cache,Dr(c,wn,p),p!==g.cache&&xg(c,[wn],d,!0))),Nn(a,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function or(a){a.flags|=4}function Ok(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!FC(c)){if(c=Yi.current,c!==null&&((at&4194048)===at?Es!==null:(at&62914560)!==at&&(at&536870912)===0||c!==Es))throw Oc=Pg,p_;a.flags|=8192}}function jf(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?tf():536870912,a.lanes|=c,al|=c)}function Uc(a,c){if(!mt)switch(a.tailMode){case"hidden":c=a.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Kt(a){var c=a.alternate!==null&&a.alternate.child===a.child,d=0,p=0;if(c)for(var g=a.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags&65011712,p|=g.flags&65011712,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=p,a.childLanes=d,c}function j3(a,c,d){var p=c.pendingProps;switch(_g(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(c),null;case 1:return Kt(c),null;case 3:return d=c.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),nr(wn),Ee(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Sc(c)?or(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,c_())),Kt(c),null;case 26:return d=c.memoizedState,a===null?(or(c),d!==null?(Kt(c),Ok(c,d)):(Kt(c),c.flags&=-16777217)):d?d!==a.memoizedState?(or(c),Kt(c),Ok(c,d)):(Kt(c),c.flags&=-16777217):(a.memoizedProps!==p&&or(c),Kt(c),c.flags&=-16777217),null;case 27:Ae(c),d=ce.current;var g=c.type;if(a!==null&&c.stateNode!=null)a.memoizedProps!==p&&or(c);else{if(!p){if(c.stateNode===null)throw Error(i(166));return Kt(c),null}a=ge.current,Sc(c)?a_(c):(a=OC(g,p,d),c.stateNode=a,or(c))}return Kt(c),null;case 5:if(Ae(c),d=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==p&&or(c);else{if(!p){if(c.stateNode===null)throw Error(i(166));return Kt(c),null}if(a=ge.current,Sc(c))a_(c);else{switch(g=ih(ce.current),a){case 1:a=g.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:a=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":a=g.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":a=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":a=g.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof p.is=="string"?g.createElement("select",{is:p.is}):g.createElement("select"),p.multiple?a.multiple=!0:p.size&&(a.size=p.size);break;default:a=typeof p.is=="string"?g.createElement(d,{is:p.is}):g.createElement(d)}}a[jn]=c,a[oi]=p;e:for(g=c.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===c)break e;for(;g.sibling===null;){if(g.return===null||g.return===c)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}c.stateNode=a;e:switch(Fn(a,d,p),d){case"button":case"input":case"select":case"textarea":a=!!p.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&or(c)}}return Kt(c),c.flags&=-16777217,null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==p&&or(c);else{if(typeof p!="string"&&c.stateNode===null)throw Error(i(166));if(a=ce.current,Sc(c)){if(a=c.stateNode,d=c.memoizedProps,p=null,g=ei,g!==null)switch(g.tag){case 27:case 5:p=g.memoizedProps}a[jn]=c,a=!!(a.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||SC(a.nodeValue,d)),a||zo(c)}else a=ih(a).createTextNode(p),a[jn]=c,c.stateNode=a}return Kt(c),null;case 13:if(p=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=Sc(c),p!==null&&p.dehydrated!==null){if(a===null){if(!g)throw Error(i(318));if(g=c.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[jn]=c}else xc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Kt(c),g=!1}else g=c_(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),g=!0;if(!g)return c.flags&256?(sr(c),c):(sr(c),null)}if(sr(c),(c.flags&128)!==0)return c.lanes=d,c;if(d=p!==null,a=a!==null&&a.memoizedState!==null,d){p=c.child,g=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(g=p.alternate.memoizedState.cachePool.pool);var v=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(v=p.memoizedState.cachePool.pool),v!==g&&(p.flags|=2048)}return d!==a&&d&&(c.child.flags|=8192),jf(c,c.updateQueue),Kt(c),null;case 4:return Ee(),a===null&&Ib(c.stateNode.containerInfo),Kt(c),null;case 10:return nr(c.type),Kt(c),null;case 19:if(ae(_n),g=c.memoizedState,g===null)return Kt(c),null;if(p=(c.flags&128)!==0,v=g.rendering,v===null)if(p)Uc(g,!1);else{if(Zt!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(v=Ff(a),v!==null){for(c.flags|=128,Uc(g,!1),a=v.updateQueue,c.updateQueue=a,jf(c,a),c.subtreeFlags=0,a=d,d=c.child;d!==null;)r_(d,a),d=d.sibling;return re(_n,_n.current&1|2),c.child}a=a.sibling}g.tail!==null&&rt()>Gf&&(c.flags|=128,p=!0,Uc(g,!1),c.lanes=4194304)}else{if(!p)if(a=Ff(v),a!==null){if(c.flags|=128,p=!0,a=a.updateQueue,c.updateQueue=a,jf(c,a),Uc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!mt)return Kt(c),null}else 2*rt()-g.renderingStartTime>Gf&&d!==536870912&&(c.flags|=128,p=!0,Uc(g,!1),c.lanes=4194304);g.isBackwards?(v.sibling=c.child,c.child=v):(a=g.last,a!==null?a.sibling=v:c.child=v,g.last=v)}return g.tail!==null?(c=g.tail,g.rendering=c,g.tail=c.sibling,g.renderingStartTime=rt(),c.sibling=null,a=_n.current,re(_n,p?a&1|2:a&1),c):(Kt(c),null);case 22:case 23:return sr(c),Bg(),p=c.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(c.flags|=8192):p&&(c.flags|=8192),p?(d&536870912)!==0&&(c.flags&128)===0&&(Kt(c),c.subtreeFlags&6&&(c.flags|=8192)):Kt(c),d=c.updateQueue,d!==null&&jf(c,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048),a!==null&&ae(Ho),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),nr(wn),Kt(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function W3(a,c){switch(_g(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return nr(wn),Ee(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return Ae(c),null;case 13:if(sr(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(i(340));xc()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return ae(_n),null;case 4:return Ee(),null;case 10:return nr(c.type),null;case 22:case 23:return sr(c),Bg(),a!==null&&ae(Ho),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return nr(wn),null;case 25:return null;default:return null}}function Mk(a,c){switch(_g(c),c.tag){case 3:nr(wn),Ee();break;case 26:case 27:case 5:Ae(c);break;case 4:Ee();break;case 13:sr(c);break;case 19:ae(_n);break;case 10:nr(c.type);break;case 22:case 23:sr(c),Bg(),a!==null&&ae(Ho);break;case 24:nr(wn)}}function $c(a,c){try{var d=c.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var g=p.next;d=g;do{if((d.tag&a)===a){p=void 0;var v=d.create,T=d.inst;p=v(),T.destroy=p}d=d.next}while(d!==g)}}catch(O){Ot(c,c.return,O)}}function Hr(a,c,d){try{var p=c.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var v=g.next;p=v;do{if((p.tag&a)===a){var T=p.inst,O=T.destroy;if(O!==void 0){T.destroy=void 0,g=c;var $=d,te=O;try{te()}catch(ue){Ot(g,$,ue)}}}p=p.next}while(p!==v)}}catch(ue){Ot(c,c.return,ue)}}function Ik(a){var c=a.updateQueue;if(c!==null){var d=a.stateNode;try{w_(c,d)}catch(p){Ot(a,a.return,p)}}}function Lk(a,c,d){d.props=Wo(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(p){Ot(a,c,p)}}function Hc(a,c){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof d=="function"?a.refCleanup=d(p):d.current=p}}catch(g){Ot(a,c,g)}}function As(a,c){var d=a.ref,p=a.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(g){Ot(a,c,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(g){Ot(a,c,g)}else d.current=null}function Bk(a){var c=a.type,d=a.memoizedProps,p=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(g){Ot(a,a.return,g)}}function cb(a,c,d){try{var p=a.stateNode;fM(p,a.type,d,c),p[oi]=c}catch(g){Ot(a,a.return,g)}}function Dk(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Jr(a.type)||a.tag===4}function ub(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Dk(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Jr(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function db(a,c,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(a),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=nh));else if(p!==4&&(p===27&&Jr(a.type)&&(d=a.stateNode,c=null),a=a.child,a!==null))for(db(a,c,d),a=a.sibling;a!==null;)db(a,c,d),a=a.sibling}function Wf(a,c,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,c?d.insertBefore(a,c):d.appendChild(a);else if(p!==4&&(p===27&&Jr(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(Wf(a,c,d),a=a.sibling;a!==null;)Wf(a,c,d),a=a.sibling}function Nk(a){var c=a.stateNode,d=a.memoizedProps;try{for(var p=a.type,g=c.attributes;g.length;)c.removeAttributeNode(g[0]);Fn(c,p,d),c[jn]=a,c[oi]=d}catch(v){Ot(a,a.return,v)}}var ar=!1,cn=!1,fb=!1,Vk=typeof WeakSet=="function"?WeakSet:Set,Pn=null;function q3(a,c){if(a=a.containerInfo,Db=ch,a=Yw(a),ug(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var g=p.anchorOffset,v=p.focusNode;p=p.focusOffset;try{d.nodeType,v.nodeType}catch{d=null;break e}var T=0,O=-1,$=-1,te=0,ue=0,me=a,ne=null;t:for(;;){for(var se;me!==d||g!==0&&me.nodeType!==3||(O=T+g),me!==v||p!==0&&me.nodeType!==3||($=T+p),me.nodeType===3&&(T+=me.nodeValue.length),(se=me.firstChild)!==null;)ne=me,me=se;for(;;){if(me===a)break t;if(ne===d&&++te===g&&(O=T),ne===v&&++ue===p&&($=T),(se=me.nextSibling)!==null)break;me=ne,ne=me.parentNode}me=se}d=O===-1||$===-1?null:{start:O,end:$}}else d=null}d=d||{start:0,end:0}}else d=null;for(Nb={focusedElem:a,selectionRange:d},ch=!1,Pn=c;Pn!==null;)if(c=Pn,a=c.child,(c.subtreeFlags&1024)!==0&&a!==null)a.return=c,Pn=a;else for(;Pn!==null;){switch(c=Pn,v=c.alternate,a=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,d=c,g=v.memoizedProps,v=v.memoizedState,p=d.stateNode;try{var Fe=Wo(d.type,g,d.elementType===d.type);a=p.getSnapshotBeforeUpdate(Fe,v),p.__reactInternalSnapshotBeforeUpdate=a}catch(Ne){Ot(d,d.return,Ne)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,d=a.nodeType,d===9)zb(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":zb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=c.sibling,a!==null){a.return=c.return,Pn=a;break}Pn=c.return}}function Fk(a,c,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:jr(a,d),p&4&&$c(5,d);break;case 1:if(jr(a,d),p&4)if(a=d.stateNode,c===null)try{a.componentDidMount()}catch(T){Ot(d,d.return,T)}else{var g=Wo(d.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(g,c,a.__reactInternalSnapshotBeforeUpdate)}catch(T){Ot(d,d.return,T)}}p&64&&Ik(d),p&512&&Hc(d,d.return);break;case 3:if(jr(a,d),p&64&&(a=d.updateQueue,a!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{w_(a,c)}catch(T){Ot(d,d.return,T)}}break;case 27:c===null&&p&4&&Nk(d);case 26:case 5:jr(a,d),c===null&&p&4&&Bk(d),p&512&&Hc(d,d.return);break;case 12:jr(a,d);break;case 13:jr(a,d),p&4&&$k(a,d),p&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=tM.bind(null,d),vM(a,d))));break;case 22:if(p=d.memoizedState!==null||ar,!p){c=c!==null&&c.memoizedState!==null||cn,g=ar;var v=cn;ar=p,(cn=c)&&!v?Wr(a,d,(d.subtreeFlags&8772)!==0):jr(a,d),ar=g,cn=v}break;case 30:break;default:jr(a,d)}}function zk(a){var c=a.alternate;c!==null&&(a.alternate=null,zk(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&Wm(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var qt=null,ci=!1;function lr(a,c,d){for(d=d.child;d!==null;)Uk(a,c,d),d=d.sibling}function Uk(a,c,d){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Hn,d)}catch{}switch(d.tag){case 26:cn||As(d,c),lr(a,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:cn||As(d,c);var p=qt,g=ci;Jr(d.type)&&(qt=d.stateNode,ci=!1),lr(a,c,d),Zc(d.stateNode),qt=p,ci=g;break;case 5:cn||As(d,c);case 6:if(p=qt,g=ci,qt=null,lr(a,c,d),qt=p,ci=g,qt!==null)if(ci)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(d.stateNode)}catch(v){Ot(d,c,v)}else try{qt.removeChild(d.stateNode)}catch(v){Ot(d,c,v)}break;case 18:qt!==null&&(ci?(a=qt,PC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),ou(a)):PC(qt,d.stateNode));break;case 4:p=qt,g=ci,qt=d.stateNode.containerInfo,ci=!0,lr(a,c,d),qt=p,ci=g;break;case 0:case 11:case 14:case 15:cn||Hr(2,d,c),cn||Hr(4,d,c),lr(a,c,d);break;case 1:cn||(As(d,c),p=d.stateNode,typeof p.componentWillUnmount=="function"&&Lk(d,c,p)),lr(a,c,d);break;case 21:lr(a,c,d);break;case 22:cn=(p=cn)||d.memoizedState!==null,lr(a,c,d),cn=p;break;default:lr(a,c,d)}}function $k(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{ou(a)}catch(d){Ot(c,c.return,d)}}function G3(a){switch(a.tag){case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new Vk),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new Vk),c;default:throw Error(i(435,a.tag))}}function hb(a,c){var d=G3(a);c.forEach(function(p){var g=nM.bind(null,a,p);d.has(p)||(d.add(p),p.then(g,g))})}function Ti(a,c){var d=c.deletions;if(d!==null)for(var p=0;p<d.length;p++){var g=d[p],v=a,T=c,O=T;e:for(;O!==null;){switch(O.tag){case 27:if(Jr(O.type)){qt=O.stateNode,ci=!1;break e}break;case 5:qt=O.stateNode,ci=!1;break e;case 3:case 4:qt=O.stateNode.containerInfo,ci=!0;break e}O=O.return}if(qt===null)throw Error(i(160));Uk(v,T,g),qt=null,ci=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)Hk(c,a),c=c.sibling}var hs=null;function Hk(a,c){var d=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ti(c,a),Ei(a),p&4&&(Hr(3,a,a.return),$c(3,a),Hr(5,a,a.return));break;case 1:Ti(c,a),Ei(a),p&512&&(cn||d===null||As(d,d.return)),p&64&&ar&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var g=hs;if(Ti(c,a),Ei(a),p&512&&(cn||d===null||As(d,d.return)),p&4){var v=d!==null?d.memoizedState:null;if(p=a.memoizedState,d===null)if(p===null)if(a.stateNode===null){e:{p=a.type,d=a.memoizedProps,g=g.ownerDocument||g;t:switch(p){case"title":v=g.getElementsByTagName("title")[0],(!v||v[hc]||v[jn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(p),g.head.insertBefore(v,g.querySelector("head > title"))),Fn(v,p,d),v[jn]=a,En(v),p=v;break e;case"link":var T=NC("link","href",g).get(p+(d.href||""));if(T){for(var O=0;O<T.length;O++)if(v=T[O],v.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&v.getAttribute("rel")===(d.rel==null?null:d.rel)&&v.getAttribute("title")===(d.title==null?null:d.title)&&v.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){T.splice(O,1);break t}}v=g.createElement(p),Fn(v,p,d),g.head.appendChild(v);break;case"meta":if(T=NC("meta","content",g).get(p+(d.content||""))){for(O=0;O<T.length;O++)if(v=T[O],v.getAttribute("content")===(d.content==null?null:""+d.content)&&v.getAttribute("name")===(d.name==null?null:d.name)&&v.getAttribute("property")===(d.property==null?null:d.property)&&v.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&v.getAttribute("charset")===(d.charSet==null?null:d.charSet)){T.splice(O,1);break t}}v=g.createElement(p),Fn(v,p,d),g.head.appendChild(v);break;default:throw Error(i(468,p))}v[jn]=a,En(v),p=v}a.stateNode=p}else VC(g,a.type,a.stateNode);else a.stateNode=DC(g,p,a.memoizedProps);else v!==p?(v===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):v.count--,p===null?VC(g,a.type,a.stateNode):DC(g,p,a.memoizedProps)):p===null&&a.stateNode!==null&&cb(a,a.memoizedProps,d.memoizedProps)}break;case 27:Ti(c,a),Ei(a),p&512&&(cn||d===null||As(d,d.return)),d!==null&&p&4&&cb(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Ti(c,a),Ei(a),p&512&&(cn||d===null||As(d,d.return)),a.flags&32){g=a.stateNode;try{Fa(g,"")}catch(se){Ot(a,a.return,se)}}p&4&&a.stateNode!=null&&(g=a.memoizedProps,cb(a,g,d!==null?d.memoizedProps:g)),p&1024&&(fb=!0);break;case 6:if(Ti(c,a),Ei(a),p&4){if(a.stateNode===null)throw Error(i(162));p=a.memoizedProps,d=a.stateNode;try{d.nodeValue=p}catch(se){Ot(a,a.return,se)}}break;case 3:if(oh=null,g=hs,hs=sh(c.containerInfo),Ti(c,a),hs=g,Ei(a),p&4&&d!==null&&d.memoizedState.isDehydrated)try{ou(c.containerInfo)}catch(se){Ot(a,a.return,se)}fb&&(fb=!1,jk(a));break;case 4:p=hs,hs=sh(a.stateNode.containerInfo),Ti(c,a),Ei(a),hs=p;break;case 12:Ti(c,a),Ei(a);break;case 13:Ti(c,a),Ei(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(vb=rt()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,hb(a,p)));break;case 22:g=a.memoizedState!==null;var $=d!==null&&d.memoizedState!==null,te=ar,ue=cn;if(ar=te||g,cn=ue||$,Ti(c,a),cn=ue,ar=te,Ei(a),p&8192)e:for(c=a.stateNode,c._visibility=g?c._visibility&-2:c._visibility|1,g&&(d===null||$||ar||cn||qo(a)),d=null,c=a;;){if(c.tag===5||c.tag===26){if(d===null){$=d=c;try{if(v=$.stateNode,g)T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{O=$.stateNode;var me=$.memoizedProps.style,ne=me!=null&&me.hasOwnProperty("display")?me.display:null;O.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(se){Ot($,$.return,se)}}}else if(c.tag===6){if(d===null){$=c;try{$.stateNode.nodeValue=g?"":$.memoizedProps}catch(se){Ot($,$.return,se)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}p&4&&(p=a.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,hb(a,d))));break;case 19:Ti(c,a),Ei(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,hb(a,p)));break;case 30:break;case 21:break;default:Ti(c,a),Ei(a)}}function Ei(a){var c=a.flags;if(c&2){try{for(var d,p=a.return;p!==null;){if(Dk(p)){d=p;break}p=p.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var g=d.stateNode,v=ub(a);Wf(a,v,g);break;case 5:var T=d.stateNode;d.flags&32&&(Fa(T,""),d.flags&=-33);var O=ub(a);Wf(a,O,T);break;case 3:case 4:var $=d.stateNode.containerInfo,te=ub(a);db(a,te,$);break;default:throw Error(i(161))}}catch(ue){Ot(a,a.return,ue)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function jk(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;jk(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function jr(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Fk(a,c.alternate,c),c=c.sibling}function qo(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:Hr(4,c,c.return),qo(c);break;case 1:As(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&Lk(c,c.return,d),qo(c);break;case 27:Zc(c.stateNode);case 26:case 5:As(c,c.return),qo(c);break;case 22:c.memoizedState===null&&qo(c);break;case 30:qo(c);break;default:qo(c)}a=a.sibling}}function Wr(a,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var p=c.alternate,g=a,v=c,T=v.flags;switch(v.tag){case 0:case 11:case 15:Wr(g,v,d),$c(4,v);break;case 1:if(Wr(g,v,d),p=v,g=p.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(te){Ot(p,p.return,te)}if(p=v,g=p.updateQueue,g!==null){var O=p.stateNode;try{var $=g.shared.hiddenCallbacks;if($!==null)for(g.shared.hiddenCallbacks=null,g=0;g<$.length;g++)v_($[g],O)}catch(te){Ot(p,p.return,te)}}d&&T&64&&Ik(v),Hc(v,v.return);break;case 27:Nk(v);case 26:case 5:Wr(g,v,d),d&&p===null&&T&4&&Bk(v),Hc(v,v.return);break;case 12:Wr(g,v,d);break;case 13:Wr(g,v,d),d&&T&4&&$k(g,v);break;case 22:v.memoizedState===null&&Wr(g,v,d),Hc(v,v.return);break;case 30:break;default:Wr(g,v,d)}c=c.sibling}}function pb(a,c){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Ac(d))}function mb(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Ac(a))}function Ps(a,c,d,p){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Wk(a,c,d,p),c=c.sibling}function Wk(a,c,d,p){var g=c.flags;switch(c.tag){case 0:case 11:case 15:Ps(a,c,d,p),g&2048&&$c(9,c);break;case 1:Ps(a,c,d,p);break;case 3:Ps(a,c,d,p),g&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Ac(a)));break;case 12:if(g&2048){Ps(a,c,d,p),a=c.stateNode;try{var v=c.memoizedProps,T=v.id,O=v.onPostCommit;typeof O=="function"&&O(T,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){Ot(c,c.return,$)}}else Ps(a,c,d,p);break;case 13:Ps(a,c,d,p);break;case 23:break;case 22:v=c.stateNode,T=c.alternate,c.memoizedState!==null?v._visibility&2?Ps(a,c,d,p):jc(a,c):v._visibility&2?Ps(a,c,d,p):(v._visibility|=2,sl(a,c,d,p,(c.subtreeFlags&10256)!==0)),g&2048&&pb(T,c);break;case 24:Ps(a,c,d,p),g&2048&&mb(c.alternate,c);break;default:Ps(a,c,d,p)}}function sl(a,c,d,p,g){for(g=g&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var v=a,T=c,O=d,$=p,te=T.flags;switch(T.tag){case 0:case 11:case 15:sl(v,T,O,$,g),$c(8,T);break;case 23:break;case 22:var ue=T.stateNode;T.memoizedState!==null?ue._visibility&2?sl(v,T,O,$,g):jc(v,T):(ue._visibility|=2,sl(v,T,O,$,g)),g&&te&2048&&pb(T.alternate,T);break;case 24:sl(v,T,O,$,g),g&&te&2048&&mb(T.alternate,T);break;default:sl(v,T,O,$,g)}c=c.sibling}}function jc(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=a,p=c,g=p.flags;switch(p.tag){case 22:jc(d,p),g&2048&&pb(p.alternate,p);break;case 24:jc(d,p),g&2048&&mb(p.alternate,p);break;default:jc(d,p)}c=c.sibling}}var Wc=8192;function rl(a){if(a.subtreeFlags&Wc)for(a=a.child;a!==null;)qk(a),a=a.sibling}function qk(a){switch(a.tag){case 26:rl(a),a.flags&Wc&&a.memoizedState!==null&&MM(hs,a.memoizedState,a.memoizedProps);break;case 5:rl(a);break;case 3:case 4:var c=hs;hs=sh(a.stateNode.containerInfo),rl(a),hs=c;break;case 22:a.memoizedState===null&&(c=a.alternate,c!==null&&c.memoizedState!==null?(c=Wc,Wc=16777216,rl(a),Wc=c):rl(a));break;default:rl(a)}}function Gk(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function qc(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var p=c[d];Pn=p,Yk(p,a)}Gk(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Kk(a),a=a.sibling}function Kk(a){switch(a.tag){case 0:case 11:case 15:qc(a),a.flags&2048&&Hr(9,a,a.return);break;case 3:qc(a);break;case 12:qc(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,qf(a)):qc(a);break;default:qc(a)}}function qf(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var p=c[d];Pn=p,Yk(p,a)}Gk(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:Hr(8,c,c.return),qf(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,qf(c));break;default:qf(c)}a=a.sibling}}function Yk(a,c){for(;Pn!==null;){var d=Pn;switch(d.tag){case 0:case 11:case 15:Hr(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Ac(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Pn=p;else e:for(d=a;Pn!==null;){p=Pn;var g=p.sibling,v=p.return;if(zk(p),p===d){Pn=null;break e}if(g!==null){g.return=v,Pn=g;break e}Pn=v}}}var K3={getCacheForType:function(a){var c=Wn(wn),d=c.data.get(a);return d===void 0&&(d=a(),c.data.set(a,d)),d}},Y3=typeof WeakMap=="function"?WeakMap:Map,wt=0,Vt=null,it=null,at=0,_t=0,Ai=null,qr=!1,ol=!1,gb=!1,cr=0,Zt=0,Gr=0,Go=0,bb=0,Xi=0,al=0,Gc=null,ui=null,yb=!1,vb=0,Gf=1/0,Kf=null,Kr=null,Vn=0,Yr=null,ll=null,cl=0,wb=0,_b=null,Xk=null,Kc=0,kb=null;function Pi(){if((wt&2)!==0&&at!==0)return at&-at;if(M.T!==null){var a=Xa;return a!==0?a:Pb()}return ri()}function Jk(){Xi===0&&(Xi=(at&536870912)===0||mt?Ro():536870912);var a=Yi.current;return a!==null&&(a.flags|=32),Xi}function Ri(a,c,d){(a===Vt&&(_t===2||_t===9)||a.cancelPendingCommit!==null)&&(ul(a,0),Xr(a,at,Xi,!1)),Oo(a,d),((wt&2)===0||a!==Vt)&&(a===Vt&&((wt&2)===0&&(Go|=d),Zt===4&&Xr(a,at,Xi,!1)),Rs(a))}function Zk(a,c,d){if((wt&6)!==0)throw Error(i(327));var p=!d&&(c&124)===0&&(c&a.expiredLanes)===0||$t(a,c),g=p?Z3(a,c):xb(a,c,!0),v=p;do{if(g===0){ol&&!p&&Xr(a,c,0,!1);break}else{if(d=a.current.alternate,v&&!X3(d)){g=xb(a,c,!1),v=!1;continue}if(g===2){if(v=c,a.errorRecoveryDisabledLanes&v)var T=0;else T=a.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){c=T;e:{var O=a;g=Gc;var $=O.current.memoizedState.isDehydrated;if($&&(ul(O,T).flags|=256),T=xb(O,T,!1),T!==2){if(gb&&!$){O.errorRecoveryDisabledLanes|=v,Go|=v,g=4;break e}v=ui,ui=g,v!==null&&(ui===null?ui=v:ui.push.apply(ui,v))}g=T}if(v=!1,g!==2)continue}}if(g===1){ul(a,0),Xr(a,c,0,!0);break}e:{switch(p=a,v=g,v){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:Xr(p,c,Xi,!qr);break e;case 2:ui=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(g=vb+300-rt(),10<g)){if(Xr(p,c,Xi,!qr),ot(p,0,!0)!==0)break e;p.timeoutHandle=EC(Qk.bind(null,p,d,ui,Kf,yb,c,Xi,Go,al,qr,v,2,-0,0),g);break e}Qk(p,d,ui,Kf,yb,c,Xi,Go,al,qr,v,0,-0,0)}}break}while(!0);Rs(a)}function Qk(a,c,d,p,g,v,T,O,$,te,ue,me,ne,se){if(a.timeoutHandle=-1,me=c.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(tu={stylesheets:null,count:0,unsuspend:OM},qk(c),me=IM(),me!==null)){a.cancelPendingCommit=me(oC.bind(null,a,c,v,d,p,g,T,O,$,ue,1,ne,se)),Xr(a,v,T,!te);return}oC(a,c,v,d,p,g,T,O,$)}function X3(a){for(var c=a;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var g=d[p],v=g.getSnapshot;g=g.value;try{if(!Si(v(),g))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Xr(a,c,d,p){c&=~bb,c&=~Go,a.suspendedLanes|=c,a.pingedLanes&=~c,p&&(a.warmLanes|=c),p=a.expirationTimes;for(var g=c;0<g;){var v=31-Nt(g),T=1<<v;p[v]=-1,g&=~T}d!==0&&nf(a,d,c)}function Yf(){return(wt&6)===0?(Yc(0),!1):!0}function Cb(){if(it!==null){if(_t===0)var a=it.return;else a=it,tr=Uo=null,zg(a),nl=null,Fc=0,a=it;for(;a!==null;)Mk(a.alternate,a),a=a.return;it=null}}function ul(a,c){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,pM(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),Cb(),Vt=a,it=d=Zs(a.current,null),at=c,_t=0,Ai=null,qr=!1,ol=$t(a,c),gb=!1,al=Xi=bb=Go=Gr=Zt=0,ui=Gc=null,yb=!1,(c&8)!==0&&(c|=c&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=c;0<p;){var g=31-Nt(p),v=1<<g;c|=a[g],p&=~v}return cr=c,bf(),d}function eC(a,c){Ze=null,M.H=Df,c===Rc||c===Tf?(c=b_(),_t=3):c===p_?(c=b_(),_t=4):_t=c===yk?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ai=c,it===null&&(Zt=1,Uf(a,Wi(c,a.current)))}function tC(){var a=M.H;return M.H=Df,a===null?Df:a}function nC(){var a=M.A;return M.A=K3,a}function Sb(){Zt=4,qr||(at&4194048)!==at&&Yi.current!==null||(ol=!0),(Gr&134217727)===0&&(Go&134217727)===0||Vt===null||Xr(Vt,at,Xi,!1)}function xb(a,c,d){var p=wt;wt|=2;var g=tC(),v=nC();(Vt!==a||at!==c)&&(Kf=null,ul(a,c)),c=!1;var T=Zt;e:do try{if(_t!==0&&it!==null){var O=it,$=Ai;switch(_t){case 8:Cb(),T=6;break e;case 3:case 2:case 9:case 6:Yi.current===null&&(c=!0);var te=_t;if(_t=0,Ai=null,dl(a,O,$,te),d&&ol){T=0;break e}break;default:te=_t,_t=0,Ai=null,dl(a,O,$,te)}}J3(),T=Zt;break}catch(ue){eC(a,ue)}while(!0);return c&&a.shellSuspendCounter++,tr=Uo=null,wt=p,M.H=g,M.A=v,it===null&&(Vt=null,at=0,bf()),T}function J3(){for(;it!==null;)iC(it)}function Z3(a,c){var d=wt;wt|=2;var p=tC(),g=nC();Vt!==a||at!==c?(Kf=null,Gf=rt()+500,ul(a,c)):ol=$t(a,c);e:do try{if(_t!==0&&it!==null){c=it;var v=Ai;t:switch(_t){case 1:_t=0,Ai=null,dl(a,c,v,1);break;case 2:case 9:if(m_(v)){_t=0,Ai=null,sC(c);break}c=function(){_t!==2&&_t!==9||Vt!==a||(_t=7),Rs(a)},v.then(c,c);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:m_(v)?(_t=0,Ai=null,sC(c)):(_t=0,Ai=null,dl(a,c,v,7));break;case 5:var T=null;switch(it.tag){case 26:T=it.memoizedState;case 5:case 27:var O=it;if(!T||FC(T)){_t=0,Ai=null;var $=O.sibling;if($!==null)it=$;else{var te=O.return;te!==null?(it=te,Xf(te)):it=null}break t}}_t=0,Ai=null,dl(a,c,v,5);break;case 6:_t=0,Ai=null,dl(a,c,v,6);break;case 8:Cb(),Zt=6;break e;default:throw Error(i(462))}}Q3();break}catch(ue){eC(a,ue)}while(!0);return tr=Uo=null,M.H=p,M.A=g,wt=d,it!==null?0:(Vt=null,at=0,bf(),Zt)}function Q3(){for(;it!==null&&!dt();)iC(it)}function iC(a){var c=Rk(a.alternate,a,cr);a.memoizedProps=a.pendingProps,c===null?Xf(a):it=c}function sC(a){var c=a,d=c.alternate;switch(c.tag){case 15:case 0:c=Sk(d,c,c.pendingProps,c.type,void 0,at);break;case 11:c=Sk(d,c,c.pendingProps,c.type.render,c.ref,at);break;case 5:zg(c);default:Mk(d,c),c=it=r_(c,cr),c=Rk(d,c,cr)}a.memoizedProps=a.pendingProps,c===null?Xf(a):it=c}function dl(a,c,d,p){tr=Uo=null,zg(c),nl=null,Fc=0;var g=c.return;try{if($3(a,g,c,d,at)){Zt=1,Uf(a,Wi(d,a.current)),it=null;return}}catch(v){if(g!==null)throw it=g,v;Zt=1,Uf(a,Wi(d,a.current)),it=null;return}c.flags&32768?(mt||p===1?a=!0:ol||(at&536870912)!==0?a=!1:(qr=a=!0,(p===2||p===9||p===3||p===6)&&(p=Yi.current,p!==null&&p.tag===13&&(p.flags|=16384))),rC(c,a)):Xf(c)}function Xf(a){var c=a;do{if((c.flags&32768)!==0){rC(c,qr);return}a=c.return;var d=j3(c.alternate,c,cr);if(d!==null){it=d;return}if(c=c.sibling,c!==null){it=c;return}it=c=a}while(c!==null);Zt===0&&(Zt=5)}function rC(a,c){do{var d=W3(a.alternate,a);if(d!==null){d.flags&=32767,it=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(a=a.sibling,a!==null)){it=a;return}it=a=d}while(a!==null);Zt=6,it=null}function oC(a,c,d,p,g,v,T,O,$){a.cancelPendingCommit=null;do Jf();while(Vn!==0);if((wt&6)!==0)throw Error(i(327));if(c!==null){if(c===a.current)throw Error(i(177));if(v=c.lanes|c.childLanes,v|=mg,Hm(a,d,v,T,O,$),a===Vt&&(it=Vt=null,at=0),ll=c,Yr=a,cl=d,wb=v,_b=g,Xk=p,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,iM(ft,function(){return dC(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||p){p=M.T,M.T=null,g=U.p,U.p=2,T=wt,wt|=4;try{q3(a,c,d)}finally{wt=T,U.p=g,M.T=p}}Vn=1,aC(),lC(),cC()}}function aC(){if(Vn===1){Vn=0;var a=Yr,c=ll,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=M.T,M.T=null;var p=U.p;U.p=2;var g=wt;wt|=4;try{Hk(c,a);var v=Nb,T=Yw(a.containerInfo),O=v.focusedElem,$=v.selectionRange;if(T!==O&&O&&O.ownerDocument&&Kw(O.ownerDocument.documentElement,O)){if($!==null&&ug(O)){var te=$.start,ue=$.end;if(ue===void 0&&(ue=te),"selectionStart"in O)O.selectionStart=te,O.selectionEnd=Math.min(ue,O.value.length);else{var me=O.ownerDocument||document,ne=me&&me.defaultView||window;if(ne.getSelection){var se=ne.getSelection(),Fe=O.textContent.length,Ne=Math.min($.start,Fe),Tt=$.end===void 0?Ne:Math.min($.end,Fe);!se.extend&&Ne>Tt&&(T=Tt,Tt=Ne,Ne=T);var X=Gw(O,Ne),q=Gw(O,Tt);if(X&&q&&(se.rangeCount!==1||se.anchorNode!==X.node||se.anchorOffset!==X.offset||se.focusNode!==q.node||se.focusOffset!==q.offset)){var ee=me.createRange();ee.setStart(X.node,X.offset),se.removeAllRanges(),Ne>Tt?(se.addRange(ee),se.extend(q.node,q.offset)):(ee.setEnd(q.node,q.offset),se.addRange(ee))}}}}for(me=[],se=O;se=se.parentNode;)se.nodeType===1&&me.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<me.length;O++){var fe=me[O];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}ch=!!Db,Nb=Db=null}finally{wt=g,U.p=p,M.T=d}}a.current=c,Vn=2}}function lC(){if(Vn===2){Vn=0;var a=Yr,c=ll,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=M.T,M.T=null;var p=U.p;U.p=2;var g=wt;wt|=4;try{Fk(a,c.alternate,c)}finally{wt=g,U.p=p,M.T=d}}Vn=3}}function cC(){if(Vn===4||Vn===3){Vn=0,an();var a=Yr,c=ll,d=cl,p=Xk;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Vn=5:(Vn=0,ll=Yr=null,uC(a,a.pendingLanes));var g=a.pendingLanes;if(g===0&&(Kr=null),Ue(d),c=c.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Hn,c,void 0,(c.current.flags&128)===128)}catch{}if(p!==null){c=M.T,g=U.p,U.p=2,M.T=null;try{for(var v=a.onRecoverableError,T=0;T<p.length;T++){var O=p[T];v(O.value,{componentStack:O.stack})}}finally{M.T=c,U.p=g}}(cl&3)!==0&&Jf(),Rs(a),g=a.pendingLanes,(d&4194090)!==0&&(g&42)!==0?a===kb?Kc++:(Kc=0,kb=a):Kc=0,Yc(0)}}function uC(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,Ac(c)))}function Jf(a){return aC(),lC(),cC(),dC()}function dC(){if(Vn!==5)return!1;var a=Yr,c=wb;wb=0;var d=Ue(cl),p=M.T,g=U.p;try{U.p=32>d?32:d,M.T=null,d=_b,_b=null;var v=Yr,T=cl;if(Vn=0,ll=Yr=null,cl=0,(wt&6)!==0)throw Error(i(331));var O=wt;if(wt|=4,Kk(v.current),Wk(v,v.current,T,d),wt=O,Yc(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Hn,v)}catch{}return!0}finally{U.p=g,M.T=p,uC(a,c)}}function fC(a,c,d){c=Wi(d,c),c=eb(a.stateNode,c,2),a=Fr(a,c,2),a!==null&&(Oo(a,2),Rs(a))}function Ot(a,c,d){if(a.tag===3)fC(a,a,d);else for(;c!==null;){if(c.tag===3){fC(c,a,d);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Kr===null||!Kr.has(p))){a=Wi(d,a),d=gk(2),p=Fr(c,d,2),p!==null&&(bk(d,p,c,a),Oo(p,2),Rs(p));break}}c=c.return}}function Tb(a,c,d){var p=a.pingCache;if(p===null){p=a.pingCache=new Y3;var g=new Set;p.set(c,g)}else g=p.get(c),g===void 0&&(g=new Set,p.set(c,g));g.has(d)||(gb=!0,g.add(d),a=eM.bind(null,a,c,d),c.then(a,a))}function eM(a,c,d){var p=a.pingCache;p!==null&&p.delete(c),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Vt===a&&(at&d)===d&&(Zt===4||Zt===3&&(at&62914560)===at&&300>rt()-vb?(wt&2)===0&&ul(a,0):bb|=d,al===at&&(al=0)),Rs(a)}function hC(a,c){c===0&&(c=tf()),a=qa(a,c),a!==null&&(Oo(a,c),Rs(a))}function tM(a){var c=a.memoizedState,d=0;c!==null&&(d=c.retryLane),hC(a,d)}function nM(a,c){var d=0;switch(a.tag){case 13:var p=a.stateNode,g=a.memoizedState;g!==null&&(d=g.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(c),hC(a,d)}function iM(a,c){return Ye(a,c)}var Zf=null,fl=null,Eb=!1,Qf=!1,Ab=!1,Ko=0;function Rs(a){a!==fl&&a.next===null&&(fl===null?Zf=fl=a:fl=fl.next=a),Qf=!0,Eb||(Eb=!0,rM())}function Yc(a,c){if(!Ab&&Qf){Ab=!0;do for(var d=!1,p=Zf;p!==null;){if(a!==0){var g=p.pendingLanes;if(g===0)var v=0;else{var T=p.suspendedLanes,O=p.pingedLanes;v=(1<<31-Nt(42|a)+1)-1,v&=g&~(T&~O),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(d=!0,bC(p,v))}else v=at,v=ot(p,p===Vt?v:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(v&3)===0||$t(p,v)||(d=!0,bC(p,v));p=p.next}while(d);Ab=!1}}function sM(){pC()}function pC(){Qf=Eb=!1;var a=0;Ko!==0&&(hM()&&(a=Ko),Ko=0);for(var c=rt(),d=null,p=Zf;p!==null;){var g=p.next,v=mC(p,c);v===0?(p.next=null,d===null?Zf=g:d.next=g,g===null&&(fl=d)):(d=p,(a!==0||(v&3)!==0)&&(Qf=!0)),p=g}Yc(a)}function mC(a,c){for(var d=a.suspendedLanes,p=a.pingedLanes,g=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var T=31-Nt(v),O=1<<T,$=g[T];$===-1?((O&d)===0||(O&p)!==0)&&(g[T]=Ci(O,c)):$<=c&&(a.expiredLanes|=O),v&=~O}if(c=Vt,d=at,d=ot(a,a===c?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,d===0||a===c&&(_t===2||_t===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&ze(p),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||$t(a,d)){if(c=d&-d,c===a.callbackPriority)return c;switch(p!==null&&ze(p),Ue(d)){case 2:case 8:d=vt;break;case 32:d=ft;break;case 268435456:d=Dn;break;default:d=ft}return p=gC.bind(null,a),d=Ye(d,p),a.callbackPriority=c,a.callbackNode=d,c}return p!==null&&p!==null&&ze(p),a.callbackPriority=2,a.callbackNode=null,2}function gC(a,c){if(Vn!==0&&Vn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Jf()&&a.callbackNode!==d)return null;var p=at;return p=ot(a,a===Vt?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(Zk(a,p,c),mC(a,rt()),a.callbackNode!=null&&a.callbackNode===d?gC.bind(null,a):null)}function bC(a,c){if(Jf())return null;Zk(a,c,!0)}function rM(){mM(function(){(wt&6)!==0?Ye(yn,sM):pC()})}function Pb(){return Ko===0&&(Ko=Ro()),Ko}function yC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:uf(""+a)}function vC(a,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,a.id&&d.setAttribute("form",a.id),c.parentNode.insertBefore(d,c),a=new FormData(a),d.parentNode.removeChild(d),a}function oM(a,c,d,p,g){if(c==="submit"&&d&&d.stateNode===g){var v=yC((g[oi]||null).action),T=p.submitter;T&&(c=(c=T[oi]||null)?yC(c.formAction):T.getAttribute("formAction"),c!==null&&(v=c,T=null));var O=new pf("action","action",null,p,g);a.push({event:O,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ko!==0){var $=T?vC(g,T):new FormData(g);Yg(d,{pending:!0,data:$,method:g.method,action:v},null,$)}}else typeof v=="function"&&(O.preventDefault(),$=T?vC(g,T):new FormData(g),Yg(d,{pending:!0,data:$,method:g.method,action:v},v,$))},currentTarget:g}]})}}for(var Rb=0;Rb<pg.length;Rb++){var Ob=pg[Rb],aM=Ob.toLowerCase(),lM=Ob[0].toUpperCase()+Ob.slice(1);fs(aM,"on"+lM)}fs(Zw,"onAnimationEnd"),fs(Qw,"onAnimationIteration"),fs(e_,"onAnimationStart"),fs("dblclick","onDoubleClick"),fs("focusin","onFocus"),fs("focusout","onBlur"),fs(x3,"onTransitionRun"),fs(T3,"onTransitionStart"),fs(E3,"onTransitionCancel"),fs(t_,"onTransitionEnd"),Da("onMouseEnter",["mouseout","mouseover"]),Da("onMouseLeave",["mouseout","mouseover"]),Da("onPointerEnter",["pointerout","pointerover"]),Da("onPointerLeave",["pointerout","pointerover"]),Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xc));function wC(a,c){c=(c&4)!==0;for(var d=0;d<a.length;d++){var p=a[d],g=p.event;p=p.listeners;e:{var v=void 0;if(c)for(var T=p.length-1;0<=T;T--){var O=p[T],$=O.instance,te=O.currentTarget;if(O=O.listener,$!==v&&g.isPropagationStopped())break e;v=O,g.currentTarget=te;try{v(g)}catch(ue){zf(ue)}g.currentTarget=null,v=$}else for(T=0;T<p.length;T++){if(O=p[T],$=O.instance,te=O.currentTarget,O=O.listener,$!==v&&g.isPropagationStopped())break e;v=O,g.currentTarget=te;try{v(g)}catch(ue){zf(ue)}g.currentTarget=null,v=$}}}}function st(a,c){var d=c[jm];d===void 0&&(d=c[jm]=new Set);var p=a+"__bubble";d.has(p)||(_C(c,a,2,!1),d.add(p))}function Mb(a,c,d){var p=0;c&&(p|=4),_C(d,a,p,c)}var eh="_reactListening"+Math.random().toString(36).slice(2);function Ib(a){if(!a[eh]){a[eh]=!0,pw.forEach(function(d){d!=="selectionchange"&&(cM.has(d)||Mb(d,!1,a),Mb(d,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[eh]||(c[eh]=!0,Mb("selectionchange",!1,c))}}function _C(a,c,d,p){switch(WC(c)){case 2:var g=DM;break;case 8:g=NM;break;default:g=Gb}d=g.bind(null,c,d,a),g=void 0,!tg||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(g=!0),p?g!==void 0?a.addEventListener(c,d,{capture:!0,passive:g}):a.addEventListener(c,d,!0):g!==void 0?a.addEventListener(c,d,{passive:g}):a.addEventListener(c,d,!1)}function Lb(a,c,d,p,g){var v=p;if((c&1)===0&&(c&2)===0&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var O=p.stateNode.containerInfo;if(O===g)break;if(T===4)for(T=p.return;T!==null;){var $=T.tag;if(($===3||$===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;O!==null;){if(T=Ia(O),T===null)return;if($=T.tag,$===5||$===6||$===26||$===27){p=v=T;continue e}O=O.parentNode}}p=p.return}Aw(function(){var te=v,ue=Qm(d),me=[];e:{var ne=n_.get(a);if(ne!==void 0){var se=pf,Fe=a;switch(a){case"keypress":if(ff(d)===0)break e;case"keydown":case"keyup":se=i3;break;case"focusin":Fe="focus",se=rg;break;case"focusout":Fe="blur",se=rg;break;case"beforeblur":case"afterblur":se=rg;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Ow;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=W4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=o3;break;case Zw:case Qw:case e_:se=K4;break;case t_:se=l3;break;case"scroll":case"scrollend":se=H4;break;case"wheel":se=u3;break;case"copy":case"cut":case"paste":se=X4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Iw;break;case"toggle":case"beforetoggle":se=f3}var Ne=(c&4)!==0,Tt=!Ne&&(a==="scroll"||a==="scrollend"),X=Ne?ne!==null?ne+"Capture":null:ne;Ne=[];for(var q=te,ee;q!==null;){var fe=q;if(ee=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ee===null||X===null||(fe=mc(q,X),fe!=null&&Ne.push(Jc(q,fe,ee))),Tt)break;q=q.return}0<Ne.length&&(ne=new se(ne,Fe,null,d,ue),me.push({event:ne,listeners:Ne}))}}if((c&7)===0){e:{if(ne=a==="mouseover"||a==="pointerover",se=a==="mouseout"||a==="pointerout",ne&&d!==Zm&&(Fe=d.relatedTarget||d.fromElement)&&(Ia(Fe)||Fe[Ma]))break e;if((se||ne)&&(ne=ue.window===ue?ue:(ne=ue.ownerDocument)?ne.defaultView||ne.parentWindow:window,se?(Fe=d.relatedTarget||d.toElement,se=te,Fe=Fe?Ia(Fe):null,Fe!==null&&(Tt=r(Fe),Ne=Fe.tag,Fe!==Tt||Ne!==5&&Ne!==27&&Ne!==6)&&(Fe=null)):(se=null,Fe=te),se!==Fe)){if(Ne=Ow,fe="onMouseLeave",X="onMouseEnter",q="mouse",(a==="pointerout"||a==="pointerover")&&(Ne=Iw,fe="onPointerLeave",X="onPointerEnter",q="pointer"),Tt=se==null?ne:pc(se),ee=Fe==null?ne:pc(Fe),ne=new Ne(fe,q+"leave",se,d,ue),ne.target=Tt,ne.relatedTarget=ee,fe=null,Ia(ue)===te&&(Ne=new Ne(X,q+"enter",Fe,d,ue),Ne.target=ee,Ne.relatedTarget=Tt,fe=Ne),Tt=fe,se&&Fe)t:{for(Ne=se,X=Fe,q=0,ee=Ne;ee;ee=hl(ee))q++;for(ee=0,fe=X;fe;fe=hl(fe))ee++;for(;0<q-ee;)Ne=hl(Ne),q--;for(;0<ee-q;)X=hl(X),ee--;for(;q--;){if(Ne===X||X!==null&&Ne===X.alternate)break t;Ne=hl(Ne),X=hl(X)}Ne=null}else Ne=null;se!==null&&kC(me,ne,se,Ne,!1),Fe!==null&&Tt!==null&&kC(me,Tt,Fe,Ne,!0)}}e:{if(ne=te?pc(te):window,se=ne.nodeName&&ne.nodeName.toLowerCase(),se==="select"||se==="input"&&ne.type==="file")var xe=Uw;else if(Fw(ne))if($w)xe=k3;else{xe=w3;var tt=v3}else se=ne.nodeName,!se||se.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&Jm(te.elementType)&&(xe=Uw):xe=_3;if(xe&&(xe=xe(a,te))){zw(me,xe,d,ue);break e}tt&&tt(a,ne,te),a==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&Xm(ne,"number",ne.value)}switch(tt=te?pc(te):window,a){case"focusin":(Fw(tt)||tt.contentEditable==="true")&&(Ha=tt,dg=te,Cc=null);break;case"focusout":Cc=dg=Ha=null;break;case"mousedown":fg=!0;break;case"contextmenu":case"mouseup":case"dragend":fg=!1,Xw(me,d,ue);break;case"selectionchange":if(S3)break;case"keydown":case"keyup":Xw(me,d,ue)}var Me;if(ag)e:{switch(a){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else $a?Nw(a,d)&&(Ve="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Ve="onCompositionStart");Ve&&(Lw&&d.locale!=="ko"&&($a||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&$a&&(Me=Pw()):(Br=ue,ng="value"in Br?Br.value:Br.textContent,$a=!0)),tt=th(te,Ve),0<tt.length&&(Ve=new Mw(Ve,a,null,d,ue),me.push({event:Ve,listeners:tt}),Me?Ve.data=Me:(Me=Vw(d),Me!==null&&(Ve.data=Me)))),(Me=p3?m3(a,d):g3(a,d))&&(Ve=th(te,"onBeforeInput"),0<Ve.length&&(tt=new Mw("onBeforeInput","beforeinput",null,d,ue),me.push({event:tt,listeners:Ve}),tt.data=Me)),oM(me,a,te,d,ue)}wC(me,c)})}function Jc(a,c,d){return{instance:a,listener:c,currentTarget:d}}function th(a,c){for(var d=c+"Capture",p=[];a!==null;){var g=a,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=mc(a,d),g!=null&&p.unshift(Jc(a,g,v)),g=mc(a,c),g!=null&&p.push(Jc(a,g,v))),a.tag===3)return p;a=a.return}return[]}function hl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function kC(a,c,d,p,g){for(var v=c._reactName,T=[];d!==null&&d!==p;){var O=d,$=O.alternate,te=O.stateNode;if(O=O.tag,$!==null&&$===p)break;O!==5&&O!==26&&O!==27||te===null||($=te,g?(te=mc(d,v),te!=null&&T.unshift(Jc(d,te,$))):g||(te=mc(d,v),te!=null&&T.push(Jc(d,te,$)))),d=d.return}T.length!==0&&a.push({event:c,listeners:T})}var uM=/\r\n?/g,dM=/\u0000|\uFFFD/g;function CC(a){return(typeof a=="string"?a:""+a).replace(uM,`
`).replace(dM,"")}function SC(a,c){return c=CC(c),CC(a)===c}function nh(){}function xt(a,c,d,p,g,v){switch(d){case"children":typeof p=="string"?c==="body"||c==="textarea"&&p===""||Fa(a,p):(typeof p=="number"||typeof p=="bigint")&&c!=="body"&&Fa(a,""+p);break;case"className":af(a,"class",p);break;case"tabIndex":af(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":af(a,d,p);break;case"style":Tw(a,p,v);break;case"data":if(c!=="object"){af(a,"data",p);break}case"src":case"href":if(p===""&&(c!=="a"||d!=="href")){a.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(d);break}p=uf(""+p),a.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(d==="formAction"?(c!=="input"&&xt(a,c,"name",g.name,g,null),xt(a,c,"formEncType",g.formEncType,g,null),xt(a,c,"formMethod",g.formMethod,g,null),xt(a,c,"formTarget",g.formTarget,g,null)):(xt(a,c,"encType",g.encType,g,null),xt(a,c,"method",g.method,g,null),xt(a,c,"target",g.target,g,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(d);break}p=uf(""+p),a.setAttribute(d,p);break;case"onClick":p!=null&&(a.onclick=nh);break;case"onScroll":p!=null&&st("scroll",a);break;case"onScrollEnd":p!=null&&st("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(d=p.__html,d!=null){if(g.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}d=uf(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,""+p):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":p===!0?a.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,p):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(d,p):a.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(d):a.setAttribute(d,p);break;case"popover":st("beforetoggle",a),st("toggle",a),of(a,"popover",p);break;case"xlinkActuate":Xs(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Xs(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Xs(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Xs(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Xs(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Xs(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Xs(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Xs(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Xs(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":of(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=U4.get(d)||d,of(a,d,p))}}function Bb(a,c,d,p,g,v){switch(d){case"style":Tw(a,p,v);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(d=p.__html,d!=null){if(g.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"children":typeof p=="string"?Fa(a,p):(typeof p=="number"||typeof p=="bigint")&&Fa(a,""+p);break;case"onScroll":p!=null&&st("scroll",a);break;case"onScrollEnd":p!=null&&st("scrollend",a);break;case"onClick":p!=null&&(a.onclick=nh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mw.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(g=d.endsWith("Capture"),c=d.slice(2,g?d.length-7:void 0),v=a[oi]||null,v=v!=null?v[d]:null,typeof v=="function"&&a.removeEventListener(c,v,g),typeof p=="function")){typeof v!="function"&&v!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(c,p,g);break e}d in a?a[d]=p:p===!0?a.setAttribute(d,""):of(a,d,p)}}}function Fn(a,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",a),st("load",a);var p=!1,g=!1,v;for(v in d)if(d.hasOwnProperty(v)){var T=d[v];if(T!=null)switch(v){case"src":p=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:xt(a,c,v,T,d,null)}}g&&xt(a,c,"srcSet",d.srcSet,d,null),p&&xt(a,c,"src",d.src,d,null);return;case"input":st("invalid",a);var O=v=T=g=null,$=null,te=null;for(p in d)if(d.hasOwnProperty(p)){var ue=d[p];if(ue!=null)switch(p){case"name":g=ue;break;case"type":T=ue;break;case"checked":$=ue;break;case"defaultChecked":te=ue;break;case"value":v=ue;break;case"defaultValue":O=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(i(137,c));break;default:xt(a,c,p,ue,d,null)}}kw(a,v,O,$,te,T,g,!1),lf(a);return;case"select":st("invalid",a),p=T=v=null;for(g in d)if(d.hasOwnProperty(g)&&(O=d[g],O!=null))switch(g){case"value":v=O;break;case"defaultValue":T=O;break;case"multiple":p=O;default:xt(a,c,g,O,d,null)}c=v,d=T,a.multiple=!!p,c!=null?Va(a,!!p,c,!1):d!=null&&Va(a,!!p,d,!0);return;case"textarea":st("invalid",a),v=g=p=null;for(T in d)if(d.hasOwnProperty(T)&&(O=d[T],O!=null))switch(T){case"value":p=O;break;case"defaultValue":g=O;break;case"children":v=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:xt(a,c,T,O,d,null)}Sw(a,p,g,v),lf(a);return;case"option":for($ in d)if(d.hasOwnProperty($)&&(p=d[$],p!=null))switch($){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:xt(a,c,$,p,d,null)}return;case"dialog":st("beforetoggle",a),st("toggle",a),st("cancel",a),st("close",a);break;case"iframe":case"object":st("load",a);break;case"video":case"audio":for(p=0;p<Xc.length;p++)st(Xc[p],a);break;case"image":st("error",a),st("load",a);break;case"details":st("toggle",a);break;case"embed":case"source":case"link":st("error",a),st("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in d)if(d.hasOwnProperty(te)&&(p=d[te],p!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:xt(a,c,te,p,d,null)}return;default:if(Jm(c)){for(ue in d)d.hasOwnProperty(ue)&&(p=d[ue],p!==void 0&&Bb(a,c,ue,p,d,void 0));return}}for(O in d)d.hasOwnProperty(O)&&(p=d[O],p!=null&&xt(a,c,O,p,d,null))}function fM(a,c,d,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,T=null,O=null,$=null,te=null,ue=null;for(se in d){var me=d[se];if(d.hasOwnProperty(se)&&me!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":$=me;default:p.hasOwnProperty(se)||xt(a,c,se,null,p,me)}}for(var ne in p){var se=p[ne];if(me=d[ne],p.hasOwnProperty(ne)&&(se!=null||me!=null))switch(ne){case"type":v=se;break;case"name":g=se;break;case"checked":te=se;break;case"defaultChecked":ue=se;break;case"value":T=se;break;case"defaultValue":O=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,c));break;default:se!==me&&xt(a,c,ne,se,p,me)}}Ym(a,T,O,$,te,ue,v,g);return;case"select":se=T=O=ne=null;for(v in d)if($=d[v],d.hasOwnProperty(v)&&$!=null)switch(v){case"value":break;case"multiple":se=$;default:p.hasOwnProperty(v)||xt(a,c,v,null,p,$)}for(g in p)if(v=p[g],$=d[g],p.hasOwnProperty(g)&&(v!=null||$!=null))switch(g){case"value":ne=v;break;case"defaultValue":O=v;break;case"multiple":T=v;default:v!==$&&xt(a,c,g,v,p,$)}c=O,d=T,p=se,ne!=null?Va(a,!!d,ne,!1):!!p!=!!d&&(c!=null?Va(a,!!d,c,!0):Va(a,!!d,d?[]:"",!1));return;case"textarea":se=ne=null;for(O in d)if(g=d[O],d.hasOwnProperty(O)&&g!=null&&!p.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:xt(a,c,O,null,p,g)}for(T in p)if(g=p[T],v=d[T],p.hasOwnProperty(T)&&(g!=null||v!=null))switch(T){case"value":ne=g;break;case"defaultValue":se=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==v&&xt(a,c,T,g,p,v)}Cw(a,ne,se);return;case"option":for(var Fe in d)if(ne=d[Fe],d.hasOwnProperty(Fe)&&ne!=null&&!p.hasOwnProperty(Fe))switch(Fe){case"selected":a.selected=!1;break;default:xt(a,c,Fe,null,p,ne)}for($ in p)if(ne=p[$],se=d[$],p.hasOwnProperty($)&&ne!==se&&(ne!=null||se!=null))switch($){case"selected":a.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:xt(a,c,$,ne,p,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in d)ne=d[Ne],d.hasOwnProperty(Ne)&&ne!=null&&!p.hasOwnProperty(Ne)&&xt(a,c,Ne,null,p,ne);for(te in p)if(ne=p[te],se=d[te],p.hasOwnProperty(te)&&ne!==se&&(ne!=null||se!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,c));break;default:xt(a,c,te,ne,p,se)}return;default:if(Jm(c)){for(var Tt in d)ne=d[Tt],d.hasOwnProperty(Tt)&&ne!==void 0&&!p.hasOwnProperty(Tt)&&Bb(a,c,Tt,void 0,p,ne);for(ue in p)ne=p[ue],se=d[ue],!p.hasOwnProperty(ue)||ne===se||ne===void 0&&se===void 0||Bb(a,c,ue,ne,p,se);return}}for(var X in d)ne=d[X],d.hasOwnProperty(X)&&ne!=null&&!p.hasOwnProperty(X)&&xt(a,c,X,null,p,ne);for(me in p)ne=p[me],se=d[me],!p.hasOwnProperty(me)||ne===se||ne==null&&se==null||xt(a,c,me,ne,p,se)}var Db=null,Nb=null;function ih(a){return a.nodeType===9?a:a.ownerDocument}function xC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TC(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function Vb(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Fb=null;function hM(){var a=window.event;return a&&a.type==="popstate"?a===Fb?!1:(Fb=a,!0):(Fb=null,!1)}var EC=typeof setTimeout=="function"?setTimeout:void 0,pM=typeof clearTimeout=="function"?clearTimeout:void 0,AC=typeof Promise=="function"?Promise:void 0,mM=typeof queueMicrotask=="function"?queueMicrotask:typeof AC<"u"?function(a){return AC.resolve(null).then(a).catch(gM)}:EC;function gM(a){setTimeout(function(){throw a})}function Jr(a){return a==="head"}function PC(a,c){var d=c,p=0,g=0;do{var v=d.nextSibling;if(a.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(0<p&&8>p){d=p;var T=a.ownerDocument;if(d&1&&Zc(T.documentElement),d&2&&Zc(T.body),d&4)for(d=T.head,Zc(d),T=d.firstChild;T;){var O=T.nextSibling,$=T.nodeName;T[hc]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&T.rel.toLowerCase()==="stylesheet"||d.removeChild(T),T=O}}if(g===0){a.removeChild(v),ou(c);return}g--}else d==="$"||d==="$?"||d==="$!"?g++:p=d.charCodeAt(0)-48;else p=0;d=v}while(d);ou(c)}function zb(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":zb(d),Wm(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function bM(a,c,d,p){for(;a.nodeType===1;){var g=d;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[hc])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==g.rel||a.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=ps(a.nextSibling),a===null)break}return null}function yM(a,c,d){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=ps(a.nextSibling),a===null))return null;return a}function Ub(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function vM(a,c){var d=a.ownerDocument;if(a.data!=="$?"||d.readyState==="complete")c();else{var p=function(){c(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function ps(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return a}var $b=null;function RC(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(c===0)return a;c--}else d==="/$"&&c++}a=a.previousSibling}return null}function OC(a,c,d){switch(c=ih(d),a){case"html":if(a=c.documentElement,!a)throw Error(i(452));return a;case"head":if(a=c.head,!a)throw Error(i(453));return a;case"body":if(a=c.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Zc(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);Wm(a)}var Ji=new Map,MC=new Set;function sh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ur=U.d;U.d={f:wM,r:_M,D:kM,C:CM,L:SM,m:xM,X:EM,S:TM,M:AM};function wM(){var a=ur.f(),c=Yf();return a||c}function _M(a){var c=La(a);c!==null&&c.tag===5&&c.type==="form"?Z_(c):ur.r(a)}var pl=typeof document>"u"?null:document;function IC(a,c,d){var p=pl;if(p&&typeof c=="string"&&c){var g=ji(c);g='link[rel="'+a+'"][href="'+g+'"]',typeof d=="string"&&(g+='[crossorigin="'+d+'"]'),MC.has(g)||(MC.add(g),a={rel:a,crossOrigin:d,href:c},p.querySelector(g)===null&&(c=p.createElement("link"),Fn(c,"link",a),En(c),p.head.appendChild(c)))}}function kM(a){ur.D(a),IC("dns-prefetch",a,null)}function CM(a,c){ur.C(a,c),IC("preconnect",a,c)}function SM(a,c,d){ur.L(a,c,d);var p=pl;if(p&&a&&c){var g='link[rel="preload"][as="'+ji(c)+'"]';c==="image"&&d&&d.imageSrcSet?(g+='[imagesrcset="'+ji(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(g+='[imagesizes="'+ji(d.imageSizes)+'"]')):g+='[href="'+ji(a)+'"]';var v=g;switch(c){case"style":v=ml(a);break;case"script":v=gl(a)}Ji.has(v)||(a=h({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:a,as:c},d),Ji.set(v,a),p.querySelector(g)!==null||c==="style"&&p.querySelector(Qc(v))||c==="script"&&p.querySelector(eu(v))||(c=p.createElement("link"),Fn(c,"link",a),En(c),p.head.appendChild(c)))}}function xM(a,c){ur.m(a,c);var d=pl;if(d&&a){var p=c&&typeof c.as=="string"?c.as:"script",g='link[rel="modulepreload"][as="'+ji(p)+'"][href="'+ji(a)+'"]',v=g;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=gl(a)}if(!Ji.has(v)&&(a=h({rel:"modulepreload",href:a},c),Ji.set(v,a),d.querySelector(g)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(eu(v)))return}p=d.createElement("link"),Fn(p,"link",a),En(p),d.head.appendChild(p)}}}function TM(a,c,d){ur.S(a,c,d);var p=pl;if(p&&a){var g=Ba(p).hoistableStyles,v=ml(a);c=c||"default";var T=g.get(v);if(!T){var O={loading:0,preload:null};if(T=p.querySelector(Qc(v)))O.loading=5;else{a=h({rel:"stylesheet",href:a,"data-precedence":c},d),(d=Ji.get(v))&&Hb(a,d);var $=T=p.createElement("link");En($),Fn($,"link",a),$._p=new Promise(function(te,ue){$.onload=te,$.onerror=ue}),$.addEventListener("load",function(){O.loading|=1}),$.addEventListener("error",function(){O.loading|=2}),O.loading|=4,rh(T,c,p)}T={type:"stylesheet",instance:T,count:1,state:O},g.set(v,T)}}}function EM(a,c){ur.X(a,c);var d=pl;if(d&&a){var p=Ba(d).hoistableScripts,g=gl(a),v=p.get(g);v||(v=d.querySelector(eu(g)),v||(a=h({src:a,async:!0},c),(c=Ji.get(g))&&jb(a,c),v=d.createElement("script"),En(v),Fn(v,"link",a),d.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},p.set(g,v))}}function AM(a,c){ur.M(a,c);var d=pl;if(d&&a){var p=Ba(d).hoistableScripts,g=gl(a),v=p.get(g);v||(v=d.querySelector(eu(g)),v||(a=h({src:a,async:!0,type:"module"},c),(c=Ji.get(g))&&jb(a,c),v=d.createElement("script"),En(v),Fn(v,"link",a),d.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},p.set(g,v))}}function LC(a,c,d,p){var g=(g=ce.current)?sh(g):null;if(!g)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=ml(d.href),d=Ba(g).hoistableStyles,p=d.get(c),p||(p={type:"style",instance:null,count:0,state:null},d.set(c,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=ml(d.href);var v=Ba(g).hoistableStyles,T=v.get(a);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,T),(v=g.querySelector(Qc(a)))&&!v._p&&(T.instance=v,T.state.loading=5),Ji.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Ji.set(a,d),v||PM(g,a,d,T.state))),c&&p===null)throw Error(i(528,""));return T}if(c&&p!==null)throw Error(i(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=gl(d),d=Ba(g).hoistableScripts,p=d.get(c),p||(p={type:"script",instance:null,count:0,state:null},d.set(c,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function ml(a){return'href="'+ji(a)+'"'}function Qc(a){return'link[rel="stylesheet"]['+a+"]"}function BC(a){return h({},a,{"data-precedence":a.precedence,precedence:null})}function PM(a,c,d,p){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?p.loading=1:(c=a.createElement("link"),p.preload=c,c.addEventListener("load",function(){return p.loading|=1}),c.addEventListener("error",function(){return p.loading|=2}),Fn(c,"link",d),En(c),a.head.appendChild(c))}function gl(a){return'[src="'+ji(a)+'"]'}function eu(a){return"script[async]"+a}function DC(a,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var p=a.querySelector('style[data-href~="'+ji(d.href)+'"]');if(p)return c.instance=p,En(p),p;var g=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),En(p),Fn(p,"style",g),rh(p,d.precedence,a),c.instance=p;case"stylesheet":g=ml(d.href);var v=a.querySelector(Qc(g));if(v)return c.state.loading|=4,c.instance=v,En(v),v;p=BC(d),(g=Ji.get(g))&&Hb(p,g),v=(a.ownerDocument||a).createElement("link"),En(v);var T=v;return T._p=new Promise(function(O,$){T.onload=O,T.onerror=$}),Fn(v,"link",p),c.state.loading|=4,rh(v,d.precedence,a),c.instance=v;case"script":return v=gl(d.src),(g=a.querySelector(eu(v)))?(c.instance=g,En(g),g):(p=d,(g=Ji.get(v))&&(p=h({},d),jb(p,g)),a=a.ownerDocument||a,g=a.createElement("script"),En(g),Fn(g,"link",p),a.head.appendChild(g),c.instance=g);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(p=c.instance,c.state.loading|=4,rh(p,d.precedence,a));return c.instance}function rh(a,c,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=p.length?p[p.length-1]:null,v=g,T=0;T<p.length;T++){var O=p[T];if(O.dataset.precedence===c)v=O;else if(v!==g)break}v?v.parentNode.insertBefore(a,v.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(a,c.firstChild))}function Hb(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function jb(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var oh=null;function NC(a,c,d){if(oh===null){var p=new Map,g=oh=new Map;g.set(d,p)}else g=oh,p=g.get(d),p||(p=new Map,g.set(d,p));if(p.has(a))return p;for(p.set(a,null),d=d.getElementsByTagName(a),g=0;g<d.length;g++){var v=d[g];if(!(v[hc]||v[jn]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var T=v.getAttribute(c)||"";T=a+T;var O=p.get(T);O?O.push(v):p.set(T,[v])}}return p}function VC(a,c,d){a=a.ownerDocument||a,a.head.insertBefore(d,c==="title"?a.querySelector("head > title"):null)}function RM(a,c,d){if(d===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function FC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var tu=null;function OM(){}function MM(a,c,d){if(tu===null)throw Error(i(475));var p=tu;if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=ml(d.href),v=a.querySelector(Qc(g));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(p.count++,p=ah.bind(p),a.then(p,p)),c.state.loading|=4,c.instance=v,En(v);return}v=a.ownerDocument||a,d=BC(d),(g=Ji.get(g))&&Hb(d,g),v=v.createElement("link"),En(v);var T=v;T._p=new Promise(function(O,$){T.onload=O,T.onerror=$}),Fn(v,"link",d),c.instance=v}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(p.count++,c=ah.bind(p),a.addEventListener("load",c),a.addEventListener("error",c))}}function IM(){if(tu===null)throw Error(i(475));var a=tu;return a.stylesheets&&a.count===0&&Wb(a,a.stylesheets),0<a.count?function(c){var d=setTimeout(function(){if(a.stylesheets&&Wb(a,a.stylesheets),a.unsuspend){var p=a.unsuspend;a.unsuspend=null,p()}},6e4);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(d)}}:null}function ah(){if(this.count--,this.count===0){if(this.stylesheets)Wb(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var lh=null;function Wb(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,lh=new Map,c.forEach(LM,a),lh=null,ah.call(a))}function LM(a,c){if(!(c.state.loading&4)){var d=lh.get(a);if(d)var p=d.get(null);else{d=new Map,lh.set(a,d);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var T=g[v];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(d.set(T.dataset.precedence,T),p=T)}p&&d.set(null,p)}g=c.instance,T=g.getAttribute("data-precedence"),v=d.get(T)||p,v===p&&d.set(null,g),d.set(T,g),this.count++,p=ah.bind(this),g.addEventListener("load",p),g.addEventListener("error",p),v?v.parentNode.insertBefore(g,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),c.state.loading|=4}}var nu={$$typeof:E,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function BM(a,c,d,p,g,v,T,O){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dc(0),this.hiddenUpdates=dc(null),this.identifierPrefix=p,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function zC(a,c,d,p,g,v,T,O,$,te,ue,me){return a=new BM(a,c,d,T,O,$,te,me),c=1,v===!0&&(c|=24),v=xi(3,null,null,c),a.current=v,v.stateNode=a,c=Tg(),c.refCount++,a.pooledCache=c,c.refCount++,v.memoizedState={element:p,isDehydrated:d,cache:c},Rg(v),a}function UC(a){return a?(a=Ga,a):Ga}function $C(a,c,d,p,g,v){g=UC(g),p.context===null?p.context=g:p.pendingContext=g,p=Vr(c),p.payload={element:d},v=v===void 0?null:v,v!==null&&(p.callback=v),d=Fr(a,p,c),d!==null&&(Ri(d,a,c),Mc(d,a,c))}function HC(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<c?d:c}}function qb(a,c){HC(a,c),(a=a.alternate)&&HC(a,c)}function jC(a){if(a.tag===13){var c=qa(a,67108864);c!==null&&Ri(c,a,67108864),qb(a,67108864)}}var ch=!0;function DM(a,c,d,p){var g=M.T;M.T=null;var v=U.p;try{U.p=2,Gb(a,c,d,p)}finally{U.p=v,M.T=g}}function NM(a,c,d,p){var g=M.T;M.T=null;var v=U.p;try{U.p=8,Gb(a,c,d,p)}finally{U.p=v,M.T=g}}function Gb(a,c,d,p){if(ch){var g=Kb(p);if(g===null)Lb(a,c,p,uh,d),qC(a,p);else if(FM(g,a,c,d,p))p.stopPropagation();else if(qC(a,p),c&4&&-1<VM.indexOf(a)){for(;g!==null;){var v=La(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var T=Re(v.pendingLanes);if(T!==0){var O=v;for(O.pendingLanes|=2,O.entangledLanes|=2;T;){var $=1<<31-Nt(T);O.entanglements[1]|=$,T&=~$}Rs(v),(wt&6)===0&&(Gf=rt()+500,Yc(0))}}break;case 13:O=qa(v,2),O!==null&&Ri(O,v,2),Yf(),qb(v,2)}if(v=Kb(p),v===null&&Lb(a,c,p,uh,d),v===g)break;g=v}g!==null&&p.stopPropagation()}else Lb(a,c,p,null,d)}}function Kb(a){return a=Qm(a),Yb(a)}var uh=null;function Yb(a){if(uh=null,a=Ia(a),a!==null){var c=r(a);if(c===null)a=null;else{var d=c.tag;if(d===13){if(a=o(c),a!==null)return a;a=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return uh=a,null}function WC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rt()){case yn:return 2;case vt:return 8;case ft:case Pe:return 32;case Dn:return 268435456;default:return 32}default:return 32}}var Xb=!1,Zr=null,Qr=null,eo=null,iu=new Map,su=new Map,to=[],VM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qC(a,c){switch(a){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":iu.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(c.pointerId)}}function ru(a,c,d,p,g,v){return a===null||a.nativeEvent!==v?(a={blockedOn:c,domEventName:d,eventSystemFlags:p,nativeEvent:v,targetContainers:[g]},c!==null&&(c=La(c),c!==null&&jC(c)),a):(a.eventSystemFlags|=p,c=a.targetContainers,g!==null&&c.indexOf(g)===-1&&c.push(g),a)}function FM(a,c,d,p,g){switch(c){case"focusin":return Zr=ru(Zr,a,c,d,p,g),!0;case"dragenter":return Qr=ru(Qr,a,c,d,p,g),!0;case"mouseover":return eo=ru(eo,a,c,d,p,g),!0;case"pointerover":var v=g.pointerId;return iu.set(v,ru(iu.get(v)||null,a,c,d,p,g)),!0;case"gotpointercapture":return v=g.pointerId,su.set(v,ru(su.get(v)||null,a,c,d,p,g)),!0}return!1}function GC(a){var c=Ia(a.target);if(c!==null){var d=r(c);if(d!==null){if(c=d.tag,c===13){if(c=o(d),c!==null){a.blockedOn=c,rf(a.priority,function(){if(d.tag===13){var p=Pi();p=fc(p);var g=qa(d,p);g!==null&&Ri(g,d,p),qb(d,p)}});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function dh(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var d=Kb(a.nativeEvent);if(d===null){d=a.nativeEvent;var p=new d.constructor(d.type,d);Zm=p,d.target.dispatchEvent(p),Zm=null}else return c=La(d),c!==null&&jC(c),a.blockedOn=d,!1;c.shift()}return!0}function KC(a,c,d){dh(a)&&d.delete(c)}function zM(){Xb=!1,Zr!==null&&dh(Zr)&&(Zr=null),Qr!==null&&dh(Qr)&&(Qr=null),eo!==null&&dh(eo)&&(eo=null),iu.forEach(KC),su.forEach(KC)}function fh(a,c){a.blockedOn===c&&(a.blockedOn=null,Xb||(Xb=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zM)))}var hh=null;function YC(a){hh!==a&&(hh=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){hh===a&&(hh=null);for(var c=0;c<a.length;c+=3){var d=a[c],p=a[c+1],g=a[c+2];if(typeof p!="function"){if(Yb(p||d)===null)continue;break}var v=La(d);v!==null&&(a.splice(c,3),c-=3,Yg(v,{pending:!0,data:g,method:d.method,action:p},p,g))}}))}function ou(a){function c($){return fh($,a)}Zr!==null&&fh(Zr,a),Qr!==null&&fh(Qr,a),eo!==null&&fh(eo,a),iu.forEach(c),su.forEach(c);for(var d=0;d<to.length;d++){var p=to[d];p.blockedOn===a&&(p.blockedOn=null)}for(;0<to.length&&(d=to[0],d.blockedOn===null);)GC(d),d.blockedOn===null&&to.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var g=d[p],v=d[p+1],T=g[oi]||null;if(typeof v=="function")T||YC(d);else if(T){var O=null;if(v&&v.hasAttribute("formAction")){if(g=v,T=v[oi]||null)O=T.formAction;else if(Yb(g)!==null)continue}else O=T.action;typeof O=="function"?d[p+1]=O:(d.splice(p,3),p-=3),YC(d)}}}function Jb(a){this._internalRoot=a}ph.prototype.render=Jb.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(i(409));var d=c.current,p=Pi();$C(d,p,a,c,null,null)},ph.prototype.unmount=Jb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;$C(a.current,2,null,a,null,null),Yf(),c[Ma]=null}};function ph(a){this._internalRoot=a}ph.prototype.unstable_scheduleHydration=function(a){if(a){var c=ri();a={blockedOn:null,target:a,priority:c};for(var d=0;d<to.length&&c!==0&&c<to[d].priority;d++);to.splice(d,0,a),d===0&&GC(a)}};var XC=t.version;if(XC!=="19.1.0")throw Error(i(527,XC,"19.1.0"));U.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=u(c),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var UM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{Hn=mh.inject(UM),Dt=mh}catch{}}return cu.createRoot=function(a,c){if(!s(a))throw Error(i(299));var d=!1,p="",g=fk,v=hk,T=pk,O=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(g=c.onUncaughtError),c.onCaughtError!==void 0&&(v=c.onCaughtError),c.onRecoverableError!==void 0&&(T=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(O=c.unstable_transitionCallbacks)),c=zC(a,1,!1,null,null,d,p,g,v,T,O,null),a[Ma]=c.current,Ib(a),new Jb(c)},cu.hydrateRoot=function(a,c,d){if(!s(a))throw Error(i(299));var p=!1,g="",v=fk,T=hk,O=pk,$=null,te=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(v=d.onUncaughtError),d.onCaughtError!==void 0&&(T=d.onCaughtError),d.onRecoverableError!==void 0&&(O=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&($=d.unstable_transitionCallbacks),d.formState!==void 0&&(te=d.formState)),c=zC(a,1,!0,c,d??null,p,g,v,T,O,$,te),c.context=UC(null),d=c.current,p=Pi(),p=fc(p),g=Vr(p),g.callback=null,Fr(d,g,p),d=p,c.current.lanes=d,Oo(c,d),Rs(c),a[Ma]=c.current,Ib(a),new ph(c)},cu.version="19.1.0",cu}var bS;function $I(){if(bS)return i0.exports;bS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),i0.exports=UI(),i0.exports}var HI=$I(),uA=cA();const bh=ic(uA);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function od(){return od=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},od.apply(this,arguments)}var fo;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(fo||(fo={}));const yS="popstate";function jI(n){n===void 0&&(n={});function t(i,s){let{pathname:r,search:o,hash:l}=i.location;return hy("",{pathname:r,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:cp(s)}return qI(t,e,null,n)}function on(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function dA(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WI(){return Math.random().toString(36).substr(2,8)}function vS(n,t){return{usr:n.state,key:n.key,idx:t}}function hy(n,t,e,i){return e===void 0&&(e=null),od({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?rc(t):t,{state:e,key:t&&t.key||i||WI()})}function cp(n){let{pathname:t="/",search:e="",hash:i=""}=n;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function rc(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substr(e),n=n.substr(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substr(i),n=n.substr(0,i)),n&&(t.pathname=n)}return t}function qI(n,t,e,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,l=fo.Pop,u=null,f=h();f==null&&(f=0,o.replaceState(od({},o.state,{idx:f}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=fo.Pop;let x=h(),A=x==null?null:x-f;f=x,u&&u({action:l,location:k.location,delta:A})}function b(x,A){l=fo.Push;let L=hy(k.location,x,A);f=h()+1;let E=vS(L,f),P=k.createHref(L);try{o.pushState(E,"",P)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(P)}r&&u&&u({action:l,location:k.location,delta:1})}function w(x,A){l=fo.Replace;let L=hy(k.location,x,A);f=h();let E=vS(L,f),P=k.createHref(L);o.replaceState(E,"",P),r&&u&&u({action:l,location:k.location,delta:0})}function _(x){let A=s.location.origin!=="null"?s.location.origin:s.location.href,L=typeof x=="string"?x:cp(x);return L=L.replace(/ $/,"%20"),on(A,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,A)}let k={get action(){return l},get location(){return n(s,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(yS,m),u=x,()=>{s.removeEventListener(yS,m),u=null}},createHref(x){return t(s,x)},createURL:_,encodeLocation(x){let A=_(x);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:b,replace:w,go(x){return o.go(x)}};return k}var wS;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(wS||(wS={}));function GI(n,t,e){return e===void 0&&(e="/"),KI(n,t,e)}function KI(n,t,e,i){let s=typeof t=="string"?rc(t):t,r=Wl(s.pathname||"/",e);if(r==null)return null;let o=fA(n);YI(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let f=o6(r);l=s6(o[u],f)}return l}function fA(n,t,e,i){t===void 0&&(t=[]),e===void 0&&(e=[]),i===void 0&&(i="");let s=(r,o,l)=>{let u={relativePath:l===void 0?r.path||"":l,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};u.relativePath.startsWith("/")&&(on(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let f=ho([i,u.relativePath]),h=e.concat(u);r.children&&r.children.length>0&&(on(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),fA(r.children,t,h,f)),!(r.path==null&&!r.index)&&t.push({path:f,score:n6(f,r.index),routesMeta:h})};return n.forEach((r,o)=>{var l;if(r.path===""||!((l=r.path)!=null&&l.includes("?")))s(r,o);else for(let u of hA(r.path))s(r,o,u)}),t}function hA(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),r=e.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=hA(i.join("/")),l=[];return l.push(...o.map(u=>u===""?r:[r,u].join("/"))),s&&l.push(...o),l.map(u=>n.startsWith("/")&&u===""?"/":u)}function YI(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:i6(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}const XI=/^:[\w-]+$/,JI=3,ZI=2,QI=1,e6=10,t6=-2,_S=n=>n==="*";function n6(n,t){let e=n.split("/"),i=e.length;return e.some(_S)&&(i+=t6),t&&(i+=ZI),e.filter(s=>!_S(s)).reduce((s,r)=>s+(XI.test(r)?JI:r===""?QI:e6),i)}function i6(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function s6(n,t,e){let{routesMeta:i}=n,s={},r="/",o=[];for(let l=0;l<i.length;++l){let u=i[l],f=l===i.length-1,h=r==="/"?t:t.slice(r.length)||"/",m=py({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),b=u.route;if(!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:ho([r,m.pathname]),pathnameBase:u6(ho([r,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(r=ho([r,m.pathnameBase]))}return o}function py(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=r6(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((f,h,m)=>{let{paramName:b,isOptional:w}=h;if(b==="*"){let k=l[m]||"";o=r.slice(0,r.length-k.length).replace(/(.)\/+$/,"$1")}const _=l[m];return w&&!_?f[b]=void 0:f[b]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:r,pathnameBase:o,pattern:n}}function r6(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),dA(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function o6(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dA(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function Wl(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function a6(n,t){t===void 0&&(t="/");let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?rc(n):n;return{pathname:e?e.startsWith("/")?e:l6(e,t):t,search:d6(i),hash:f6(s)}}function l6(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function a0(n,t,e,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c6(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function pA(n,t){let e=c6(n);return t?e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase):e.map(i=>i.pathnameBase)}function mA(n,t,e,i){i===void 0&&(i=!1);let s;typeof n=="string"?s=rc(n):(s=od({},n),on(!s.pathname||!s.pathname.includes("?"),a0("?","pathname","search",s)),on(!s.pathname||!s.pathname.includes("#"),a0("#","pathname","hash",s)),on(!s.search||!s.search.includes("#"),a0("#","search","hash",s)));let r=n===""||s.pathname==="",o=r?"/":s.pathname,l;if(o==null)l=e;else{let m=t.length-1;if(!i&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),m-=1;s.pathname=b.join("/")}l=m>=0?t[m]:"/"}let u=a6(s,l),f=o&&o!=="/"&&o.endsWith("/"),h=(r||o===".")&&e.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}const ho=n=>n.join("/").replace(/\/\/+/g,"/"),u6=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),d6=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,f6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function h6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const gA=["post","put","patch","delete"];new Set(gA);const p6=["get",...gA];new Set(p6);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ad.apply(this,arguments)}const Qp=S.createContext(null),bA=S.createContext(null),So=S.createContext(null),em=S.createContext(null),xo=S.createContext({outlet:null,matches:[],isDataRoute:!1}),yA=S.createContext(null);function m6(n,t){let{relative:e}=t===void 0?{}:t;Nd()||on(!1);let{basename:i,navigator:s}=S.useContext(So),{hash:r,pathname:o,search:l}=tm(n,{relative:e}),u=o;return i!=="/"&&(u=o==="/"?i:ho([i,o])),s.createHref({pathname:u,search:l,hash:r})}function Nd(){return S.useContext(em)!=null}function oc(){return Nd()||on(!1),S.useContext(em).location}function vA(n){S.useContext(So).static||S.useLayoutEffect(n)}function To(){let{isDataRoute:n}=S.useContext(xo);return n?P6():g6()}function g6(){Nd()||on(!1);let n=S.useContext(Qp),{basename:t,future:e,navigator:i}=S.useContext(So),{matches:s}=S.useContext(xo),{pathname:r}=oc(),o=JSON.stringify(pA(s,e.v7_relativeSplatPath)),l=S.useRef(!1);return vA(()=>{l.current=!0}),S.useCallback(function(f,h){if(h===void 0&&(h={}),!l.current)return;if(typeof f=="number"){i.go(f);return}let m=mA(f,JSON.parse(o),r,h.relative==="path");n==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ho([t,m.pathname])),(h.replace?i.replace:i.push)(m,h.state,h)},[t,i,o,r,n])}function b6(){let{matches:n}=S.useContext(xo),t=n[n.length-1];return t?t.params:{}}function tm(n,t){let{relative:e}=t===void 0?{}:t,{future:i}=S.useContext(So),{matches:s}=S.useContext(xo),{pathname:r}=oc(),o=JSON.stringify(pA(s,i.v7_relativeSplatPath));return S.useMemo(()=>mA(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function y6(n,t){return v6(n,t)}function v6(n,t,e,i){Nd()||on(!1);let{navigator:s,static:r}=S.useContext(So),{matches:o}=S.useContext(xo),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let h=oc(),m;if(t){var b;let A=typeof t=="string"?rc(t):t;f==="/"||(b=A.pathname)!=null&&b.startsWith(f)||on(!1),m=A}else m=h;let w=m.pathname||"/",_=w;if(f!=="/"){let A=f.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let k=GI(n,{pathname:_}),x=S6(k&&k.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:ho([f,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:ho([f,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,e,i);return t&&x?S.createElement(em.Provider,{value:{location:ad({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:fo.Pop}},x):x}function w6(){let n=A6(),t=h6(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),e?S.createElement("pre",{style:s},e):null,null)}const _6=S.createElement(w6,null);class k6 extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?S.createElement(xo.Provider,{value:this.props.routeContext},S.createElement(yA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C6(n){let{routeContext:t,match:e,children:i}=n,s=S.useContext(Qp);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(xo.Provider,{value:t},i)}function S6(n,t,e,i){var s;if(t===void 0&&(t=[]),e===void 0&&(e=null),i===void 0&&(i=null),n==null){var r;if(!e)return null;if(e.errors)n=e.matches;else if((r=i)!=null&&r.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,l=(s=e)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);h>=0||on(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,f=-1;if(e&&i&&i.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:b,errors:w}=e,_=m.route.loader&&b[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||_){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,m,b)=>{let w,_=!1,k=null,x=null;e&&(w=l&&m.route.id?l[m.route.id]:void 0,k=m.route.errorElement||_6,u&&(f<0&&b===0?(R6("route-fallback"),_=!0,x=null):f===b&&(_=!0,x=m.route.hydrateFallbackElement||null)));let A=t.concat(o.slice(0,b+1)),L=()=>{let E;return w?E=k:_?E=x:m.route.Component?E=S.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=h,S.createElement(C6,{match:m,routeContext:{outlet:h,matches:A,isDataRoute:e!=null},children:E})};return e&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?S.createElement(k6,{location:e.location,revalidation:e.revalidation,component:k,error:w,children:L(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):L()},null)}var wA=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(wA||{}),up=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(up||{});function x6(n){let t=S.useContext(Qp);return t||on(!1),t}function T6(n){let t=S.useContext(bA);return t||on(!1),t}function E6(n){let t=S.useContext(xo);return t||on(!1),t}function _A(n){let t=E6(),e=t.matches[t.matches.length-1];return e.route.id||on(!1),e.route.id}function A6(){var n;let t=S.useContext(yA),e=T6(up.UseRouteError),i=_A(up.UseRouteError);return t!==void 0?t:(n=e.errors)==null?void 0:n[i]}function P6(){let{router:n}=x6(wA.UseNavigateStable),t=_A(up.UseNavigateStable),e=S.useRef(!1);return vA(()=>{e.current=!0}),S.useCallback(function(s,r){r===void 0&&(r={}),e.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,ad({fromRouteId:t},r)))},[n,t])}const kS={};function R6(n,t,e){kS[n]||(kS[n]=!0)}function O6(n,t){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function mr(n){on(!1)}function M6(n){let{basename:t="/",children:e=null,location:i,navigationType:s=fo.Pop,navigator:r,static:o=!1,future:l}=n;Nd()&&on(!1);let u=t.replace(/^\/*/,"/"),f=S.useMemo(()=>({basename:u,navigator:r,static:o,future:ad({v7_relativeSplatPath:!1},l)}),[u,l,r,o]);typeof i=="string"&&(i=rc(i));let{pathname:h="/",search:m="",hash:b="",state:w=null,key:_="default"}=i,k=S.useMemo(()=>{let x=Wl(h,u);return x==null?null:{location:{pathname:x,search:m,hash:b,state:w,key:_},navigationType:s}},[u,h,m,b,w,_,s]);return k==null?null:S.createElement(So.Provider,{value:f},S.createElement(em.Provider,{children:e,value:k}))}function CS(n){let{children:t,location:e}=n;return y6(my(t),e)}new Promise(()=>{});function my(n,t){t===void 0&&(t=[]);let e=[];return S.Children.forEach(n,(i,s)=>{if(!S.isValidElement(i))return;let r=[...t,s];if(i.type===S.Fragment){e.push.apply(e,my(i.props.children,r));return}i.type!==mr&&on(!1),!i.props.index||!i.props.children||on(!1);let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=my(i.props.children,r)),e.push(o)}),e}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dp(){return dp=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},dp.apply(this,arguments)}function kA(n,t){if(n==null)return{};var e={},i=Object.keys(n),s,r;for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&(e[s]=n[s]);return e}function I6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function L6(n,t){return n.button===0&&(!t||t==="_self")&&!I6(n)}const B6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],D6=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],N6="6";try{window.__reactRouterVersion=N6}catch{}const V6=S.createContext({isTransitioning:!1}),F6="startTransition",SS=ap[F6];function z6(n){let{basename:t,children:e,future:i,window:s}=n,r=S.useRef();r.current==null&&(r.current=jI({window:s,v5Compat:!0}));let o=r.current,[l,u]=S.useState({action:o.action,location:o.location}),{v7_startTransition:f}=i||{},h=S.useCallback(m=>{f&&SS?SS(()=>u(m)):u(m)},[u,f]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.useEffect(()=>O6(i),[i]),S.createElement(M6,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o,future:i})}const U6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CA=S.forwardRef(function(t,e){let{onClick:i,relative:s,reloadDocument:r,replace:o,state:l,target:u,to:f,preventScrollReset:h,viewTransition:m}=t,b=kA(t,B6),{basename:w}=S.useContext(So),_,k=!1;if(typeof f=="string"&&$6.test(f)&&(_=f,U6))try{let E=new URL(window.location.href),P=f.startsWith("//")?new URL(E.protocol+f):new URL(f),R=Wl(P.pathname,w);P.origin===E.origin&&R!=null?f=R+P.search+P.hash:k=!0}catch{}let x=m6(f,{relative:s}),A=W6(f,{replace:o,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:m});function L(E){i&&i(E),E.defaultPrevented||A(E)}return S.createElement("a",dp({},b,{href:_||x,onClick:k||r?i:L,ref:e,target:u}))}),H6=S.forwardRef(function(t,e){let{"aria-current":i="page",caseSensitive:s=!1,className:r="",end:o=!1,style:l,to:u,viewTransition:f,children:h}=t,m=kA(t,D6),b=tm(u,{relative:m.relative}),w=oc(),_=S.useContext(bA),{navigator:k,basename:x}=S.useContext(So),A=_!=null&&q6(b)&&f===!0,L=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,E=w.pathname,P=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;s||(E=E.toLowerCase(),P=P?P.toLowerCase():null,L=L.toLowerCase()),P&&x&&(P=Wl(P,x)||P);const R=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let V=E===L||!o&&E.startsWith(L)&&E.charAt(R)==="/",I=P!=null&&(P===L||!o&&P.startsWith(L)&&P.charAt(L.length)==="/"),z={isActive:V,isPending:I,isTransitioning:A},F=V?i:void 0,C;typeof r=="function"?C=r(z):C=[r,V?"active":null,I?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(z):l;return S.createElement(CA,dp({},m,{"aria-current":F,className:C,ref:e,style:N,to:u,viewTransition:f}),typeof h=="function"?h(z):h)});var gy;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(gy||(gy={}));var xS;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(xS||(xS={}));function j6(n){let t=S.useContext(Qp);return t||on(!1),t}function W6(n,t){let{target:e,replace:i,state:s,preventScrollReset:r,relative:o,viewTransition:l}=t===void 0?{}:t,u=To(),f=oc(),h=tm(n,{relative:o});return S.useCallback(m=>{if(L6(m,e)){m.preventDefault();let b=i!==void 0?i:cp(f)===cp(h);u(n,{replace:b,state:s,preventScrollReset:r,relative:o,viewTransition:l})}},[f,u,h,i,s,e,n,r,o,l])}function q6(n,t){t===void 0&&(t={});let e=S.useContext(V6);e==null&&on(!1);let{basename:i}=j6(gy.useViewTransitionState),s=tm(n,{relative:t.relative});if(!e.isTransitioning)return!1;let r=Wl(e.currentLocation.pathname,i)||e.currentLocation.pathname,o=Wl(e.nextLocation.pathname,i)||e.nextLocation.pathname;return py(s.pathname,o)!=null||py(s.pathname,r)!=null}var TS=function(t,e){var i=arguments;if(e==null||!Dd.call(e,"css"))return S.createElement.apply(void 0,i);var s=i.length,r=new Array(s);r[0]=Uv,r[1]=zv(t,e);for(var o=2;o<s;o++)r[o]=i[o];return S.createElement.apply(null,r)};(function(n){var t;t||(t=n.JSX||(n.JSX={}))})(TS||(TS={}));var G6=Fv(function(n,t){var e=n.styles,i=Bd([e],void 0,S.useContext(jl)),s=S.useRef();return dS(function(){var r=t.key+"-global",o=new t.sheet.constructor({key:r,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),l=!1,u=document.querySelector('style[data-emotion="'+r+" "+i.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),u!==null&&(l=!0,u.setAttribute("data-emotion",r),o.hydrate([u])),s.current=[o,l],function(){o.flush()}},[t]),dS(function(){var r=s.current,o=r[0],l=r[1];if(l){r[1]=!1;return}if(i.next!==void 0&&Vv(t,i.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}t.insert("",i,o,!1)},[t,i.name]),null});function Vd(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return Bd(t)}function ka(){var n=Vd.apply(void 0,arguments),t="animation-"+n.name;return{name:t,styles:"@keyframes "+t+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const ld={black:"#000",white:"#fff"},bl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},yl={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},vl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},wl={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},_l={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},uu={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},SA={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function js(n,...t){const e=new URL(`https://mui.com/production-error/?code=${n}`);return t.forEach(i=>e.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${e} for the full message.`}const nm="$$material";var K6=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Y6=nA(function(n){return K6.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),X6=Y6,J6=function(t){return t!=="theme"},ES=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?X6:J6},AS=function(t,e,i){var s;if(e){var r=e.shouldForwardProp;s=t.__emotion_forwardProp&&r?function(o){return t.__emotion_forwardProp(o)&&r(o)}:r}return typeof s!="function"&&i&&(s=t.__emotion_forwardProp),s},Z6=function(t){var e=t.cache,i=t.serialized,s=t.isStringTag;return Nv(e,i,s),aA(function(){return Vv(e,i,s)}),null},Q6=function n(t,e){var i=t.__emotion_real===t,s=i&&t.__emotion_base||t,r,o;e!==void 0&&(r=e.label,o=e.target);var l=AS(t,e,i),u=l||ES(s),f=!u("as");return function(){var h=arguments,m=i&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(r!==void 0&&m.push("label:"+r+";"),h[0]==null||h[0].raw===void 0)m.push.apply(m,h);else{m.push(h[0][0]);for(var b=h.length,w=1;w<b;w++)m.push(h[w],h[0][w])}var _=Fv(function(k,x,A){var L=f&&k.as||s,E="",P=[],R=k;if(k.theme==null){R={};for(var V in k)R[V]=k[V];R.theme=S.useContext(jl)}typeof k.className=="string"?E=sA(x.registered,P,k.className):k.className!=null&&(E=k.className+" ");var I=Bd(m.concat(P),x.registered,R);E+=x.key+"-"+I.name,o!==void 0&&(E+=" "+o);var z=f&&l===void 0?ES(L):u,F={};for(var C in k)f&&C==="as"||z(C)&&(F[C]=k[C]);return F.className=E,A&&(F.ref=A),S.createElement(S.Fragment,null,S.createElement(Z6,{cache:x,serialized:I,isStringTag:typeof L=="string"}),S.createElement(L,F))});return _.displayName=r!==void 0?r:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=s,_.__emotion_styles=m,_.__emotion_forwardProp=l,Object.defineProperty(_,"toString",{value:function(){return"."+o}}),_.withComponent=function(k,x){return n(k,sd({},e,x,{shouldForwardProp:AS(_,x,!0)})).apply(void 0,m)},_}},eL=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],by=Q6.bind();eL.forEach(function(n){by[n]=by(n)});function tL(n){return n==null||Object.keys(n).length===0}function nL(n){const{styles:t,defaultTheme:e={}}=n,i=typeof t=="function"?s=>t(tL(s)?e:s):t;return J.jsx(G6,{styles:i})}function xA(n,t){return by(n,t)}function iL(n,t){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=t(n.__emotion_styles))}const PS=[];function RS(n){return PS[0]=n,Bd(PS)}var l0={exports:{}},Et={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OS;function sL(){if(OS)return Et;OS=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function _(k){if(typeof k=="object"&&k!==null){var x=k.$$typeof;switch(x){case n:switch(k=k.type,k){case e:case s:case i:case u:case f:case b:return k;default:switch(k=k&&k.$$typeof,k){case o:case l:case m:case h:return k;case r:return k;default:return x}}case t:return x}}}return Et.ContextConsumer=r,Et.ContextProvider=o,Et.Element=n,Et.ForwardRef=l,Et.Fragment=e,Et.Lazy=m,Et.Memo=h,Et.Portal=t,Et.Profiler=s,Et.StrictMode=i,Et.Suspense=u,Et.SuspenseList=f,Et.isContextConsumer=function(k){return _(k)===r},Et.isContextProvider=function(k){return _(k)===o},Et.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===n},Et.isForwardRef=function(k){return _(k)===l},Et.isFragment=function(k){return _(k)===e},Et.isLazy=function(k){return _(k)===m},Et.isMemo=function(k){return _(k)===h},Et.isPortal=function(k){return _(k)===t},Et.isProfiler=function(k){return _(k)===s},Et.isStrictMode=function(k){return _(k)===i},Et.isSuspense=function(k){return _(k)===u},Et.isSuspenseList=function(k){return _(k)===f},Et.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===e||k===s||k===i||k===u||k===f||typeof k=="object"&&k!==null&&(k.$$typeof===m||k.$$typeof===h||k.$$typeof===o||k.$$typeof===r||k.$$typeof===l||k.$$typeof===w||k.getModuleId!==void 0)},Et.typeOf=_,Et}var MS;function rL(){return MS||(MS=1,l0.exports=sL()),l0.exports}var TA=rL();function Fs(n){if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function EA(n){if(S.isValidElement(n)||TA.isValidElementType(n)||!Fs(n))return n;const t={};return Object.keys(n).forEach(e=>{t[e]=EA(n[e])}),t}function In(n,t,e={clone:!0}){const i=e.clone?{...n}:n;return Fs(n)&&Fs(t)&&Object.keys(t).forEach(s=>{S.isValidElement(t[s])||TA.isValidElementType(t[s])?i[s]=t[s]:Fs(t[s])&&Object.prototype.hasOwnProperty.call(n,s)&&Fs(n[s])?i[s]=In(n[s],t[s],e):e.clone?i[s]=Fs(t[s])?EA(t[s]):t[s]:i[s]=t[s]}),i}const oL=n=>{const t=Object.keys(n).map(e=>({key:e,val:n[e]}))||[];return t.sort((e,i)=>e.val-i.val),t.reduce((e,i)=>({...e,[i.key]:i.val}),{})};function aL(n){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:e="px",step:i=5,...s}=n,r=oL(t),o=Object.keys(r);function l(b){return`@media (min-width:${typeof t[b]=="number"?t[b]:b}${e})`}function u(b){return`@media (max-width:${(typeof t[b]=="number"?t[b]:b)-i/100}${e})`}function f(b,w){const _=o.indexOf(w);return`@media (min-width:${typeof t[b]=="number"?t[b]:b}${e}) and (max-width:${(_!==-1&&typeof t[o[_]]=="number"?t[o[_]]:w)-i/100}${e})`}function h(b){return o.indexOf(b)+1<o.length?f(b,o[o.indexOf(b)+1]):l(b)}function m(b){const w=o.indexOf(b);return w===0?l(o[1]):w===o.length-1?u(o[w]):f(b,o[o.indexOf(b)+1]).replace("@media","@media not all and")}return{keys:o,values:r,up:l,down:u,between:f,only:h,not:m,unit:e,...s}}function lL(n,t){if(!n.containerQueries)return t;const e=Object.keys(t).filter(i=>i.startsWith("@container")).sort((i,s)=>{var o,l;const r=/min-width:\s*([0-9.]+)/;return+(((o=i.match(r))==null?void 0:o[1])||0)-+(((l=s.match(r))==null?void 0:l[1])||0)});return e.length?e.reduce((i,s)=>{const r=t[s];return delete i[s],i[s]=r,i},{...t}):t}function cL(n,t){return t==="@"||t.startsWith("@")&&(n.some(e=>t.startsWith(`@${e}`))||!!t.match(/^@\d/))}function uL(n,t){const e=t.match(/^@([^/]+)?\/?(.+)?$/);if(!e)return null;const[,i,s]=e,r=Number.isNaN(+i)?i||0:+i;return n.containerQueries(s).up(r)}function dL(n){const t=(r,o)=>r.replace("@media",o?`@container ${o}`:"@container");function e(r,o){r.up=(...l)=>t(n.breakpoints.up(...l),o),r.down=(...l)=>t(n.breakpoints.down(...l),o),r.between=(...l)=>t(n.breakpoints.between(...l),o),r.only=(...l)=>t(n.breakpoints.only(...l),o),r.not=(...l)=>{const u=t(n.breakpoints.not(...l),o);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const i={},s=r=>(e(i,r),i);return e(s),{...n,containerQueries:s}}const fL={borderRadius:4};function Uu(n,t){return t?In(n,t,{clone:!1}):n}const im={xs:0,sm:600,md:900,lg:1200,xl:1536},IS={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${im[n]}px)`},hL={containerQueries:n=>({up:t=>{let e=typeof t=="number"?t:im[t]||t;return typeof e=="number"&&(e=`${e}px`),n?`@container ${n} (min-width:${e})`:`@container (min-width:${e})`}})};function _s(n,t,e){const i=n.theme||{};if(Array.isArray(t)){const r=i.breakpoints||IS;return t.reduce((o,l,u)=>(o[r.up(r.keys[u])]=e(t[u]),o),{})}if(typeof t=="object"){const r=i.breakpoints||IS;return Object.keys(t).reduce((o,l)=>{if(cL(r.keys,l)){const u=uL(i.containerQueries?i:hL,l);u&&(o[u]=e(t[l],l))}else if(Object.keys(r.values||im).includes(l)){const u=r.up(l);o[u]=e(t[l],l)}else{const u=l;o[u]=t[u]}return o},{})}return e(t)}function AA(n={}){var e;return((e=n.keys)==null?void 0:e.reduce((i,s)=>{const r=n.up(s);return i[r]={},i},{}))||{}}function PA(n,t){return n.reduce((e,i)=>{const s=e[i];return(!s||Object.keys(s).length===0)&&delete e[i],e},t)}function pL(n,...t){const e=AA(n),i=[e,...t].reduce((s,r)=>In(s,r),{});return PA(Object.keys(e),i)}function mL(n,t){if(typeof n!="object")return{};const e={},i=Object.keys(t);return Array.isArray(n)?i.forEach((s,r)=>{r<n.length&&(e[s]=!0)}):i.forEach(s=>{n[s]!=null&&(e[s]=!0)}),e}function c0({values:n,breakpoints:t,base:e}){const i=e||mL(n,t),s=Object.keys(i);if(s.length===0)return n;let r;return s.reduce((o,l,u)=>(Array.isArray(n)?(o[l]=n[u]!=null?n[u]:n[r],r=u):typeof n=="object"?(o[l]=n[l]!=null?n[l]:n[r],r=l):o[l]=n,o),{})}function ve(n){if(typeof n!="string")throw new Error(js(7));return n.charAt(0).toUpperCase()+n.slice(1)}function sm(n,t,e=!0){if(!t||typeof t!="string")return null;if(n&&n.vars&&e){const i=`vars.${t}`.split(".").reduce((s,r)=>s&&s[r]?s[r]:null,n);if(i!=null)return i}return t.split(".").reduce((i,s)=>i&&i[s]!=null?i[s]:null,n)}function fp(n,t,e,i=e){let s;return typeof n=="function"?s=n(e):Array.isArray(n)?s=n[e]||i:s=sm(n,e)||i,t&&(s=t(s,i,n)),s}function dn(n){const{prop:t,cssProperty:e=n.prop,themeKey:i,transform:s}=n,r=o=>{if(o[t]==null)return null;const l=o[t],u=o.theme,f=sm(u,i)||{};return _s(o,l,m=>{let b=fp(f,s,m);return m===b&&typeof m=="string"&&(b=fp(f,s,`${t}${m==="default"?"":ve(m)}`,m)),e===!1?b:{[e]:b}})};return r.propTypes={},r.filterProps=[t],r}function gL(n){const t={};return e=>(t[e]===void 0&&(t[e]=n(e)),t[e])}const bL={m:"margin",p:"padding"},yL={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},LS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},vL=gL(n=>{if(n.length>2)if(LS[n])n=LS[n];else return[n];const[t,e]=n.split(""),i=bL[t],s=yL[e]||"";return Array.isArray(s)?s.map(r=>i+r):[i+s]}),Hv=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],jv=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Hv,...jv];function Fd(n,t,e,i){const s=sm(n,t,!0)??e;return typeof s=="number"||typeof s=="string"?r=>typeof r=="string"?r:typeof s=="string"?s.startsWith("var(")&&r===0?0:s.startsWith("var(")&&r===1?s:`calc(${r} * ${s})`:s*r:Array.isArray(s)?r=>{if(typeof r=="string")return r;const o=Math.abs(r),l=s[o];return r>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof s=="function"?s:()=>{}}function rm(n){return Fd(n,"spacing",8)}function ha(n,t){return typeof t=="string"||t==null?t:n(t)}function wL(n,t){return e=>n.reduce((i,s)=>(i[s]=ha(t,e),i),{})}function _L(n,t,e,i){if(!t.includes(e))return null;const s=vL(e),r=wL(s,i),o=n[e];return _s(n,o,r)}function RA(n,t){const e=rm(n.theme);return Object.keys(n).map(i=>_L(n,t,i,e)).reduce(Uu,{})}function Qt(n){return RA(n,Hv)}Qt.propTypes={};Qt.filterProps=Hv;function en(n){return RA(n,jv)}en.propTypes={};en.filterProps=jv;function OA(n=8,t=rm({spacing:n})){if(n.mui)return n;const e=(...i)=>(i.length===0?[1]:i).map(r=>{const o=t(r);return typeof o=="number"?`${o}px`:o}).join(" ");return e.mui=!0,e}function om(...n){const t=n.reduce((i,s)=>(s.filterProps.forEach(r=>{i[r]=s}),i),{}),e=i=>Object.keys(i).reduce((s,r)=>t[r]?Uu(s,t[r](i)):s,{});return e.propTypes={},e.filterProps=n.reduce((i,s)=>i.concat(s.filterProps),[]),e}function ts(n){return typeof n!="number"?n:`${n}px solid`}function cs(n,t){return dn({prop:n,themeKey:"borders",transform:t})}const kL=cs("border",ts),CL=cs("borderTop",ts),SL=cs("borderRight",ts),xL=cs("borderBottom",ts),TL=cs("borderLeft",ts),EL=cs("borderColor"),AL=cs("borderTopColor"),PL=cs("borderRightColor"),RL=cs("borderBottomColor"),OL=cs("borderLeftColor"),ML=cs("outline",ts),IL=cs("outlineColor"),am=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const t=Fd(n.theme,"shape.borderRadius",4),e=i=>({borderRadius:ha(t,i)});return _s(n,n.borderRadius,e)}return null};am.propTypes={};am.filterProps=["borderRadius"];om(kL,CL,SL,xL,TL,EL,AL,PL,RL,OL,am,ML,IL);const lm=n=>{if(n.gap!==void 0&&n.gap!==null){const t=Fd(n.theme,"spacing",8),e=i=>({gap:ha(t,i)});return _s(n,n.gap,e)}return null};lm.propTypes={};lm.filterProps=["gap"];const cm=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const t=Fd(n.theme,"spacing",8),e=i=>({columnGap:ha(t,i)});return _s(n,n.columnGap,e)}return null};cm.propTypes={};cm.filterProps=["columnGap"];const um=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const t=Fd(n.theme,"spacing",8),e=i=>({rowGap:ha(t,i)});return _s(n,n.rowGap,e)}return null};um.propTypes={};um.filterProps=["rowGap"];const LL=dn({prop:"gridColumn"}),BL=dn({prop:"gridRow"}),DL=dn({prop:"gridAutoFlow"}),NL=dn({prop:"gridAutoColumns"}),VL=dn({prop:"gridAutoRows"}),FL=dn({prop:"gridTemplateColumns"}),zL=dn({prop:"gridTemplateRows"}),UL=dn({prop:"gridTemplateAreas"}),$L=dn({prop:"gridArea"});om(lm,cm,um,LL,BL,DL,NL,VL,FL,zL,UL,$L);function Fl(n,t){return t==="grey"?t:n}const HL=dn({prop:"color",themeKey:"palette",transform:Fl}),jL=dn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Fl}),WL=dn({prop:"backgroundColor",themeKey:"palette",transform:Fl});om(HL,jL,WL);function Mi(n){return n<=1&&n!==0?`${n*100}%`:n}const qL=dn({prop:"width",transform:Mi}),Wv=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const t=e=>{var s,r,o,l,u;const i=((o=(r=(s=n.theme)==null?void 0:s.breakpoints)==null?void 0:r.values)==null?void 0:o[e])||im[e];return i?((u=(l=n.theme)==null?void 0:l.breakpoints)==null?void 0:u.unit)!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Mi(e)}};return _s(n,n.maxWidth,t)}return null};Wv.filterProps=["maxWidth"];const GL=dn({prop:"minWidth",transform:Mi}),KL=dn({prop:"height",transform:Mi}),YL=dn({prop:"maxHeight",transform:Mi}),XL=dn({prop:"minHeight",transform:Mi});dn({prop:"size",cssProperty:"width",transform:Mi});dn({prop:"size",cssProperty:"height",transform:Mi});const JL=dn({prop:"boxSizing"});om(qL,Wv,GL,KL,YL,XL,JL);const zd={border:{themeKey:"borders",transform:ts},borderTop:{themeKey:"borders",transform:ts},borderRight:{themeKey:"borders",transform:ts},borderBottom:{themeKey:"borders",transform:ts},borderLeft:{themeKey:"borders",transform:ts},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ts},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:am},color:{themeKey:"palette",transform:Fl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Fl},backgroundColor:{themeKey:"palette",transform:Fl},p:{style:en},pt:{style:en},pr:{style:en},pb:{style:en},pl:{style:en},px:{style:en},py:{style:en},padding:{style:en},paddingTop:{style:en},paddingRight:{style:en},paddingBottom:{style:en},paddingLeft:{style:en},paddingX:{style:en},paddingY:{style:en},paddingInline:{style:en},paddingInlineStart:{style:en},paddingInlineEnd:{style:en},paddingBlock:{style:en},paddingBlockStart:{style:en},paddingBlockEnd:{style:en},m:{style:Qt},mt:{style:Qt},mr:{style:Qt},mb:{style:Qt},ml:{style:Qt},mx:{style:Qt},my:{style:Qt},margin:{style:Qt},marginTop:{style:Qt},marginRight:{style:Qt},marginBottom:{style:Qt},marginLeft:{style:Qt},marginX:{style:Qt},marginY:{style:Qt},marginInline:{style:Qt},marginInlineStart:{style:Qt},marginInlineEnd:{style:Qt},marginBlock:{style:Qt},marginBlockStart:{style:Qt},marginBlockEnd:{style:Qt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:lm},rowGap:{style:um},columnGap:{style:cm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Mi},maxWidth:{style:Wv},minWidth:{transform:Mi},height:{transform:Mi},maxHeight:{transform:Mi},minHeight:{transform:Mi},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function ZL(...n){const t=n.reduce((i,s)=>i.concat(Object.keys(s)),[]),e=new Set(t);return n.every(i=>e.size===Object.keys(i).length)}function QL(n,t){return typeof n=="function"?n(t):n}function eB(){function n(e,i,s,r){const o={[e]:i,theme:s},l=r[e];if(!l)return{[e]:i};const{cssProperty:u=e,themeKey:f,transform:h,style:m}=l;if(i==null)return null;if(f==="typography"&&i==="inherit")return{[e]:i};const b=sm(s,f)||{};return m?m(o):_s(o,i,_=>{let k=fp(b,h,_);return _===k&&typeof _=="string"&&(k=fp(b,h,`${e}${_==="default"?"":ve(_)}`,_)),u===!1?k:{[u]:k}})}function t(e){const{sx:i,theme:s={}}=e||{};if(!i)return null;const r=s.unstable_sxConfig??zd;function o(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const f=AA(s.breakpoints),h=Object.keys(f);let m=f;return Object.keys(u).forEach(b=>{const w=QL(u[b],s);if(w!=null)if(typeof w=="object")if(r[b])m=Uu(m,n(b,w,s,r));else{const _=_s({theme:s},w,k=>({[b]:k}));ZL(_,w)?m[b]=t({sx:w,theme:s}):m=Uu(m,_)}else m=Uu(m,n(b,w,s,r))}),lL(s,PA(h,m))}return Array.isArray(i)?i.map(o):o(i)}return t}const pa=eB();pa.filterProps=["sx"];function tB(n,t){var i;const e=this;if(e.vars){if(!((i=e.colorSchemes)!=null&&i[n])||typeof e.getColorSchemeSelector!="function")return{};let s=e.getColorSchemeSelector(n);return s==="&"?t:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:t})}return e.palette.mode===n?t:{}}function Ud(n={},...t){const{breakpoints:e={},palette:i={},spacing:s,shape:r={},...o}=n,l=aL(e),u=OA(s);let f=In({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:u,shape:{...fL,...r}},o);return f=dL(f),f.applyStyles=tB,f=t.reduce((h,m)=>In(h,m),f),f.unstable_sxConfig={...zd,...o==null?void 0:o.unstable_sxConfig},f.unstable_sx=function(m){return pa({sx:m,theme:this})},f}function nB(n){return Object.keys(n).length===0}function iB(n=null){const t=S.useContext(jl);return!t||nB(t)?n:t}const sB=Ud();function dm(n=sB){return iB(n)}function rB({styles:n,themeId:t,defaultTheme:e={}}){const i=dm(e),s=typeof n=="function"?n(t&&i[t]||i):n;return J.jsx(nL,{styles:s})}const oB=n=>{var i;const t={systemProps:{},otherProps:{}},e=((i=n==null?void 0:n.theme)==null?void 0:i.unstable_sxConfig)??zd;return Object.keys(n).forEach(s=>{e[s]?t.systemProps[s]=n[s]:t.otherProps[s]=n[s]}),t};function qv(n){const{sx:t,...e}=n,{systemProps:i,otherProps:s}=oB(e);let r;return Array.isArray(t)?r=[i,...t]:typeof t=="function"?r=(...o)=>{const l=t(...o);return Fs(l)?{...i,...l}:i}:r={...i,...t},{...s,sx:r}}const BS=n=>n,aB=()=>{let n=BS;return{configure(t){n=t},generate(t){return n(t)},reset(){n=BS}}},MA=aB();function IA(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(t=0;t<s;t++)n[t]&&(e=IA(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function Oe(){for(var n,t,e=0,i="",s=arguments.length;e<s;e++)(n=arguments[e])&&(t=IA(n))&&(i&&(i+=" "),i+=t);return i}function lB(n={}){const{themeId:t,defaultTheme:e,defaultClassName:i="MuiBox-root",generateClassName:s}=n,r=xA("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(pa);return S.forwardRef(function(u,f){const h=dm(e),{className:m,component:b="div",...w}=qv(u);return J.jsx(r,{as:b,ref:f,className:Oe(m,s?s(i):i),theme:t&&h[t]||h,...w})})}const cB={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function $e(n,t,e="Mui"){const i=cB[t];return i?`${e}-${i}`:`${MA.generate(n)}-${t}`}function We(n,t,e="Mui"){const i={};return t.forEach(s=>{i[s]=$e(n,s,e)}),i}function LA(n){const{variants:t,...e}=n,i={variants:t,style:RS(e),isProcessed:!0};return i.style===e||t&&t.forEach(s=>{typeof s.style!="function"&&(s.style=RS(s.style))}),i}const uB=Ud();function u0(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function dB(n){return n?(t,e)=>e[n]:null}function fB(n,t,e){n.theme=pB(n.theme)?e:n.theme[t]||n.theme}function Wh(n,t){const e=typeof t=="function"?t(n):t;if(Array.isArray(e))return e.flatMap(i=>Wh(n,i));if(Array.isArray(e==null?void 0:e.variants)){let i;if(e.isProcessed)i=e.style;else{const{variants:s,...r}=e;i=r}return BA(n,e.variants,[i])}return e!=null&&e.isProcessed?e.style:e}function BA(n,t,e=[]){var s;let i;e:for(let r=0;r<t.length;r+=1){const o=t[r];if(typeof o.props=="function"){if(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),!o.props(i))continue}else for(const l in o.props)if(n[l]!==o.props[l]&&((s=n.ownerState)==null?void 0:s[l])!==o.props[l])continue e;typeof o.style=="function"?(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),e.push(o.style(i))):e.push(o.style)}return e}function DA(n={}){const{themeId:t,defaultTheme:e=uB,rootShouldForwardProp:i=u0,slotShouldForwardProp:s=u0}=n;function r(l){fB(l,t,e)}return(l,u={})=>{iL(l,R=>R.filter(V=>V!==pa));const{name:f,slot:h,skipVariantsResolver:m,skipSx:b,overridesResolver:w=dB(gB(h)),..._}=u,k=m!==void 0?m:h&&h!=="Root"&&h!=="root"||!1,x=b||!1;let A=u0;h==="Root"||h==="root"?A=i:h?A=s:mB(l)&&(A=void 0);const L=xA(l,{shouldForwardProp:A,label:hB(),..._}),E=R=>{if(typeof R=="function"&&R.__emotion_real!==R)return function(I){return Wh(I,R)};if(Fs(R)){const V=LA(R);return V.variants?function(z){return Wh(z,V)}:V.style}return R},P=(...R)=>{const V=[],I=R.map(E),z=[];if(V.push(r),f&&w&&z.push(function(H){var M,U;const Y=(U=(M=H.theme.components)==null?void 0:M[f])==null?void 0:U.styleOverrides;if(!Y)return null;const W={};for(const K in Y)W[K]=Wh(H,Y[K]);return w(H,W)}),f&&!k&&z.push(function(H){var W,M;const G=H.theme,Y=(M=(W=G==null?void 0:G.components)==null?void 0:W[f])==null?void 0:M.variants;return Y?BA(H,Y):null}),x||z.push(pa),Array.isArray(I[0])){const N=I.shift(),H=new Array(V.length).fill(""),G=new Array(z.length).fill("");let Y;Y=[...H,...N,...G],Y.raw=[...H,...N.raw,...G],V.unshift(Y)}const F=[...V,...I,...z],C=L(...F);return l.muiName&&(C.muiName=l.muiName),C};return L.withConfig&&(P.withConfig=L.withConfig),P}}function hB(n,t){return void 0}function pB(n){for(const t in n)return!1;return!0}function mB(n){return typeof n=="string"&&n.charCodeAt(0)>96}function gB(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}const NA=DA();function cd(n,t){const e={...t};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const s=i;if(s==="components"||s==="slots")e[s]={...n[s],...e[s]};else if(s==="componentsProps"||s==="slotProps"){const r=n[s],o=t[s];if(!o)e[s]=r||{};else if(!r)e[s]=o;else{e[s]={...o};for(const l in r)if(Object.prototype.hasOwnProperty.call(r,l)){const u=l;e[s][u]=cd(r[u],o[u])}}}else e[s]===void 0&&(e[s]=n[s])}return e}function bB(n){const{theme:t,name:e,props:i}=n;return!t||!t.components||!t.components[e]||!t.components[e].defaultProps?i:cd(t.components[e].defaultProps,i)}function VA({props:n,name:t,defaultTheme:e,themeId:i}){let s=dm(e);return i&&(s=s[i]||s),bB({theme:s,name:t,props:n})}const kr=typeof window<"u"?S.useLayoutEffect:S.useEffect;function yB(n,t=Number.MIN_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(n,e))}function Gv(n,t=0,e=1){return yB(n,t,e)}function vB(n){n=n.slice(1);const t=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let e=n.match(t);return e&&e[0].length===1&&(e=e.map(i=>i+i)),e?`rgb${e.length===4?"a":""}(${e.map((i,s)=>s<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function yo(n){if(n.type)return n;if(n.charAt(0)==="#")return yo(vB(n));const t=n.indexOf("("),e=n.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(e))throw new Error(js(9,n));let i=n.substring(t+1,n.length-1),s;if(e==="color"){if(i=i.split(" "),s=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(js(10,s))}else i=i.split(",");return i=i.map(r=>parseFloat(r)),{type:e,values:i,colorSpace:s}}const wB=n=>{const t=yo(n);return t.values.slice(0,3).map((e,i)=>t.type.includes("hsl")&&i!==0?`${e}%`:e).join(" ")},Ru=(n,t)=>{try{return wB(n)}catch{return n}};function fm(n){const{type:t,colorSpace:e}=n;let{values:i}=n;return t.includes("rgb")?i=i.map((s,r)=>r<3?parseInt(s,10):s):t.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),t.includes("color")?i=`${e} ${i.join(" ")}`:i=`${i.join(", ")}`,`${t}(${i})`}function FA(n){n=yo(n);const{values:t}=n,e=t[0],i=t[1]/100,s=t[2]/100,r=i*Math.min(s,1-s),o=(f,h=(f+e/30)%12)=>s-r*Math.max(Math.min(h-3,9-h,1),-1);let l="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(l+="a",u.push(t[3])),fm({type:l,values:u})}function yy(n){n=yo(n);let t=n.type==="hsl"||n.type==="hsla"?yo(FA(n)).values:n.values;return t=t.map(e=>(n.type!=="color"&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function _B(n,t){const e=yy(n),i=yy(t);return(Math.max(e,i)+.05)/(Math.min(e,i)+.05)}function Xn(n,t){return n=yo(n),t=Gv(t),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${t}`:n.values[3]=t,fm(n)}function yh(n,t,e){try{return Xn(n,t)}catch{return n}}function Kv(n,t){if(n=yo(n),t=Gv(t),n.type.includes("hsl"))n.values[2]*=1-t;else if(n.type.includes("rgb")||n.type.includes("color"))for(let e=0;e<3;e+=1)n.values[e]*=1-t;return fm(n)}function Mt(n,t,e){try{return Kv(n,t)}catch{return n}}function Yv(n,t){if(n=yo(n),t=Gv(t),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*t;else if(n.type.includes("rgb"))for(let e=0;e<3;e+=1)n.values[e]+=(255-n.values[e])*t;else if(n.type.includes("color"))for(let e=0;e<3;e+=1)n.values[e]+=(1-n.values[e])*t;return fm(n)}function It(n,t,e){try{return Yv(n,t)}catch{return n}}function kB(n,t=.15){return yy(n)>.5?Kv(n,t):Yv(n,t)}function vh(n,t,e){try{return kB(n,t)}catch{return n}}const CB=S.createContext(),Xv=()=>S.useContext(CB)??!1,SB=S.createContext(void 0);function xB(n){const{theme:t,name:e,props:i}=n;if(!t||!t.components||!t.components[e])return i;const s=t.components[e];return s.defaultProps?cd(s.defaultProps,i):!s.styleOverrides&&!s.variants?cd(s,i):i}function TB({props:n,name:t}){const e=S.useContext(SB);return xB({props:n,name:t,theme:{components:e}})}const DS={theme:void 0};function EB(n){let t,e;return function(s){let r=t;return(r===void 0||s.theme!==e)&&(DS.theme=s.theme,r=LA(n(DS)),t=r,e=s.theme),r}}function AB(n=""){function t(...i){if(!i.length)return"";const s=i[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${s}${t(...i.slice(1))})`:`, ${s}`}return(i,...s)=>`var(--${n?`${n}-`:""}${i}${t(...s)})`}const NS=(n,t,e,i=[])=>{let s=n;t.forEach((r,o)=>{o===t.length-1?Array.isArray(s)?s[Number(r)]=e:s&&typeof s=="object"&&(s[r]=e):s&&typeof s=="object"&&(s[r]||(s[r]=i.includes(r)?[]:{}),s=s[r])})},PB=(n,t,e)=>{function i(s,r=[],o=[]){Object.entries(s).forEach(([l,u])=>{(!e||e&&!e([...r,l]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?i(u,[...r,l],Array.isArray(u)?[...o,l]:o):t([...r,l],u,o))})}i(n)},RB=(n,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function d0(n,t){const{prefix:e,shouldSkipGeneratingVar:i}=t||{},s={},r={},o={};return PB(n,(l,u,f)=>{if((typeof u=="string"||typeof u=="number")&&(!i||!i(l,u))){const h=`--${e?`${e}-`:""}${l.join("-")}`,m=RB(l,u);Object.assign(s,{[h]:m}),NS(r,l,`var(${h})`,f),NS(o,l,`var(${h}, ${m})`,f)}},l=>l[0]==="vars"),{css:s,vars:r,varsWithDefaults:o}}function OB(n,t={}){const{getSelector:e=x,disableCssColorScheme:i,colorSchemeSelector:s}=t,{colorSchemes:r={},components:o,defaultColorScheme:l="light",...u}=n,{vars:f,css:h,varsWithDefaults:m}=d0(u,t);let b=m;const w={},{[l]:_,...k}=r;if(Object.entries(k||{}).forEach(([E,P])=>{const{vars:R,css:V,varsWithDefaults:I}=d0(P,t);b=In(b,I),w[E]={css:V,vars:R}}),_){const{css:E,vars:P,varsWithDefaults:R}=d0(_,t);b=In(b,R),w[l]={css:E,vars:P}}function x(E,P){var V,I;let R=s;if(s==="class"&&(R=".%s"),s==="data"&&(R="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(R=`[${s}="%s"]`),E){if(R==="media")return n.defaultColorScheme===E?":root":{[`@media (prefers-color-scheme: ${((I=(V=r[E])==null?void 0:V.palette)==null?void 0:I.mode)||E})`]:{":root":P}};if(R)return n.defaultColorScheme===E?`:root, ${R.replace("%s",String(E))}`:R.replace("%s",String(E))}return":root"}return{vars:b,generateThemeVars:()=>{let E={...f};return Object.entries(w).forEach(([,{vars:P}])=>{E=In(E,P)}),E},generateStyleSheets:()=>{var z,F;const E=[],P=n.defaultColorScheme||"light";function R(C,N){Object.keys(N).length&&E.push(typeof C=="string"?{[C]:{...N}}:C)}R(e(void 0,{...h}),h);const{[P]:V,...I}=w;if(V){const{css:C}=V,N=(F=(z=r[P])==null?void 0:z.palette)==null?void 0:F.mode,H=!i&&N?{colorScheme:N,...C}:{...C};R(e(P,{...H}),H)}return Object.entries(I).forEach(([C,{css:N}])=>{var Y,W;const H=(W=(Y=r[C])==null?void 0:Y.palette)==null?void 0:W.mode,G=!i&&H?{colorScheme:H,...N}:{...N};R(e(C,{...G}),G)}),E}}}function MB(n){return function(e){return n==="media"?`@media (prefers-color-scheme: ${e})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${e}"] &`:n==="class"?`.${e} &`:n==="data"?`[data-${e}] &`:`${n.replace("%s",e)} &`:"&"}}function He(n,t,e=void 0){const i={};for(const s in n){const r=n[s];let o="",l=!0;for(let u=0;u<r.length;u+=1){const f=r[u];f&&(o+=(l===!0?"":" ")+t(f),l=!1,e&&e[f]&&(o+=" "+e[f]))}i[s]=o}return i}const IB=Ud(),LB=NA("div",{name:"MuiContainer",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[`maxWidth${ve(String(e.maxWidth))}`],e.fixed&&t.fixed,e.disableGutters&&t.disableGutters]}}),BB=n=>VA({props:n,name:"MuiContainer",defaultTheme:IB}),DB=(n,t)=>{const e=u=>$e(t,u),{classes:i,fixed:s,disableGutters:r,maxWidth:o}=n,l={root:["root",o&&`maxWidth${ve(String(o))}`,s&&"fixed",r&&"disableGutters"]};return He(l,e,i)};function NB(n={}){const{createStyledComponent:t=LB,useThemeProps:e=BB,componentName:i="MuiContainer"}=n,s=t(({theme:o,ownerState:l})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!l.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}}),({theme:o,ownerState:l})=>l.fixed&&Object.keys(o.breakpoints.values).reduce((u,f)=>{const h=f,m=o.breakpoints.values[h];return m!==0&&(u[o.breakpoints.up(h)]={maxWidth:`${m}${o.breakpoints.unit}`}),u},{}),({theme:o,ownerState:l})=>({...l.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},...l.maxWidth&&l.maxWidth!=="xs"&&{[o.breakpoints.up(l.maxWidth)]:{maxWidth:`${o.breakpoints.values[l.maxWidth]}${o.breakpoints.unit}`}}}));return S.forwardRef(function(l,u){const f=e(l),{className:h,component:m="div",disableGutters:b=!1,fixed:w=!1,maxWidth:_="lg",classes:k,...x}=f,A={...f,component:m,disableGutters:b,fixed:w,maxWidth:_},L=DB(A,i);return J.jsx(s,{as:m,ownerState:A,className:Oe(L.root,h),ref:u,...x})})}function f0(n,t){var e,i,s;return S.isValidElement(n)&&t.indexOf(n.type.muiName??((s=(i=(e=n.type)==null?void 0:e._payload)==null?void 0:i.value)==null?void 0:s.muiName))!==-1}const VB=Ud(),FB=NA("div",{name:"MuiStack",slot:"Root"});function zB(n){return VA({props:n,name:"MuiStack",defaultTheme:VB})}function UB(n,t){const e=S.Children.toArray(n).filter(Boolean);return e.reduce((i,s,r)=>(i.push(s),r<e.length-1&&i.push(S.cloneElement(t,{key:`separator-${r}`})),i),[])}const $B=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],HB=({ownerState:n,theme:t})=>{let e={display:"flex",flexDirection:"column",..._s({theme:t},c0({values:n.direction,breakpoints:t.breakpoints.values}),i=>({flexDirection:i}))};if(n.spacing){const i=rm(t),s=Object.keys(t.breakpoints.values).reduce((u,f)=>((typeof n.spacing=="object"&&n.spacing[f]!=null||typeof n.direction=="object"&&n.direction[f]!=null)&&(u[f]=!0),u),{}),r=c0({values:n.direction,base:s}),o=c0({values:n.spacing,base:s});typeof r=="object"&&Object.keys(r).forEach((u,f,h)=>{if(!r[u]){const b=f>0?r[h[f-1]]:"column";r[u]=b}}),e=In(e,_s({theme:t},o,(u,f)=>n.useFlexGap?{gap:ha(i,u)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${$B(f?r[f]:n.direction)}`]:ha(i,u)}}))}return e=pL(t.breakpoints,e),e};function jB(n={}){const{createStyledComponent:t=FB,useThemeProps:e=zB,componentName:i="MuiStack"}=n,s=()=>He({root:["root"]},u=>$e(i,u),{}),r=t(HB);return S.forwardRef(function(u,f){const h=e(u),m=qv(h),{component:b="div",direction:w="column",spacing:_=0,divider:k,children:x,className:A,useFlexGap:L=!1,...E}=m,P={direction:w,spacing:_,useFlexGap:L},R=s();return J.jsx(r,{as:b,ownerState:P,ref:f,className:Oe(R.root,A),...E,children:k?UB(x,k):x})})}function zA(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ld.white,default:ld.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const WB=zA();function UA(){return{text:{primary:ld.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ld.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const VS=UA();function FS(n,t,e,i){const s=i.light||i,r=i.dark||i*1.5;n[t]||(n.hasOwnProperty(e)?n[t]=n[e]:t==="light"?n.light=Yv(n.main,s):t==="dark"&&(n.dark=Kv(n.main,r)))}function qB(n="light"){return n==="dark"?{main:vl[200],light:vl[50],dark:vl[400]}:{main:vl[700],light:vl[400],dark:vl[800]}}function GB(n="light"){return n==="dark"?{main:yl[200],light:yl[50],dark:yl[400]}:{main:yl[500],light:yl[300],dark:yl[700]}}function KB(n="light"){return n==="dark"?{main:bl[500],light:bl[300],dark:bl[700]}:{main:bl[700],light:bl[400],dark:bl[800]}}function YB(n="light"){return n==="dark"?{main:wl[400],light:wl[300],dark:wl[700]}:{main:wl[700],light:wl[500],dark:wl[900]}}function XB(n="light"){return n==="dark"?{main:_l[400],light:_l[300],dark:_l[700]}:{main:_l[800],light:_l[500],dark:_l[900]}}function JB(n="light"){return n==="dark"?{main:uu[400],light:uu[300],dark:uu[700]}:{main:"#ed6c02",light:uu[500],dark:uu[900]}}function Jv(n){const{mode:t="light",contrastThreshold:e=3,tonalOffset:i=.2,...s}=n,r=n.primary||qB(t),o=n.secondary||GB(t),l=n.error||KB(t),u=n.info||YB(t),f=n.success||XB(t),h=n.warning||JB(t);function m(k){return _B(k,VS.text.primary)>=e?VS.text.primary:WB.text.primary}const b=({color:k,name:x,mainShade:A=500,lightShade:L=300,darkShade:E=700})=>{if(k={...k},!k.main&&k[A]&&(k.main=k[A]),!k.hasOwnProperty("main"))throw new Error(js(11,x?` (${x})`:"",A));if(typeof k.main!="string")throw new Error(js(12,x?` (${x})`:"",JSON.stringify(k.main)));return FS(k,"light",L,i),FS(k,"dark",E,i),k.contrastText||(k.contrastText=m(k.main)),k};let w;return t==="light"?w=zA():t==="dark"&&(w=UA()),In({common:{...ld},mode:t,primary:b({color:r,name:"primary"}),secondary:b({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:l,name:"error"}),warning:b({color:h,name:"warning"}),info:b({color:u,name:"info"}),success:b({color:f,name:"success"}),grey:SA,contrastThreshold:e,getContrastText:m,augmentColor:b,tonalOffset:i,...w},s)}function ZB(n){const t={};return Object.entries(n).forEach(i=>{const[s,r]=i;typeof r=="object"&&(t[s]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)}),t}function QB(n,t){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...t}}function e7(n){return Math.round(n*1e5)/1e5}const zS={textTransform:"uppercase"},US='"Roboto", "Helvetica", "Arial", sans-serif';function t7(n,t){const{fontFamily:e=US,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:r=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:f,pxToRem:h,...m}=typeof t=="function"?t(n):t,b=i/14,w=h||(x=>`${x/u*b}rem`),_=(x,A,L,E,P)=>({fontFamily:e,fontWeight:x,fontSize:w(A),lineHeight:L,...e===US?{letterSpacing:`${e7(E/A)}em`}:{},...P,...f}),k={h1:_(s,96,1.167,-1.5),h2:_(s,60,1.2,-.5),h3:_(r,48,1.167,0),h4:_(r,34,1.235,.25),h5:_(r,24,1.334,0),h6:_(o,20,1.6,.15),subtitle1:_(r,16,1.75,.15),subtitle2:_(o,14,1.57,.1),body1:_(r,16,1.5,.15),body2:_(r,14,1.43,.15),button:_(o,14,1.75,.4,zS),caption:_(r,12,1.66,.4),overline:_(r,12,2.66,1,zS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return In({htmlFontSize:u,pxToRem:w,fontFamily:e,fontSize:i,fontWeightLight:s,fontWeightRegular:r,fontWeightMedium:o,fontWeightBold:l,...k},m,{clone:!1})}const n7=.2,i7=.14,s7=.12;function Gt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${n7})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${i7})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${s7})`].join(",")}const r7=["none",Gt(0,2,1,-1,0,1,1,0,0,1,3,0),Gt(0,3,1,-2,0,2,2,0,0,1,5,0),Gt(0,3,3,-2,0,3,4,0,0,1,8,0),Gt(0,2,4,-1,0,4,5,0,0,1,10,0),Gt(0,3,5,-1,0,5,8,0,0,1,14,0),Gt(0,3,5,-1,0,6,10,0,0,1,18,0),Gt(0,4,5,-2,0,7,10,1,0,2,16,1),Gt(0,5,5,-3,0,8,10,1,0,3,14,2),Gt(0,5,6,-3,0,9,12,1,0,3,16,2),Gt(0,6,6,-3,0,10,14,1,0,4,18,3),Gt(0,6,7,-4,0,11,15,1,0,4,20,3),Gt(0,7,8,-4,0,12,17,2,0,5,22,4),Gt(0,7,8,-4,0,13,19,2,0,5,24,4),Gt(0,7,9,-4,0,14,21,2,0,5,26,4),Gt(0,8,9,-5,0,15,22,2,0,6,28,5),Gt(0,8,10,-5,0,16,24,2,0,6,30,5),Gt(0,8,11,-5,0,17,26,2,0,6,32,5),Gt(0,9,11,-5,0,18,28,2,0,7,34,6),Gt(0,9,12,-6,0,19,29,2,0,7,36,6),Gt(0,10,13,-6,0,20,31,3,0,8,38,7),Gt(0,10,13,-6,0,21,33,3,0,8,40,7),Gt(0,10,14,-6,0,22,35,3,0,8,42,7),Gt(0,11,14,-7,0,23,36,3,0,9,44,8),Gt(0,11,15,-7,0,24,38,3,0,9,46,8)],o7={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$A={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $S(n){return`${Math.round(n)}ms`}function a7(n){if(!n)return 0;const t=n/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function l7(n){const t={...o7,...n.easing},e={...$A,...n.duration};return{getAutoHeightDuration:a7,create:(s=["all"],r={})=>{const{duration:o=e.standard,easing:l=t.easeInOut,delay:u=0,...f}=r;return(Array.isArray(s)?s:[s]).map(h=>`${h} ${typeof o=="string"?o:$S(o)} ${l} ${typeof u=="string"?u:$S(u)}`).join(",")},...n,easing:t,duration:e}}const c7={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function u7(n){return Fs(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function HA(n={}){const t={...n};function e(i){const s=Object.entries(i);for(let r=0;r<s.length;r++){const[o,l]=s[r];!u7(l)||o.startsWith("unstable_")?delete i[o]:Fs(l)&&(i[o]={...l},e(i[o]))}}return e(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function vy(n={},...t){const{breakpoints:e,mixins:i={},spacing:s,palette:r={},transitions:o={},typography:l={},shape:u,...f}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(js(20));const h=Jv(r),m=Ud(n);let b=In(m,{mixins:QB(m.breakpoints,i),palette:h,shadows:r7.slice(),typography:t7(h,l),transitions:l7(o),zIndex:{...c7}});return b=In(b,f),b=t.reduce((w,_)=>In(w,_),b),b.unstable_sxConfig={...zd,...f==null?void 0:f.unstable_sxConfig},b.unstable_sx=function(_){return pa({sx:_,theme:this})},b.toRuntimeSource=HA,b}function wy(n){let t;return n<1?t=5.11916*n**2:t=4.5*Math.log(n+1)+2,Math.round(t*10)/1e3}const d7=[...Array(25)].map((n,t)=>{if(t===0)return"none";const e=wy(t);return`linear-gradient(rgba(255 255 255 / ${e}), rgba(255 255 255 / ${e}))`});function jA(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function WA(n){return n==="dark"?d7:[]}function f7(n){const{palette:t={mode:"light"},opacity:e,overlays:i,...s}=n,r=Jv(t);return{palette:r,opacity:{...jA(r.mode),...e},overlays:i||WA(r.mode),...s}}function h7(n){var t;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((t=n[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const p7=n=>[...[...Array(25)].map((t,e)=>`--${n?`${n}-`:""}overlays-${e}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],m7=n=>(t,e)=>{const i=n.rootSelector||":root",s=n.colorSchemeSelector;let r=s;if(s==="class"&&(r=".%s"),s==="data"&&(r="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(r=`[${s}="%s"]`),n.defaultColorScheme===t){if(t==="dark"){const o={};return p7(n.cssVarPrefix).forEach(l=>{o[l]=e[l],delete e[l]}),r==="media"?{[i]:e,"@media (prefers-color-scheme: dark)":{[i]:o}}:r?{[r.replace("%s",t)]:o,[`${i}, ${r.replace("%s",t)}`]:e}:{[i]:{...e,...o}}}if(r&&r!=="media")return`${i}, ${r.replace("%s",String(t))}`}else if(t){if(r==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[i]:e}};if(r)return r.replace("%s",String(t))}return i};function g7(n,t){t.forEach(e=>{n[e]||(n[e]={})})}function le(n,t,e){!n[t]&&e&&(n[t]=e)}function Ou(n){return typeof n!="string"||!n.startsWith("hsl")?n:FA(n)}function dr(n,t){`${t}Channel`in n||(n[`${t}Channel`]=Ru(Ou(n[t])))}function b7(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Os=n=>{try{return n()}catch{}},y7=(n="mui")=>AB(n);function h0(n,t,e,i){if(!t)return;t=t===!0?{}:t;const s=i==="dark"?"dark":"light";if(!e){n[i]=f7({...t,palette:{mode:s,...t==null?void 0:t.palette}});return}const{palette:r,...o}=vy({...e,palette:{mode:s,...t==null?void 0:t.palette}});return n[i]={...t,palette:r,opacity:{...jA(s),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||WA(s)},o}function v7(n={},...t){const{colorSchemes:e={light:!0},defaultColorScheme:i,disableCssColorScheme:s=!1,cssVarPrefix:r="mui",shouldSkipGeneratingVar:o=h7,colorSchemeSelector:l=e.light&&e.dark?"media":void 0,rootSelector:u=":root",...f}=n,h=Object.keys(e)[0],m=i||(e.light&&h!=="light"?"light":h),b=y7(r),{[m]:w,light:_,dark:k,...x}=e,A={...x};let L=w;if((m==="dark"&&!("dark"in e)||m==="light"&&!("light"in e))&&(L=!0),!L)throw new Error(js(21,m));const E=h0(A,L,f,m);_&&!A.light&&h0(A,_,void 0,"light"),k&&!A.dark&&h0(A,k,void 0,"dark");let P={defaultColorScheme:m,...E,cssVarPrefix:r,colorSchemeSelector:l,rootSelector:u,getCssVar:b,colorSchemes:A,font:{...ZB(E.typography),...E.font},spacing:b7(f.spacing)};Object.keys(P.colorSchemes).forEach(F=>{const C=P.colorSchemes[F].palette,N=H=>{const G=H.split("-"),Y=G[1],W=G[2];return b(H,C[Y][W])};if(C.mode==="light"&&(le(C.common,"background","#fff"),le(C.common,"onBackground","#000")),C.mode==="dark"&&(le(C.common,"background","#000"),le(C.common,"onBackground","#fff")),g7(C,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),C.mode==="light"){le(C.Alert,"errorColor",Mt(C.error.light,.6)),le(C.Alert,"infoColor",Mt(C.info.light,.6)),le(C.Alert,"successColor",Mt(C.success.light,.6)),le(C.Alert,"warningColor",Mt(C.warning.light,.6)),le(C.Alert,"errorFilledBg",N("palette-error-main")),le(C.Alert,"infoFilledBg",N("palette-info-main")),le(C.Alert,"successFilledBg",N("palette-success-main")),le(C.Alert,"warningFilledBg",N("palette-warning-main")),le(C.Alert,"errorFilledColor",Os(()=>C.getContrastText(C.error.main))),le(C.Alert,"infoFilledColor",Os(()=>C.getContrastText(C.info.main))),le(C.Alert,"successFilledColor",Os(()=>C.getContrastText(C.success.main))),le(C.Alert,"warningFilledColor",Os(()=>C.getContrastText(C.warning.main))),le(C.Alert,"errorStandardBg",It(C.error.light,.9)),le(C.Alert,"infoStandardBg",It(C.info.light,.9)),le(C.Alert,"successStandardBg",It(C.success.light,.9)),le(C.Alert,"warningStandardBg",It(C.warning.light,.9)),le(C.Alert,"errorIconColor",N("palette-error-main")),le(C.Alert,"infoIconColor",N("palette-info-main")),le(C.Alert,"successIconColor",N("palette-success-main")),le(C.Alert,"warningIconColor",N("palette-warning-main")),le(C.AppBar,"defaultBg",N("palette-grey-100")),le(C.Avatar,"defaultBg",N("palette-grey-400")),le(C.Button,"inheritContainedBg",N("palette-grey-300")),le(C.Button,"inheritContainedHoverBg",N("palette-grey-A100")),le(C.Chip,"defaultBorder",N("palette-grey-400")),le(C.Chip,"defaultAvatarColor",N("palette-grey-700")),le(C.Chip,"defaultIconColor",N("palette-grey-700")),le(C.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),le(C.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),le(C.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),le(C.LinearProgress,"primaryBg",It(C.primary.main,.62)),le(C.LinearProgress,"secondaryBg",It(C.secondary.main,.62)),le(C.LinearProgress,"errorBg",It(C.error.main,.62)),le(C.LinearProgress,"infoBg",It(C.info.main,.62)),le(C.LinearProgress,"successBg",It(C.success.main,.62)),le(C.LinearProgress,"warningBg",It(C.warning.main,.62)),le(C.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.11)`),le(C.Slider,"primaryTrack",It(C.primary.main,.62)),le(C.Slider,"secondaryTrack",It(C.secondary.main,.62)),le(C.Slider,"errorTrack",It(C.error.main,.62)),le(C.Slider,"infoTrack",It(C.info.main,.62)),le(C.Slider,"successTrack",It(C.success.main,.62)),le(C.Slider,"warningTrack",It(C.warning.main,.62));const H=vh(C.background.default,.8);le(C.SnackbarContent,"bg",H),le(C.SnackbarContent,"color",Os(()=>C.getContrastText(H))),le(C.SpeedDialAction,"fabHoverBg",vh(C.background.paper,.15)),le(C.StepConnector,"border",N("palette-grey-400")),le(C.StepContent,"border",N("palette-grey-400")),le(C.Switch,"defaultColor",N("palette-common-white")),le(C.Switch,"defaultDisabledColor",N("palette-grey-100")),le(C.Switch,"primaryDisabledColor",It(C.primary.main,.62)),le(C.Switch,"secondaryDisabledColor",It(C.secondary.main,.62)),le(C.Switch,"errorDisabledColor",It(C.error.main,.62)),le(C.Switch,"infoDisabledColor",It(C.info.main,.62)),le(C.Switch,"successDisabledColor",It(C.success.main,.62)),le(C.Switch,"warningDisabledColor",It(C.warning.main,.62)),le(C.TableCell,"border",It(yh(C.divider,1),.88)),le(C.Tooltip,"bg",yh(C.grey[700],.92))}if(C.mode==="dark"){le(C.Alert,"errorColor",It(C.error.light,.6)),le(C.Alert,"infoColor",It(C.info.light,.6)),le(C.Alert,"successColor",It(C.success.light,.6)),le(C.Alert,"warningColor",It(C.warning.light,.6)),le(C.Alert,"errorFilledBg",N("palette-error-dark")),le(C.Alert,"infoFilledBg",N("palette-info-dark")),le(C.Alert,"successFilledBg",N("palette-success-dark")),le(C.Alert,"warningFilledBg",N("palette-warning-dark")),le(C.Alert,"errorFilledColor",Os(()=>C.getContrastText(C.error.dark))),le(C.Alert,"infoFilledColor",Os(()=>C.getContrastText(C.info.dark))),le(C.Alert,"successFilledColor",Os(()=>C.getContrastText(C.success.dark))),le(C.Alert,"warningFilledColor",Os(()=>C.getContrastText(C.warning.dark))),le(C.Alert,"errorStandardBg",Mt(C.error.light,.9)),le(C.Alert,"infoStandardBg",Mt(C.info.light,.9)),le(C.Alert,"successStandardBg",Mt(C.success.light,.9)),le(C.Alert,"warningStandardBg",Mt(C.warning.light,.9)),le(C.Alert,"errorIconColor",N("palette-error-main")),le(C.Alert,"infoIconColor",N("palette-info-main")),le(C.Alert,"successIconColor",N("palette-success-main")),le(C.Alert,"warningIconColor",N("palette-warning-main")),le(C.AppBar,"defaultBg",N("palette-grey-900")),le(C.AppBar,"darkBg",N("palette-background-paper")),le(C.AppBar,"darkColor",N("palette-text-primary")),le(C.Avatar,"defaultBg",N("palette-grey-600")),le(C.Button,"inheritContainedBg",N("palette-grey-800")),le(C.Button,"inheritContainedHoverBg",N("palette-grey-700")),le(C.Chip,"defaultBorder",N("palette-grey-700")),le(C.Chip,"defaultAvatarColor",N("palette-grey-300")),le(C.Chip,"defaultIconColor",N("palette-grey-300")),le(C.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),le(C.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),le(C.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),le(C.LinearProgress,"primaryBg",Mt(C.primary.main,.5)),le(C.LinearProgress,"secondaryBg",Mt(C.secondary.main,.5)),le(C.LinearProgress,"errorBg",Mt(C.error.main,.5)),le(C.LinearProgress,"infoBg",Mt(C.info.main,.5)),le(C.LinearProgress,"successBg",Mt(C.success.main,.5)),le(C.LinearProgress,"warningBg",Mt(C.warning.main,.5)),le(C.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.13)`),le(C.Slider,"primaryTrack",Mt(C.primary.main,.5)),le(C.Slider,"secondaryTrack",Mt(C.secondary.main,.5)),le(C.Slider,"errorTrack",Mt(C.error.main,.5)),le(C.Slider,"infoTrack",Mt(C.info.main,.5)),le(C.Slider,"successTrack",Mt(C.success.main,.5)),le(C.Slider,"warningTrack",Mt(C.warning.main,.5));const H=vh(C.background.default,.98);le(C.SnackbarContent,"bg",H),le(C.SnackbarContent,"color",Os(()=>C.getContrastText(H))),le(C.SpeedDialAction,"fabHoverBg",vh(C.background.paper,.15)),le(C.StepConnector,"border",N("palette-grey-600")),le(C.StepContent,"border",N("palette-grey-600")),le(C.Switch,"defaultColor",N("palette-grey-300")),le(C.Switch,"defaultDisabledColor",N("palette-grey-600")),le(C.Switch,"primaryDisabledColor",Mt(C.primary.main,.55)),le(C.Switch,"secondaryDisabledColor",Mt(C.secondary.main,.55)),le(C.Switch,"errorDisabledColor",Mt(C.error.main,.55)),le(C.Switch,"infoDisabledColor",Mt(C.info.main,.55)),le(C.Switch,"successDisabledColor",Mt(C.success.main,.55)),le(C.Switch,"warningDisabledColor",Mt(C.warning.main,.55)),le(C.TableCell,"border",Mt(yh(C.divider,1),.68)),le(C.Tooltip,"bg",yh(C.grey[700],.92))}dr(C.background,"default"),dr(C.background,"paper"),dr(C.common,"background"),dr(C.common,"onBackground"),dr(C,"divider"),Object.keys(C).forEach(H=>{const G=C[H];H!=="tonalOffset"&&G&&typeof G=="object"&&(G.main&&le(C[H],"mainChannel",Ru(Ou(G.main))),G.light&&le(C[H],"lightChannel",Ru(Ou(G.light))),G.dark&&le(C[H],"darkChannel",Ru(Ou(G.dark))),G.contrastText&&le(C[H],"contrastTextChannel",Ru(Ou(G.contrastText))),H==="text"&&(dr(C[H],"primary"),dr(C[H],"secondary")),H==="action"&&(G.active&&dr(C[H],"active"),G.selected&&dr(C[H],"selected")))})}),P=t.reduce((F,C)=>In(F,C),P);const R={prefix:r,disableCssColorScheme:s,shouldSkipGeneratingVar:o,getSelector:m7(P)},{vars:V,generateThemeVars:I,generateStyleSheets:z}=OB(P,R);return P.vars=V,Object.entries(P.colorSchemes[P.defaultColorScheme]).forEach(([F,C])=>{P[F]=C}),P.generateThemeVars=I,P.generateStyleSheets=z,P.generateSpacing=function(){return OA(f.spacing,rm(this))},P.getColorSchemeSelector=MB(l),P.spacing=P.generateSpacing(),P.shouldSkipGeneratingVar=o,P.unstable_sxConfig={...zd,...f==null?void 0:f.unstable_sxConfig},P.unstable_sx=function(C){return pa({sx:C,theme:this})},P.toRuntimeSource=HA,P}function HS(n,t,e){n.colorSchemes&&e&&(n.colorSchemes[t]={...e!==!0&&e,palette:Jv({...e===!0?{}:e.palette,mode:t})})}function Zv(n={},...t){const{palette:e,cssVariables:i=!1,colorSchemes:s=e?void 0:{light:!0},defaultColorScheme:r=e==null?void 0:e.mode,...o}=n,l=r||"light",u=s==null?void 0:s[l],f={...s,...e?{[l]:{...typeof u!="boolean"&&u,palette:e}}:void 0};if(i===!1){if(!("colorSchemes"in n))return vy(n,...t);let h=e;"palette"in n||f[l]&&(f[l]!==!0?h=f[l].palette:l==="dark"&&(h={mode:"dark"}));const m=vy({...n,palette:h},...t);return m.defaultColorScheme=l,m.colorSchemes=f,m.palette.mode==="light"&&(m.colorSchemes.light={...f.light!==!0&&f.light,palette:m.palette},HS(m,"dark",f.dark)),m.palette.mode==="dark"&&(m.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:m.palette},HS(m,"light",f.light)),m}return!e&&!("light"in f)&&l==="light"&&(f.light=!0),v7({...o,colorSchemes:f,defaultColorScheme:l,...typeof i!="boolean"&&i},...t)}function jS(n){return String(parseFloat(n)).length===String(n).length}function qA(n){return String(n).match(/[\d.\-+]*\s*(.*)/)[1]||""}function oo(n){return parseFloat(n)}function w7(n){return(t,e)=>{const i=qA(t);if(i===e)return t;let s=oo(t);i!=="px"&&(i==="em"||i==="rem")&&(s=oo(t)*oo(n));let r=s;if(e!=="px")if(e==="em")r=s/oo(n);else if(e==="rem")r=s/oo(n);else return t;return parseFloat(r.toFixed(5))+e}}function _7({size:n,grid:t}){const e=n-n%t,i=e+t;return n-e<i-n?e:i}function k7({lineHeight:n,pixels:t,htmlFontSize:e}){return t/(n*e)}function C7({cssProperty:n,min:t,max:e,unit:i="rem",breakpoints:s=[600,900,1200],transform:r=null}){const o={[n]:`${t}${i}`},l=(e-t)/s[s.length-1];return s.forEach(u=>{let f=t+l*u;r!==null&&(f=r(f)),o[`@media (min-width:${u}px)`]={[n]:`${Math.round(f*1e4)/1e4}${i}`}}),o}function S7(n,t={}){const{breakpoints:e=["sm","md","lg"],disableAlign:i=!1,factor:s=2,variants:r=["h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","button","overline"]}=t,o={...n};o.typography={...o.typography};const l=o.typography,u=w7(l.htmlFontSize),f=e.map(h=>o.breakpoints.values[h]);return r.forEach(h=>{const m=l[h];if(!m)return;const b=parseFloat(u(m.fontSize,"rem"));if(b<=1)return;const w=b,_=1+(w-1)/s;let{lineHeight:k}=m;if(!jS(k)&&!i)throw new Error(js(6));jS(k)||(k=parseFloat(u(k,"rem"))/parseFloat(b));let x=null;i||(x=A=>_7({size:A,grid:k7({pixels:4,lineHeight:k,htmlFontSize:l.htmlFontSize})})),l[h]={...m,...C7({cssProperty:"fontSize",min:_,max:w,unit:"rem",breakpoints:f,transform:x})}}),o}const Qv=Zv();function Ca(){const n=dm(Qv);return n[nm]||n}function GA(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Ui=n=>GA(n)&&n!=="classes",ye=DA({themeId:nm,defaultTheme:Qv,rootShouldForwardProp:Ui});function WS(...n){return n.reduce((t,e)=>e==null?t:function(...s){t.apply(this,s),e.apply(this,s)},()=>{})}function x7(n){return J.jsx(rB,{...n,defaultTheme:Qv,themeId:nm})}function e1(n){return function(e){return J.jsx(x7,{styles:typeof n=="function"?i=>n({theme:i,...e}):n})}}function T7(){return qv}const Qe=EB;function qe(n){return TB(n)}function E7(n){return $e("MuiSvgIcon",n)}We("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const A7=n=>{const{color:t,fontSize:e,classes:i}=n,s={root:["root",t!=="inherit"&&`color${ve(t)}`,`fontSize${ve(e)}`]};return He(s,E7,i)},P7=ye("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.color!=="inherit"&&t[`color${ve(e.color)}`],t[`fontSize${ve(e.fontSize)}`]]}})(Qe(({theme:n})=>{var t,e,i,s,r,o,l,u,f,h,m,b,w,_;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(t=n.transitions)==null?void 0:t.create)==null?void 0:s.call(t,"fill",{duration:(i=(e=(n.vars??n).transitions)==null?void 0:e.duration)==null?void 0:i.shorter}),variants:[{props:k=>!k.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(r=n.typography)==null?void 0:r.pxToRem)==null?void 0:o.call(r,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((u=(l=n.typography)==null?void 0:l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(f=n.typography)==null?void 0:f.pxToRem)==null?void 0:h.call(f,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,k])=>k&&k.main).map(([k])=>{var x,A;return{props:{color:k},style:{color:(A=(x=(n.vars??n).palette)==null?void 0:x[k])==null?void 0:A.main}}}),{props:{color:"action"},style:{color:(b=(m=(n.vars??n).palette)==null?void 0:m.action)==null?void 0:b.active}},{props:{color:"disabled"},style:{color:(_=(w=(n.vars??n).palette)==null?void 0:w.action)==null?void 0:_.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),_y=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiSvgIcon"}),{children:s,className:r,color:o="inherit",component:l="svg",fontSize:u="medium",htmlColor:f,inheritViewBox:h=!1,titleAccess:m,viewBox:b="0 0 24 24",...w}=i,_=S.isValidElement(s)&&s.type==="svg",k={...i,color:o,component:l,fontSize:u,instanceFontSize:t.fontSize,inheritViewBox:h,viewBox:b,hasSvgAsChild:_},x={};h||(x.viewBox=b);const A=A7(k);return J.jsxs(P7,{as:l,className:Oe(A.root,r),focusable:"false",color:f,"aria-hidden":m?void 0:!0,role:m?"img":void 0,ref:e,...x,...w,..._&&s.props,ownerState:k,children:[_?s.props.children:s,m?J.jsx("title",{children:m}):null]})});_y.muiName="SvgIcon";function Bt(n,t){function e(i,s){return J.jsx(_y,{"data-testid":void 0,ref:s,...i,children:n})}return e.muiName=_y.muiName,S.memo(S.forwardRef(e))}function KA(n,t=166){let e;function i(...s){const r=()=>{n.apply(this,s)};clearTimeout(e),e=setTimeout(r,t)}return i.clear=()=>{clearTimeout(e)},i}function Zn(n){return n&&n.ownerDocument||document}function Cr(n){return Zn(n).defaultView||window}function qS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}let GS=0;function R7(n){const[t,e]=S.useState(n),i=n||t;return S.useEffect(()=>{t==null&&(GS+=1,e(`mui-${GS}`))},[t]),i}const O7={...ap},KS=O7.useId;function ac(n){if(KS!==void 0){const t=KS();return n??t}return R7(n)}function hp(n){const{controlled:t,default:e,name:i,state:s="value"}=n,{current:r}=S.useRef(t!==void 0),[o,l]=S.useState(e),u=r?t:o,f=S.useCallback(h=>{r||l(h)},[]);return[u,f]}function Us(n){const t=S.useRef(n);return kr(()=>{t.current=n}),S.useRef((...e)=>(0,t.current)(...e)).current}function xn(...n){const t=S.useRef(void 0),e=S.useCallback(i=>{const s=n.map(r=>{if(r==null)return null;if(typeof r=="function"){const o=r,l=o(i);return typeof l=="function"?l:()=>{o(null)}}return r.current=i,()=>{r.current=null}});return()=>{s.forEach(r=>r==null?void 0:r())}},n);return S.useMemo(()=>n.every(i=>i==null)?null:i=>{t.current&&(t.current(),t.current=void 0),i!=null&&(t.current=e(i))},n)}function M7(n,t){const e=n.charCodeAt(2);return n[0]==="o"&&n[1]==="n"&&e>=65&&e<=90&&typeof t=="function"}function YA(n,t){if(!n)return t;function e(o,l){const u={};return Object.keys(l).forEach(f=>{M7(f,l[f])&&typeof o[f]=="function"&&(u[f]=(...h)=>{o[f](...h),l[f](...h)})}),u}if(typeof n=="function"||typeof t=="function")return o=>{const l=typeof t=="function"?t(o):t,u=typeof n=="function"?n({...o,...l}):n,f=Oe(o==null?void 0:o.className,l==null?void 0:l.className,u==null?void 0:u.className),h=e(u,l);return{...l,...u,...h,...!!f&&{className:f},...(l==null?void 0:l.style)&&(u==null?void 0:u.style)&&{style:{...l.style,...u.style}},...(l==null?void 0:l.sx)&&(u==null?void 0:u.sx)&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(u.sx)?u.sx:[u.sx]]}}};const i=t,s=e(n,i),r=Oe(i==null?void 0:i.className,n==null?void 0:n.className);return{...t,...n,...s,...!!r&&{className:r},...(i==null?void 0:i.style)&&(n==null?void 0:n.style)&&{style:{...i.style,...n.style}},...(i==null?void 0:i.sx)&&(n==null?void 0:n.sx)&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function XA(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function ky(n,t){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},ky(n,t)}function JA(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,ky(n,t)}const YS={disabled:!1},pp=kn.createContext(null);var I7=function(t){return t.scrollTop},Mu="unmounted",ta="exited",na="entering",Pl="entered",Cy="exiting",Ss=function(n){JA(t,n);function t(i,s){var r;r=n.call(this,i,s)||this;var o=s,l=o&&!o.isMounting?i.enter:i.appear,u;return r.appearStatus=null,i.in?l?(u=ta,r.appearStatus=na):u=Pl:i.unmountOnExit||i.mountOnEnter?u=Mu:u=ta,r.state={status:u},r.nextCallback=null,r}t.getDerivedStateFromProps=function(s,r){var o=s.in;return o&&r.status===Mu?{status:ta}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(s){var r=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==na&&o!==Pl&&(r=na):(o===na||o===Pl)&&(r=Cy)}this.updateStatus(!1,r)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var s=this.props.timeout,r,o,l;return r=o=l=s,s!=null&&typeof s!="number"&&(r=s.exit,o=s.enter,l=s.appear!==void 0?s.appear:o),{exit:r,enter:o,appear:l}},e.updateStatus=function(s,r){if(s===void 0&&(s=!1),r!==null)if(this.cancelNextCallback(),r===na){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:bh.findDOMNode(this);o&&I7(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ta&&this.setState({status:Mu})},e.performEnter=function(s){var r=this,o=this.props.enter,l=this.context?this.context.isMounting:s,u=this.props.nodeRef?[l]:[bh.findDOMNode(this),l],f=u[0],h=u[1],m=this.getTimeouts(),b=l?m.appear:m.enter;if(!s&&!o||YS.disabled){this.safeSetState({status:Pl},function(){r.props.onEntered(f)});return}this.props.onEnter(f,h),this.safeSetState({status:na},function(){r.props.onEntering(f,h),r.onTransitionEnd(b,function(){r.safeSetState({status:Pl},function(){r.props.onEntered(f,h)})})})},e.performExit=function(){var s=this,r=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:bh.findDOMNode(this);if(!r||YS.disabled){this.safeSetState({status:ta},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Cy},function(){s.props.onExiting(l),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:ta},function(){s.props.onExited(l)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(s,r){r=this.setNextCallback(r),this.setState(s,r)},e.setNextCallback=function(s){var r=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,r.nextCallback=null,s(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},e.onTransitionEnd=function(s,r){this.setNextCallback(r);var o=this.props.nodeRef?this.props.nodeRef.current:bh.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],f=u[0],h=u[1];this.props.addEndListener(f,h)}s!=null&&setTimeout(this.nextCallback,s)},e.render=function(){var s=this.state.status;if(s===Mu)return null;var r=this.props,o=r.children;r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef;var l=XA(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return kn.createElement(pp.Provider,{value:null},typeof o=="function"?o(s,l):kn.cloneElement(kn.Children.only(o),l))},t}(kn.Component);Ss.contextType=pp;Ss.propTypes={};function kl(){}Ss.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:kl,onEntering:kl,onEntered:kl,onExit:kl,onExiting:kl,onExited:kl};Ss.UNMOUNTED=Mu;Ss.EXITED=ta;Ss.ENTERING=na;Ss.ENTERED=Pl;Ss.EXITING=Cy;function L7(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function t1(n,t){var e=function(r){return t&&S.isValidElement(r)?t(r):r},i=Object.create(null);return n&&S.Children.map(n,function(s){return s}).forEach(function(s){i[s.key]=e(s)}),i}function B7(n,t){n=n||{},t=t||{};function e(h){return h in t?t[h]:n[h]}var i=Object.create(null),s=[];for(var r in n)r in t?s.length&&(i[r]=s,s=[]):s.push(r);var o,l={};for(var u in t){if(i[u])for(o=0;o<i[u].length;o++){var f=i[u][o];l[i[u][o]]=e(f)}l[u]=e(u)}for(o=0;o<s.length;o++)l[s[o]]=e(s[o]);return l}function sa(n,t,e){return e[t]!=null?e[t]:n.props[t]}function D7(n,t){return t1(n.children,function(e){return S.cloneElement(e,{onExited:t.bind(null,e),in:!0,appear:sa(e,"appear",n),enter:sa(e,"enter",n),exit:sa(e,"exit",n)})})}function N7(n,t,e){var i=t1(n.children),s=B7(t,i);return Object.keys(s).forEach(function(r){var o=s[r];if(S.isValidElement(o)){var l=r in t,u=r in i,f=t[r],h=S.isValidElement(f)&&!f.props.in;u&&(!l||h)?s[r]=S.cloneElement(o,{onExited:e.bind(null,o),in:!0,exit:sa(o,"exit",n),enter:sa(o,"enter",n)}):!u&&l&&!h?s[r]=S.cloneElement(o,{in:!1}):u&&l&&S.isValidElement(f)&&(s[r]=S.cloneElement(o,{onExited:e.bind(null,o),in:f.props.in,exit:sa(o,"exit",n),enter:sa(o,"enter",n)}))}}),s}var V7=Object.values||function(n){return Object.keys(n).map(function(t){return n[t]})},F7={component:"div",childFactory:function(t){return t}},n1=function(n){JA(t,n);function t(i,s){var r;r=n.call(this,i,s)||this;var o=r.handleExited.bind(L7(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}var e=t.prototype;return e.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},e.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,r){var o=r.children,l=r.handleExited,u=r.firstRender;return{children:u?D7(s,l):N7(s,o,l),firstRender:!1}},e.handleExited=function(s,r){var o=t1(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(r),this.mounted&&this.setState(function(l){var u=sd({},l.children);return delete u[s.key],{children:u}}))},e.render=function(){var s=this.props,r=s.component,o=s.childFactory,l=XA(s,["component","childFactory"]),u=this.state.contextValue,f=V7(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,r===null?kn.createElement(pp.Provider,{value:u},f):kn.createElement(pp.Provider,{value:u},kn.createElement(r,l,f))},t}(kn.Component);n1.propTypes={};n1.defaultProps=F7;const XS={};function ZA(n,t){const e=S.useRef(XS);return e.current===XS&&(e.current=n(t)),e}const z7=[];function U7(n){S.useEffect(n,z7)}class hm{constructor(){y(this,"currentId",null);y(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});y(this,"disposeEffect",()=>this.clear)}static create(){return new hm}start(t,e){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,e()},t)}}function ra(){const n=ZA(hm.create).current;return U7(n.disposeEffect),n}const QA=n=>n.scrollTop;function ql(n,t){const{timeout:e,easing:i,style:s={}}=n;return{duration:s.transitionDuration??(typeof e=="number"?e:e[t.mode]||0),easing:s.transitionTimingFunction??(typeof i=="object"?i[t.mode]:i),delay:s.transitionDelay}}function $7(n){return $e("MuiCollapse",n)}We("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const H7=n=>{const{orientation:t,classes:e}=n,i={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return He(i,$7,e)},j7=ye("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.orientation],e.state==="entered"&&t.entered,e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&t.hidden]}})(Qe(({theme:n})=>({height:0,overflow:"hidden",transition:n.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:n.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),W7=ye("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),q7=ye("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),mp=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiCollapse"}),{addEndListener:s,children:r,className:o,collapsedSize:l="0px",component:u,easing:f,in:h,onEnter:m,onEntered:b,onEntering:w,onExit:_,onExited:k,onExiting:x,orientation:A="vertical",style:L,timeout:E=$A.standard,TransitionComponent:P=Ss,...R}=i,V={...i,orientation:A,collapsedSize:l},I=H7(V),z=Ca(),F=ra(),C=S.useRef(null),N=S.useRef(),H=typeof l=="number"?`${l}px`:l,G=A==="horizontal",Y=G?"width":"height",W=S.useRef(null),M=xn(e,W),U=ce=>de=>{if(ce){const pe=W.current;de===void 0?ce(pe):ce(pe,de)}},K=()=>C.current?C.current[G?"clientWidth":"clientHeight"]:0,Q=U((ce,de)=>{C.current&&G&&(C.current.style.position="absolute"),ce.style[Y]=H,m&&m(ce,de)}),B=U((ce,de)=>{const pe=K();C.current&&G&&(C.current.style.position="");const{duration:Ee,easing:_e}=ql({style:L,timeout:E,easing:f},{mode:"enter"});if(E==="auto"){const Ae=z.transitions.getAutoHeightDuration(pe);ce.style.transitionDuration=`${Ae}ms`,N.current=Ae}else ce.style.transitionDuration=typeof Ee=="string"?Ee:`${Ee}ms`;ce.style[Y]=`${pe}px`,ce.style.transitionTimingFunction=_e,w&&w(ce,de)}),Z=U((ce,de)=>{ce.style[Y]="auto",b&&b(ce,de)}),ae=U(ce=>{ce.style[Y]=`${K()}px`,_&&_(ce)}),re=U(k),ge=U(ce=>{const de=K(),{duration:pe,easing:Ee}=ql({style:L,timeout:E,easing:f},{mode:"exit"});if(E==="auto"){const _e=z.transitions.getAutoHeightDuration(de);ce.style.transitionDuration=`${_e}ms`,N.current=_e}else ce.style.transitionDuration=typeof pe=="string"?pe:`${pe}ms`;ce.style[Y]=H,ce.style.transitionTimingFunction=Ee,x&&x(ce)}),he=ce=>{E==="auto"&&F.start(N.current||0,ce),s&&s(W.current,ce)};return J.jsx(P,{in:h,onEnter:Q,onEntered:Z,onEntering:B,onExit:ae,onExited:re,onExiting:ge,addEndListener:he,nodeRef:W,timeout:E==="auto"?null:E,...R,children:(ce,{ownerState:de,...pe})=>J.jsx(j7,{as:u,className:Oe(I.root,o,{entered:I.entered,exited:!h&&H==="0px"&&I.hidden}[ce]),style:{[G?"minWidth":"minHeight"]:H,...L},ref:M,ownerState:{...V,state:ce},...pe,children:J.jsx(W7,{ownerState:{...V,state:ce},className:I.wrapper,ref:C,children:J.jsx(q7,{ownerState:{...V,state:ce},className:I.wrapperInner,children:r})})})})});mp&&(mp.muiSupportAuto=!0);function G7(n){return $e("MuiPaper",n)}We("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const K7=n=>{const{square:t,elevation:e,variant:i,classes:s}=n,r={root:["root",i,!t&&"rounded",i==="elevation"&&`elevation${e}`]};return He(r,G7,s)},Y7=ye("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],!e.square&&t.rounded,e.variant==="elevation"&&t[`elevation${e.elevation}`]]}})(Qe(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),ks=S.forwardRef(function(t,e){var w;const i=qe({props:t,name:"MuiPaper"}),s=Ca(),{className:r,component:o="div",elevation:l=1,square:u=!1,variant:f="elevation",...h}=i,m={...i,component:o,elevation:l,square:u,variant:f},b=K7(m);return J.jsx(Y7,{as:o,ownerState:m,className:Oe(b.root,r),ref:e,...h,style:{...f==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[l],...s.vars&&{"--Paper-overlay":(w=s.vars.overlays)==null?void 0:w[l]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Xn("#fff",wy(l))}, ${Xn("#fff",wy(l))})`}},...h.style}})});function X7(n){return typeof n=="string"}function e5(n,t,e){return n===void 0||X7(n)?t:{...t,ownerState:{...t.ownerState,...e}}}function t5(n,t,e){return typeof n=="function"?n(t,e):n}function n5(n,t=[]){if(n===void 0)return{};const e={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!t.includes(i)).forEach(i=>{e[i]=n[i]}),e}function JS(n){if(n===void 0)return{};const t={};return Object.keys(n).filter(e=>!(e.match(/^on[A-Z]/)&&typeof n[e]=="function")).forEach(e=>{t[e]=n[e]}),t}function i5(n){const{getSlotProps:t,additionalProps:e,externalSlotProps:i,externalForwardedProps:s,className:r}=n;if(!t){const w=Oe(e==null?void 0:e.className,r,s==null?void 0:s.className,i==null?void 0:i.className),_={...e==null?void 0:e.style,...s==null?void 0:s.style,...i==null?void 0:i.style},k={...e,...s,...i};return w.length>0&&(k.className=w),Object.keys(_).length>0&&(k.style=_),{props:k,internalRef:void 0}}const o=n5({...s,...i}),l=JS(i),u=JS(s),f=t(o),h=Oe(f==null?void 0:f.className,e==null?void 0:e.className,r,s==null?void 0:s.className,i==null?void 0:i.className),m={...f==null?void 0:f.style,...e==null?void 0:e.style,...s==null?void 0:s.style,...i==null?void 0:i.style},b={...f,...e,...u,...l};return h.length>0&&(b.className=h),Object.keys(m).length>0&&(b.style=m),{props:b,internalRef:f.ref}}function lt(n,t){const{className:e,elementType:i,ownerState:s,externalForwardedProps:r,internalForwardedProps:o,shouldForwardComponentProp:l=!1,...u}=t,{component:f,slots:h={[n]:void 0},slotProps:m={[n]:void 0},...b}=r,w=h[n]||i,_=t5(m[n],s),{props:{component:k,...x},internalRef:A}=i5({className:e,...u,externalForwardedProps:n==="root"?b:void 0,externalSlotProps:_}),L=xn(A,_==null?void 0:_.ref,t.ref),E=n==="root"?k||f:k,P=e5(w,{...n==="root"&&!f&&!h[n]&&o,...n!=="root"&&!h[n]&&o,...x,...E&&!l&&{as:E},...E&&l&&{component:E},ref:L},s);return[w,P]}function gp(n){try{return n.matches(":focus-visible")}catch{}return!1}class bp{constructor(){y(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new bp}static use(){const t=ZA(bp.create).current,[e,i]=S.useState(!1);return t.shouldMount=e,t.setShouldMount=i,S.useEffect(t.mountEffect,[e]),t}mount(){return this.mounted||(this.mounted=Z7(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.start(...t)})}stop(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.stop(...t)})}pulsate(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.pulsate(...t)})}}function J7(){return bp.use()}function Z7(){let n,t;const e=new Promise((i,s)=>{n=i,t=s});return e.resolve=n,e.reject=t,e}function Q7(n){const{className:t,classes:e,pulsate:i=!1,rippleX:s,rippleY:r,rippleSize:o,in:l,onExited:u,timeout:f}=n,[h,m]=S.useState(!1),b=Oe(t,e.ripple,e.rippleVisible,i&&e.ripplePulsate),w={width:o,height:o,top:-(o/2)+r,left:-(o/2)+s},_=Oe(e.child,h&&e.childLeaving,i&&e.childPulsate);return!l&&!h&&m(!0),S.useEffect(()=>{if(!l&&u!=null){const k=setTimeout(u,f);return()=>{clearTimeout(k)}}},[u,l,f]),J.jsx("span",{className:b,style:w,children:J.jsx("span",{className:_})})}const es=We("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Sy=550,eD=80,tD=ka`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,nD=ka`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,iD=ka`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,sD=ye("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),rD=ye(Q7,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${es.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${tD};
    animation-duration: ${Sy}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${es.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${es.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${es.childLeaving} {
    opacity: 0;
    animation-name: ${nD};
    animation-duration: ${Sy}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${es.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${iD};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,oD=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:r={},className:o,...l}=i,[u,f]=S.useState([]),h=S.useRef(0),m=S.useRef(null);S.useEffect(()=>{m.current&&(m.current(),m.current=null)},[u]);const b=S.useRef(!1),w=ra(),_=S.useRef(null),k=S.useRef(null),x=S.useCallback(P=>{const{pulsate:R,rippleX:V,rippleY:I,rippleSize:z,cb:F}=P;f(C=>[...C,J.jsx(rD,{classes:{ripple:Oe(r.ripple,es.ripple),rippleVisible:Oe(r.rippleVisible,es.rippleVisible),ripplePulsate:Oe(r.ripplePulsate,es.ripplePulsate),child:Oe(r.child,es.child),childLeaving:Oe(r.childLeaving,es.childLeaving),childPulsate:Oe(r.childPulsate,es.childPulsate)},timeout:Sy,pulsate:R,rippleX:V,rippleY:I,rippleSize:z},h.current)]),h.current+=1,m.current=F},[r]),A=S.useCallback((P={},R={},V=()=>{})=>{const{pulsate:I=!1,center:z=s||R.pulsate,fakeElement:F=!1}=R;if((P==null?void 0:P.type)==="mousedown"&&b.current){b.current=!1;return}(P==null?void 0:P.type)==="touchstart"&&(b.current=!0);const C=F?null:k.current,N=C?C.getBoundingClientRect():{width:0,height:0,left:0,top:0};let H,G,Y;if(z||P===void 0||P.clientX===0&&P.clientY===0||!P.clientX&&!P.touches)H=Math.round(N.width/2),G=Math.round(N.height/2);else{const{clientX:W,clientY:M}=P.touches&&P.touches.length>0?P.touches[0]:P;H=Math.round(W-N.left),G=Math.round(M-N.top)}if(z)Y=Math.sqrt((2*N.width**2+N.height**2)/3),Y%2===0&&(Y+=1);else{const W=Math.max(Math.abs((C?C.clientWidth:0)-H),H)*2+2,M=Math.max(Math.abs((C?C.clientHeight:0)-G),G)*2+2;Y=Math.sqrt(W**2+M**2)}P!=null&&P.touches?_.current===null&&(_.current=()=>{x({pulsate:I,rippleX:H,rippleY:G,rippleSize:Y,cb:V})},w.start(eD,()=>{_.current&&(_.current(),_.current=null)})):x({pulsate:I,rippleX:H,rippleY:G,rippleSize:Y,cb:V})},[s,x,w]),L=S.useCallback(()=>{A({},{pulsate:!0})},[A]),E=S.useCallback((P,R)=>{if(w.clear(),(P==null?void 0:P.type)==="touchend"&&_.current){_.current(),_.current=null,w.start(0,()=>{E(P,R)});return}_.current=null,f(V=>V.length>0?V.slice(1):V),m.current=R},[w]);return S.useImperativeHandle(e,()=>({pulsate:L,start:A,stop:E}),[L,A,E]),J.jsx(sD,{className:Oe(es.root,r.root,o),ref:k,...l,children:J.jsx(n1,{component:null,exit:!0,children:u})})});function aD(n){return $e("MuiButtonBase",n)}const lD=We("MuiButtonBase",["root","disabled","focusVisible"]),cD=n=>{const{disabled:t,focusVisible:e,focusVisibleClassName:i,classes:s}=n,o=He({root:["root",t&&"disabled",e&&"focusVisible"]},aD,s);return e&&i&&(o.root+=` ${i}`),o},uD=ye("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${lD.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),i1=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:r=!1,children:o,className:l,component:u="button",disabled:f=!1,disableRipple:h=!1,disableTouchRipple:m=!1,focusRipple:b=!1,focusVisibleClassName:w,LinkComponent:_="a",onBlur:k,onClick:x,onContextMenu:A,onDragLeave:L,onFocus:E,onFocusVisible:P,onKeyDown:R,onKeyUp:V,onMouseDown:I,onMouseLeave:z,onMouseUp:F,onTouchEnd:C,onTouchMove:N,onTouchStart:H,tabIndex:G=0,TouchRippleProps:Y,touchRippleRef:W,type:M,...U}=i,K=S.useRef(null),Q=J7(),B=xn(Q.ref,W),[Z,ae]=S.useState(!1);f&&Z&&ae(!1),S.useImperativeHandle(s,()=>({focusVisible:()=>{ae(!0),K.current.focus()}}),[]);const re=Q.shouldMount&&!h&&!f;S.useEffect(()=>{Z&&b&&!h&&Q.pulsate()},[h,b,Z,Q]);const ge=fr(Q,"start",I,m),he=fr(Q,"stop",A,m),ce=fr(Q,"stop",L,m),de=fr(Q,"stop",F,m),pe=fr(Q,"stop",Pe=>{Z&&Pe.preventDefault(),z&&z(Pe)},m),Ee=fr(Q,"start",H,m),_e=fr(Q,"stop",C,m),Ae=fr(Q,"stop",N,m),Le=fr(Q,"stop",Pe=>{gp(Pe.target)||ae(!1),k&&k(Pe)},!1),Ye=Us(Pe=>{K.current||(K.current=Pe.currentTarget),gp(Pe.target)&&(ae(!0),P&&P(Pe)),E&&E(Pe)}),ze=()=>{const Pe=K.current;return u&&u!=="button"&&!(Pe.tagName==="A"&&Pe.href)},dt=Us(Pe=>{b&&!Pe.repeat&&Z&&Pe.key===" "&&Q.stop(Pe,()=>{Q.start(Pe)}),Pe.target===Pe.currentTarget&&ze()&&Pe.key===" "&&Pe.preventDefault(),R&&R(Pe),Pe.target===Pe.currentTarget&&ze()&&Pe.key==="Enter"&&!f&&(Pe.preventDefault(),x&&x(Pe))}),an=Us(Pe=>{b&&Pe.key===" "&&Z&&!Pe.defaultPrevented&&Q.stop(Pe,()=>{Q.pulsate(Pe)}),V&&V(Pe),x&&Pe.target===Pe.currentTarget&&ze()&&Pe.key===" "&&!Pe.defaultPrevented&&x(Pe)});let rt=u;rt==="button"&&(U.href||U.to)&&(rt=_);const Rt={};rt==="button"?(Rt.type=M===void 0?"button":M,Rt.disabled=f):(!U.href&&!U.to&&(Rt.role="button"),f&&(Rt["aria-disabled"]=f));const yn=xn(e,K),vt={...i,centerRipple:r,component:u,disabled:f,disableRipple:h,disableTouchRipple:m,focusRipple:b,tabIndex:G,focusVisible:Z},ft=cD(vt);return J.jsxs(uD,{as:rt,className:Oe(ft.root,l),ownerState:vt,onBlur:Le,onClick:x,onContextMenu:he,onFocus:Ye,onKeyDown:dt,onKeyUp:an,onMouseDown:ge,onMouseLeave:pe,onMouseUp:de,onDragLeave:ce,onTouchEnd:_e,onTouchMove:Ae,onTouchStart:Ee,ref:yn,tabIndex:f?-1:G,type:M,...Rt,...U,children:[o,re?J.jsx(oD,{ref:B,center:r,...Y}):null]})});function fr(n,t,e,i=!1){return Us(s=>(e&&e(s),i||n[t](s),!0))}function dD(n){return typeof n.main=="string"}function fD(n,t=[]){if(!dD(n))return!1;for(const e of t)if(!n.hasOwnProperty(e)||typeof n[e]!="string")return!1;return!0}function Di(n=[]){return([,t])=>t&&fD(t,n)}function hD(n){return $e("MuiCircularProgress",n)}We("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const io=44,xy=ka`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Ty=ka`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,pD=typeof xy!="string"?Vd`
        animation: ${xy} 1.4s linear infinite;
      `:null,mD=typeof Ty!="string"?Vd`
        animation: ${Ty} 1.4s ease-in-out infinite;
      `:null,gD=n=>{const{classes:t,variant:e,color:i,disableShrink:s}=n,r={root:["root",e,`color${ve(i)}`],svg:["svg"],circle:["circle",`circle${ve(e)}`,s&&"circleDisableShrink"]};return He(r,hD,t)},bD=ye("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],t[`color${ve(e.color)}`]]}})(Qe(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:pD||{animation:`${xy} 1.4s linear infinite`}},...Object.entries(n.palette).filter(Di()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}}))]}))),yD=ye("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),vD=ye("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.circle,t[`circle${ve(e.variant)}`],e.disableShrink&&t.circleDisableShrink]}})(Qe(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:mD||{animation:`${Ty} 1.4s ease-in-out infinite`}}]}))),pm=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiCircularProgress"}),{className:s,color:r="primary",disableShrink:o=!1,size:l=40,style:u,thickness:f=3.6,value:h=0,variant:m="indeterminate",...b}=i,w={...i,color:r,disableShrink:o,size:l,thickness:f,value:h,variant:m},_=gD(w),k={},x={},A={};if(m==="determinate"){const L=2*Math.PI*((io-f)/2);k.strokeDasharray=L.toFixed(3),A["aria-valuenow"]=Math.round(h),k.strokeDashoffset=`${((100-h)/100*L).toFixed(3)}px`,x.transform="rotate(-90deg)"}return J.jsx(bD,{className:Oe(_.root,s),style:{width:l,height:l,...x,...u},ownerState:w,ref:e,role:"progressbar",...A,...b,children:J.jsx(yD,{className:_.svg,ownerState:w,viewBox:`${io/2} ${io/2} ${io} ${io}`,children:J.jsx(vD,{className:_.circle,style:k,ownerState:w,cx:io,cy:io,r:(io-f)/2,fill:"none",strokeWidth:f})})})});function wD(n){return $e("MuiIconButton",n)}const ZS=We("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),_D=n=>{const{classes:t,disabled:e,color:i,edge:s,size:r,loading:o}=n,l={root:["root",o&&"loading",e&&"disabled",i!=="default"&&`color${ve(i)}`,s&&`edge${ve(s)}`,`size${ve(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return He(l,wD,t)},kD=ye(i1,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.loading&&t.loading,e.color!=="default"&&t[`color${ve(e.color)}`],e.edge&&t[`edge${ve(e.edge)}`],t[`size${ve(e.size)}`]]}})(Qe(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Xn(n.palette.action.active,n.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Qe(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(Di()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(n.palette).filter(Di()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":n.vars?`rgba(${(n.vars||n).palette[t].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Xn((n.vars||n).palette[t].main,n.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${ZS.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${ZS.loading}`]:{color:"transparent"}}))),CD=ye("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),sn=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiIconButton"}),{edge:s=!1,children:r,className:o,color:l="default",disabled:u=!1,disableFocusRipple:f=!1,size:h="medium",id:m,loading:b=null,loadingIndicator:w,..._}=i,k=ac(m),x=w??J.jsx(pm,{"aria-labelledby":k,color:"inherit",size:16}),A={...i,edge:s,color:l,disabled:u,disableFocusRipple:f,loading:b,loadingIndicator:x,size:h},L=_D(A);return J.jsxs(kD,{id:b?k:m,className:Oe(L.root,o),centerRipple:!0,focusRipple:!f,disabled:u||b,ref:e,..._,ownerState:A,children:[typeof b=="boolean"&&J.jsx("span",{className:L.loadingWrapper,style:{display:"contents"},children:J.jsx(CD,{className:L.loadingIndicator,ownerState:A,children:b&&x})}),r]})});function SD(n){return $e("MuiTypography",n)}We("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const xD={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},TD=T7(),ED=n=>{const{align:t,gutterBottom:e,noWrap:i,paragraph:s,variant:r,classes:o}=n,l={root:["root",r,n.align!=="inherit"&&`align${ve(t)}`,e&&"gutterBottom",i&&"noWrap",s&&"paragraph"]};return He(l,SD,o)},AD=ye("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.variant&&t[e.variant],e.align!=="inherit"&&t[`align${ve(e.align)}`],e.noWrap&&t.noWrap,e.gutterBottom&&t.gutterBottom,e.paragraph&&t.paragraph]}})(Qe(({theme:n})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([e,i])=>e!=="inherit"&&i&&typeof i=="object").map(([e,i])=>({props:{variant:e},style:i})),...Object.entries(n.palette).filter(Di()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(((t=n.palette)==null?void 0:t.text)||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${ve(e)}`},style:{color:(n.vars||n).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}})),QS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Be=S.forwardRef(function(t,e){const{color:i,...s}=qe({props:t,name:"MuiTypography"}),r=!xD[i],o=TD({...s,...r&&{color:i}}),{align:l="inherit",className:u,component:f,gutterBottom:h=!1,noWrap:m=!1,paragraph:b=!1,variant:w="body1",variantMapping:_=QS,...k}=o,x={...o,align:l,color:i,className:u,component:f,gutterBottom:h,noWrap:m,paragraph:b,variant:w,variantMapping:_},A=f||(b?"p":_[w]||QS[w])||"span",L=ED(x);return J.jsx(AD,{as:A,ref:e,className:Oe(L.root,u),...k,ownerState:x,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...k.style}})});function PD(n){return $e("MuiAppBar",n)}We("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const RD=n=>{const{color:t,position:e,classes:i}=n,s={root:["root",`color${ve(t)}`,`position${ve(e)}`]};return He(s,PD,i)},e2=(n,t)=>n?`${n==null?void 0:n.replace(")","")}, ${t})`:t,OD=ye(ks,{name:"MuiAppBar",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[`position${ve(e.position)}`],t[`color${ve(e.color)}`]]}})(Qe(({theme:n})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[100],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[100]),...n.applyStyles("dark",{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[900],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[900])})}},...Object.entries(n.palette).filter(Di(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(n.vars??n).palette[t].main,"--AppBar-color":(n.vars??n).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundColor:n.vars?e2(n.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:n.vars?e2(n.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundImage:"none"})}}]}))),MD=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiAppBar"}),{className:s,color:r="primary",enableColorOnDark:o=!1,position:l="fixed",...u}=i,f={...i,color:r,position:l,enableColorOnDark:o},h=RD(f);return J.jsx(OD,{square:!0,component:"header",ownerState:f,elevation:4,className:Oe(h.root,s,l==="fixed"&&"mui-fixed"),ref:e,...u})}),s5=n=>{const t=S.useRef({});return S.useEffect(()=>{t.current=n}),t.current};var hi="top",os="bottom",as="right",pi="left",s1="auto",$d=[hi,os,as,pi],Gl="start",ud="end",ID="clippingParents",r5="viewport",du="popper",LD="reference",t2=$d.reduce(function(n,t){return n.concat([t+"-"+Gl,t+"-"+ud])},[]),o5=[].concat($d,[s1]).reduce(function(n,t){return n.concat([t,t+"-"+Gl,t+"-"+ud])},[]),BD="beforeRead",DD="read",ND="afterRead",VD="beforeMain",FD="main",zD="afterMain",UD="beforeWrite",$D="write",HD="afterWrite",jD=[BD,DD,ND,VD,FD,zD,UD,$D,HD];function Ws(n){return n?(n.nodeName||"").toLowerCase():null}function Ni(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function ma(n){var t=Ni(n).Element;return n instanceof t||n instanceof Element}function ss(n){var t=Ni(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function r1(n){if(typeof ShadowRoot>"u")return!1;var t=Ni(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function WD(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},s=t.attributes[e]||{},r=t.elements[e];!ss(r)||!Ws(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(o){var l=s[o];l===!1?r.removeAttribute(o):r.setAttribute(o,l===!0?"":l)}))})}function qD(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var s=t.elements[i],r=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]),l=o.reduce(function(u,f){return u[f]="",u},{});!ss(s)||!Ws(s)||(Object.assign(s.style,l),Object.keys(r).forEach(function(u){s.removeAttribute(u)}))})}}const GD={name:"applyStyles",enabled:!0,phase:"write",fn:WD,effect:qD,requires:["computeStyles"]};function $s(n){return n.split("-")[0]}var la=Math.max,yp=Math.min,Kl=Math.round;function Ey(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function a5(){return!/^((?!chrome|android).)*safari/i.test(Ey())}function Yl(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var i=n.getBoundingClientRect(),s=1,r=1;t&&ss(n)&&(s=n.offsetWidth>0&&Kl(i.width)/n.offsetWidth||1,r=n.offsetHeight>0&&Kl(i.height)/n.offsetHeight||1);var o=ma(n)?Ni(n):window,l=o.visualViewport,u=!a5()&&e,f=(i.left+(u&&l?l.offsetLeft:0))/s,h=(i.top+(u&&l?l.offsetTop:0))/r,m=i.width/s,b=i.height/r;return{width:m,height:b,top:h,right:f+m,bottom:h+b,left:f,x:f,y:h}}function o1(n){var t=Yl(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function l5(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&r1(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Sr(n){return Ni(n).getComputedStyle(n)}function KD(n){return["table","td","th"].indexOf(Ws(n))>=0}function Eo(n){return((ma(n)?n.ownerDocument:n.document)||window.document).documentElement}function mm(n){return Ws(n)==="html"?n:n.assignedSlot||n.parentNode||(r1(n)?n.host:null)||Eo(n)}function n2(n){return!ss(n)||Sr(n).position==="fixed"?null:n.offsetParent}function YD(n){var t=/firefox/i.test(Ey()),e=/Trident/i.test(Ey());if(e&&ss(n)){var i=Sr(n);if(i.position==="fixed")return null}var s=mm(n);for(r1(s)&&(s=s.host);ss(s)&&["html","body"].indexOf(Ws(s))<0;){var r=Sr(s);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return s;s=s.parentNode}return null}function Hd(n){for(var t=Ni(n),e=n2(n);e&&KD(e)&&Sr(e).position==="static";)e=n2(e);return e&&(Ws(e)==="html"||Ws(e)==="body"&&Sr(e).position==="static")?t:e||YD(n)||t}function a1(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function $u(n,t,e){return la(n,yp(t,e))}function XD(n,t,e){var i=$u(n,t,e);return i>e?e:i}function c5(){return{top:0,right:0,bottom:0,left:0}}function u5(n){return Object.assign({},c5(),n)}function d5(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}var JD=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,u5(typeof t!="number"?t:d5(t,$d))};function ZD(n){var t,e=n.state,i=n.name,s=n.options,r=e.elements.arrow,o=e.modifiersData.popperOffsets,l=$s(e.placement),u=a1(l),f=[pi,as].indexOf(l)>=0,h=f?"height":"width";if(!(!r||!o)){var m=JD(s.padding,e),b=o1(r),w=u==="y"?hi:pi,_=u==="y"?os:as,k=e.rects.reference[h]+e.rects.reference[u]-o[u]-e.rects.popper[h],x=o[u]-e.rects.reference[u],A=Hd(r),L=A?u==="y"?A.clientHeight||0:A.clientWidth||0:0,E=k/2-x/2,P=m[w],R=L-b[h]-m[_],V=L/2-b[h]/2+E,I=$u(P,V,R),z=u;e.modifiersData[i]=(t={},t[z]=I,t.centerOffset=I-V,t)}}function QD(n){var t=n.state,e=n.options,i=e.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||l5(t.elements.popper,s)&&(t.elements.arrow=s))}const eN={name:"arrow",enabled:!0,phase:"main",fn:ZD,effect:QD,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xl(n){return n.split("-")[1]}var tN={top:"auto",right:"auto",bottom:"auto",left:"auto"};function nN(n,t){var e=n.x,i=n.y,s=t.devicePixelRatio||1;return{x:Kl(e*s)/s||0,y:Kl(i*s)/s||0}}function i2(n){var t,e=n.popper,i=n.popperRect,s=n.placement,r=n.variation,o=n.offsets,l=n.position,u=n.gpuAcceleration,f=n.adaptive,h=n.roundOffsets,m=n.isFixed,b=o.x,w=b===void 0?0:b,_=o.y,k=_===void 0?0:_,x=typeof h=="function"?h({x:w,y:k}):{x:w,y:k};w=x.x,k=x.y;var A=o.hasOwnProperty("x"),L=o.hasOwnProperty("y"),E=pi,P=hi,R=window;if(f){var V=Hd(e),I="clientHeight",z="clientWidth";if(V===Ni(e)&&(V=Eo(e),Sr(V).position!=="static"&&l==="absolute"&&(I="scrollHeight",z="scrollWidth")),V=V,s===hi||(s===pi||s===as)&&r===ud){P=os;var F=m&&V===R&&R.visualViewport?R.visualViewport.height:V[I];k-=F-i.height,k*=u?1:-1}if(s===pi||(s===hi||s===os)&&r===ud){E=as;var C=m&&V===R&&R.visualViewport?R.visualViewport.width:V[z];w-=C-i.width,w*=u?1:-1}}var N=Object.assign({position:l},f&&tN),H=h===!0?nN({x:w,y:k},Ni(e)):{x:w,y:k};if(w=H.x,k=H.y,u){var G;return Object.assign({},N,(G={},G[P]=L?"0":"",G[E]=A?"0":"",G.transform=(R.devicePixelRatio||1)<=1?"translate("+w+"px, "+k+"px)":"translate3d("+w+"px, "+k+"px, 0)",G))}return Object.assign({},N,(t={},t[P]=L?k+"px":"",t[E]=A?w+"px":"",t.transform="",t))}function iN(n){var t=n.state,e=n.options,i=e.gpuAcceleration,s=i===void 0?!0:i,r=e.adaptive,o=r===void 0?!0:r,l=e.roundOffsets,u=l===void 0?!0:l,f={placement:$s(t.placement),variation:Xl(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,i2(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,i2(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const sN={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:iN,data:{}};var wh={passive:!0};function rN(n){var t=n.state,e=n.instance,i=n.options,s=i.scroll,r=s===void 0?!0:s,o=i.resize,l=o===void 0?!0:o,u=Ni(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&f.forEach(function(h){h.addEventListener("scroll",e.update,wh)}),l&&u.addEventListener("resize",e.update,wh),function(){r&&f.forEach(function(h){h.removeEventListener("scroll",e.update,wh)}),l&&u.removeEventListener("resize",e.update,wh)}}const oN={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rN,data:{}};var aN={left:"right",right:"left",bottom:"top",top:"bottom"};function qh(n){return n.replace(/left|right|bottom|top/g,function(t){return aN[t]})}var lN={start:"end",end:"start"};function s2(n){return n.replace(/start|end/g,function(t){return lN[t]})}function l1(n){var t=Ni(n),e=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:e,scrollTop:i}}function c1(n){return Yl(Eo(n)).left+l1(n).scrollLeft}function cN(n,t){var e=Ni(n),i=Eo(n),s=e.visualViewport,r=i.clientWidth,o=i.clientHeight,l=0,u=0;if(s){r=s.width,o=s.height;var f=a5();(f||!f&&t==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:r,height:o,x:l+c1(n),y:u}}function uN(n){var t,e=Eo(n),i=l1(n),s=(t=n.ownerDocument)==null?void 0:t.body,r=la(e.scrollWidth,e.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=la(e.scrollHeight,e.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-i.scrollLeft+c1(n),u=-i.scrollTop;return Sr(s||e).direction==="rtl"&&(l+=la(e.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:l,y:u}}function u1(n){var t=Sr(n),e=t.overflow,i=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+s+i)}function f5(n){return["html","body","#document"].indexOf(Ws(n))>=0?n.ownerDocument.body:ss(n)&&u1(n)?n:f5(mm(n))}function Hu(n,t){var e;t===void 0&&(t=[]);var i=f5(n),s=i===((e=n.ownerDocument)==null?void 0:e.body),r=Ni(i),o=s?[r].concat(r.visualViewport||[],u1(i)?i:[]):i,l=t.concat(o);return s?l:l.concat(Hu(mm(o)))}function Ay(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function dN(n,t){var e=Yl(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function r2(n,t,e){return t===r5?Ay(cN(n,e)):ma(t)?dN(t,e):Ay(uN(Eo(n)))}function fN(n){var t=Hu(mm(n)),e=["absolute","fixed"].indexOf(Sr(n).position)>=0,i=e&&ss(n)?Hd(n):n;return ma(i)?t.filter(function(s){return ma(s)&&l5(s,i)&&Ws(s)!=="body"}):[]}function hN(n,t,e,i){var s=t==="clippingParents"?fN(n):[].concat(t),r=[].concat(s,[e]),o=r[0],l=r.reduce(function(u,f){var h=r2(n,f,i);return u.top=la(h.top,u.top),u.right=yp(h.right,u.right),u.bottom=yp(h.bottom,u.bottom),u.left=la(h.left,u.left),u},r2(n,o,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function h5(n){var t=n.reference,e=n.element,i=n.placement,s=i?$s(i):null,r=i?Xl(i):null,o=t.x+t.width/2-e.width/2,l=t.y+t.height/2-e.height/2,u;switch(s){case hi:u={x:o,y:t.y-e.height};break;case os:u={x:o,y:t.y+t.height};break;case as:u={x:t.x+t.width,y:l};break;case pi:u={x:t.x-e.width,y:l};break;default:u={x:t.x,y:t.y}}var f=s?a1(s):null;if(f!=null){var h=f==="y"?"height":"width";switch(r){case Gl:u[f]=u[f]-(t[h]/2-e[h]/2);break;case ud:u[f]=u[f]+(t[h]/2-e[h]/2);break}}return u}function dd(n,t){t===void 0&&(t={});var e=t,i=e.placement,s=i===void 0?n.placement:i,r=e.strategy,o=r===void 0?n.strategy:r,l=e.boundary,u=l===void 0?ID:l,f=e.rootBoundary,h=f===void 0?r5:f,m=e.elementContext,b=m===void 0?du:m,w=e.altBoundary,_=w===void 0?!1:w,k=e.padding,x=k===void 0?0:k,A=u5(typeof x!="number"?x:d5(x,$d)),L=b===du?LD:du,E=n.rects.popper,P=n.elements[_?L:b],R=hN(ma(P)?P:P.contextElement||Eo(n.elements.popper),u,h,o),V=Yl(n.elements.reference),I=h5({reference:V,element:E,placement:s}),z=Ay(Object.assign({},E,I)),F=b===du?z:V,C={top:R.top-F.top+A.top,bottom:F.bottom-R.bottom+A.bottom,left:R.left-F.left+A.left,right:F.right-R.right+A.right},N=n.modifiersData.offset;if(b===du&&N){var H=N[s];Object.keys(C).forEach(function(G){var Y=[as,os].indexOf(G)>=0?1:-1,W=[hi,os].indexOf(G)>=0?"y":"x";C[G]+=H[W]*Y})}return C}function pN(n,t){t===void 0&&(t={});var e=t,i=e.placement,s=e.boundary,r=e.rootBoundary,o=e.padding,l=e.flipVariations,u=e.allowedAutoPlacements,f=u===void 0?o5:u,h=Xl(i),m=h?l?t2:t2.filter(function(_){return Xl(_)===h}):$d,b=m.filter(function(_){return f.indexOf(_)>=0});b.length===0&&(b=m);var w=b.reduce(function(_,k){return _[k]=dd(n,{placement:k,boundary:s,rootBoundary:r,padding:o})[$s(k)],_},{});return Object.keys(w).sort(function(_,k){return w[_]-w[k]})}function mN(n){if($s(n)===s1)return[];var t=qh(n);return[s2(n),t,s2(t)]}function gN(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var s=e.mainAxis,r=s===void 0?!0:s,o=e.altAxis,l=o===void 0?!0:o,u=e.fallbackPlacements,f=e.padding,h=e.boundary,m=e.rootBoundary,b=e.altBoundary,w=e.flipVariations,_=w===void 0?!0:w,k=e.allowedAutoPlacements,x=t.options.placement,A=$s(x),L=A===x,E=u||(L||!_?[qh(x)]:mN(x)),P=[x].concat(E).reduce(function(ge,he){return ge.concat($s(he)===s1?pN(t,{placement:he,boundary:h,rootBoundary:m,padding:f,flipVariations:_,allowedAutoPlacements:k}):he)},[]),R=t.rects.reference,V=t.rects.popper,I=new Map,z=!0,F=P[0],C=0;C<P.length;C++){var N=P[C],H=$s(N),G=Xl(N)===Gl,Y=[hi,os].indexOf(H)>=0,W=Y?"width":"height",M=dd(t,{placement:N,boundary:h,rootBoundary:m,altBoundary:b,padding:f}),U=Y?G?as:pi:G?os:hi;R[W]>V[W]&&(U=qh(U));var K=qh(U),Q=[];if(r&&Q.push(M[H]<=0),l&&Q.push(M[U]<=0,M[K]<=0),Q.every(function(ge){return ge})){F=N,z=!1;break}I.set(N,Q)}if(z)for(var B=_?3:1,Z=function(he){var ce=P.find(function(de){var pe=I.get(de);if(pe)return pe.slice(0,he).every(function(Ee){return Ee})});if(ce)return F=ce,"break"},ae=B;ae>0;ae--){var re=Z(ae);if(re==="break")break}t.placement!==F&&(t.modifiersData[i]._skip=!0,t.placement=F,t.reset=!0)}}const bN={name:"flip",enabled:!0,phase:"main",fn:gN,requiresIfExists:["offset"],data:{_skip:!1}};function o2(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function a2(n){return[hi,as,os,pi].some(function(t){return n[t]>=0})}function yN(n){var t=n.state,e=n.name,i=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,o=dd(t,{elementContext:"reference"}),l=dd(t,{altBoundary:!0}),u=o2(o,i),f=o2(l,s,r),h=a2(u),m=a2(f);t.modifiersData[e]={referenceClippingOffsets:u,popperEscapeOffsets:f,isReferenceHidden:h,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":m})}const vN={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:yN};function wN(n,t,e){var i=$s(n),s=[pi,hi].indexOf(i)>=0?-1:1,r=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,o=r[0],l=r[1];return o=o||0,l=(l||0)*s,[pi,as].indexOf(i)>=0?{x:l,y:o}:{x:o,y:l}}function _N(n){var t=n.state,e=n.options,i=n.name,s=e.offset,r=s===void 0?[0,0]:s,o=o5.reduce(function(h,m){return h[m]=wN(m,t.rects,r),h},{}),l=o[t.placement],u=l.x,f=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=f),t.modifiersData[i]=o}const kN={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_N};function CN(n){var t=n.state,e=n.name;t.modifiersData[e]=h5({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const SN={name:"popperOffsets",enabled:!0,phase:"read",fn:CN,data:{}};function xN(n){return n==="x"?"y":"x"}function TN(n){var t=n.state,e=n.options,i=n.name,s=e.mainAxis,r=s===void 0?!0:s,o=e.altAxis,l=o===void 0?!1:o,u=e.boundary,f=e.rootBoundary,h=e.altBoundary,m=e.padding,b=e.tether,w=b===void 0?!0:b,_=e.tetherOffset,k=_===void 0?0:_,x=dd(t,{boundary:u,rootBoundary:f,padding:m,altBoundary:h}),A=$s(t.placement),L=Xl(t.placement),E=!L,P=a1(A),R=xN(P),V=t.modifiersData.popperOffsets,I=t.rects.reference,z=t.rects.popper,F=typeof k=="function"?k(Object.assign({},t.rects,{placement:t.placement})):k,C=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,H={x:0,y:0};if(V){if(r){var G,Y=P==="y"?hi:pi,W=P==="y"?os:as,M=P==="y"?"height":"width",U=V[P],K=U+x[Y],Q=U-x[W],B=w?-z[M]/2:0,Z=L===Gl?I[M]:z[M],ae=L===Gl?-z[M]:-I[M],re=t.elements.arrow,ge=w&&re?o1(re):{width:0,height:0},he=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:c5(),ce=he[Y],de=he[W],pe=$u(0,I[M],ge[M]),Ee=E?I[M]/2-B-pe-ce-C.mainAxis:Z-pe-ce-C.mainAxis,_e=E?-I[M]/2+B+pe+de+C.mainAxis:ae+pe+de+C.mainAxis,Ae=t.elements.arrow&&Hd(t.elements.arrow),Le=Ae?P==="y"?Ae.clientTop||0:Ae.clientLeft||0:0,Ye=(G=N==null?void 0:N[P])!=null?G:0,ze=U+Ee-Ye-Le,dt=U+_e-Ye,an=$u(w?yp(K,ze):K,U,w?la(Q,dt):Q);V[P]=an,H[P]=an-U}if(l){var rt,Rt=P==="x"?hi:pi,yn=P==="x"?os:as,vt=V[R],ft=R==="y"?"height":"width",Pe=vt+x[Rt],Dn=vt-x[yn],Ut=[hi,pi].indexOf(A)!==-1,_i=(rt=N==null?void 0:N[R])!=null?rt:0,Hn=Ut?Pe:vt-I[ft]-z[ft]-_i+C.altAxis,Dt=Ut?vt+I[ft]+z[ft]-_i-C.altAxis:Dn,fn=w&&Ut?XD(Hn,vt,Dt):$u(w?Hn:Pe,vt,w?Dt:Dn);V[R]=fn,H[R]=fn-vt}t.modifiersData[i]=H}}const EN={name:"preventOverflow",enabled:!0,phase:"main",fn:TN,requiresIfExists:["offset"]};function AN(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function PN(n){return n===Ni(n)||!ss(n)?l1(n):AN(n)}function RN(n){var t=n.getBoundingClientRect(),e=Kl(t.width)/n.offsetWidth||1,i=Kl(t.height)/n.offsetHeight||1;return e!==1||i!==1}function ON(n,t,e){e===void 0&&(e=!1);var i=ss(t),s=ss(t)&&RN(t),r=Eo(t),o=Yl(n,s,e),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!e)&&((Ws(t)!=="body"||u1(r))&&(l=PN(t)),ss(t)?(u=Yl(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):r&&(u.x=c1(r))),{x:o.left+l.scrollLeft-u.x,y:o.top+l.scrollTop-u.y,width:o.width,height:o.height}}function MN(n){var t=new Map,e=new Set,i=[];n.forEach(function(r){t.set(r.name,r)});function s(r){e.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(l){if(!e.has(l)){var u=t.get(l);u&&s(u)}}),i.push(r)}return n.forEach(function(r){e.has(r.name)||s(r)}),i}function IN(n){var t=MN(n);return jD.reduce(function(e,i){return e.concat(t.filter(function(s){return s.phase===i}))},[])}function LN(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function BN(n){var t=n.reduce(function(e,i){var s=e[i.name];return e[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}var l2={placement:"bottom",modifiers:[],strategy:"absolute"};function c2(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function DN(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,i=e===void 0?[]:e,s=t.defaultOptions,r=s===void 0?l2:s;return function(l,u,f){f===void 0&&(f=r);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},l2,r),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},m=[],b=!1,w={state:h,setOptions:function(A){var L=typeof A=="function"?A(h.options):A;k(),h.options=Object.assign({},r,h.options,L),h.scrollParents={reference:ma(l)?Hu(l):l.contextElement?Hu(l.contextElement):[],popper:Hu(u)};var E=IN(BN([].concat(i,h.options.modifiers)));return h.orderedModifiers=E.filter(function(P){return P.enabled}),_(),w.update()},forceUpdate:function(){if(!b){var A=h.elements,L=A.reference,E=A.popper;if(c2(L,E)){h.rects={reference:ON(L,Hd(E),h.options.strategy==="fixed"),popper:o1(E)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(C){return h.modifiersData[C.name]=Object.assign({},C.data)});for(var P=0;P<h.orderedModifiers.length;P++){if(h.reset===!0){h.reset=!1,P=-1;continue}var R=h.orderedModifiers[P],V=R.fn,I=R.options,z=I===void 0?{}:I,F=R.name;typeof V=="function"&&(h=V({state:h,options:z,name:F,instance:w})||h)}}}},update:LN(function(){return new Promise(function(x){w.forceUpdate(),x(h)})}),destroy:function(){k(),b=!0}};if(!c2(l,u))return w;w.setOptions(f).then(function(x){!b&&f.onFirstUpdate&&f.onFirstUpdate(x)});function _(){h.orderedModifiers.forEach(function(x){var A=x.name,L=x.options,E=L===void 0?{}:L,P=x.effect;if(typeof P=="function"){var R=P({state:h,name:A,instance:w,options:E}),V=function(){};m.push(R||V)}})}function k(){m.forEach(function(x){return x()}),m=[]}return w}}var NN=[oN,SN,sN,GD,kN,bN,EN,eN,vN],VN=DN({defaultModifiers:NN});function p5(n){var m;const{elementType:t,externalSlotProps:e,ownerState:i,skipResolvingSlotProps:s=!1,...r}=n,o=s?{}:t5(e,i),{props:l,internalRef:u}=i5({...r,externalSlotProps:o}),f=xn(u,o==null?void 0:o.ref,(m=n.additionalProps)==null?void 0:m.ref);return e5(t,{...l,ref:f},i)}function Sa(n){var t;return parseInt(S.version,10)>=19?((t=n==null?void 0:n.props)==null?void 0:t.ref)||null:(n==null?void 0:n.ref)||null}function FN(n){return typeof n=="function"?n():n}const m5=S.forwardRef(function(t,e){const{children:i,container:s,disablePortal:r=!1}=t,[o,l]=S.useState(null),u=xn(S.isValidElement(i)?Sa(i):null,e);if(kr(()=>{r||l(FN(s)||document.body)},[s,r]),kr(()=>{if(o&&!r)return qS(e,o),()=>{qS(e,null)}},[e,o,r]),r){if(S.isValidElement(i)){const f={ref:u};return S.cloneElement(i,f)}return i}return o&&uA.createPortal(i,o)});function zN(n){return $e("MuiPopper",n)}We("MuiPopper",["root"]);function UN(n,t){if(t==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function Py(n){return typeof n=="function"?n():n}function $N(n){return n.nodeType!==void 0}const HN=n=>{const{classes:t}=n;return He({root:["root"]},zN,t)},jN={},WN=S.forwardRef(function(t,e){const{anchorEl:i,children:s,direction:r,disablePortal:o,modifiers:l,open:u,placement:f,popperOptions:h,popperRef:m,slotProps:b={},slots:w={},TransitionProps:_,ownerState:k,...x}=t,A=S.useRef(null),L=xn(A,e),E=S.useRef(null),P=xn(E,m),R=S.useRef(P);kr(()=>{R.current=P},[P]),S.useImperativeHandle(m,()=>E.current,[]);const V=UN(f,r),[I,z]=S.useState(V),[F,C]=S.useState(Py(i));S.useEffect(()=>{E.current&&E.current.forceUpdate()}),S.useEffect(()=>{i&&C(Py(i))},[i]),kr(()=>{if(!F||!u)return;const W=K=>{z(K.placement)};let M=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:K})=>{W(K)}}];l!=null&&(M=M.concat(l)),h&&h.modifiers!=null&&(M=M.concat(h.modifiers));const U=VN(F,A.current,{placement:V,...h,modifiers:M});return R.current(U),()=>{U.destroy(),R.current(null)}},[F,o,l,u,h,V]);const N={placement:I};_!==null&&(N.TransitionProps=_);const H=HN(t),G=w.root??"div",Y=p5({elementType:G,externalSlotProps:b.root,externalForwardedProps:x,additionalProps:{role:"tooltip",ref:L},ownerState:t,className:H.root});return J.jsx(G,{...Y,children:typeof s=="function"?s(N):s})}),qN=S.forwardRef(function(t,e){const{anchorEl:i,children:s,container:r,direction:o="ltr",disablePortal:l=!1,keepMounted:u=!1,modifiers:f,open:h,placement:m="bottom",popperOptions:b=jN,popperRef:w,style:_,transition:k=!1,slotProps:x={},slots:A={},...L}=t,[E,P]=S.useState(!0),R=()=>{P(!1)},V=()=>{P(!0)};if(!u&&!h&&(!k||E))return null;let I;if(r)I=r;else if(i){const C=Py(i);I=C&&$N(C)?Zn(C).body:Zn(null).body}const z=!h&&u&&(!k||E)?"none":void 0,F=k?{in:h,onEnter:R,onExited:V}:void 0;return J.jsx(m5,{disablePortal:l,container:I,children:J.jsx(WN,{anchorEl:i,direction:o,disablePortal:l,modifiers:f,ref:e,open:k?!E:h,placement:m,popperOptions:b,popperRef:w,slotProps:x,slots:A,...L,style:{position:"fixed",top:0,left:0,display:z,..._},TransitionProps:F,children:s})})}),GN=ye(qN,{name:"MuiPopper",slot:"Root"})({}),g5=S.forwardRef(function(t,e){const i=Xv(),s=qe({props:t,name:"MuiPopper"}),{anchorEl:r,component:o,components:l,componentsProps:u,container:f,disablePortal:h,keepMounted:m,modifiers:b,open:w,placement:_,popperOptions:k,popperRef:x,transition:A,slots:L,slotProps:E,...P}=s,R=(L==null?void 0:L.root)??(l==null?void 0:l.Root),V={anchorEl:r,container:f,disablePortal:h,keepMounted:m,modifiers:b,open:w,placement:_,popperOptions:k,popperRef:x,transition:A,...P};return J.jsx(GN,{as:o,direction:i?"rtl":"ltr",slots:{root:R},slotProps:E??u,...V,ref:e})});function _h(n){return parseInt(n,10)||0}const KN={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function YN(n){for(const t in n)return!1;return!0}function u2(n){return YN(n)||n.outerHeightStyle===0&&!n.overflowing}const XN=S.forwardRef(function(t,e){const{onChange:i,maxRows:s,minRows:r=1,style:o,value:l,...u}=t,{current:f}=S.useRef(l!=null),h=S.useRef(null),m=xn(e,h),b=S.useRef(null),w=S.useRef(null),_=S.useCallback(()=>{const E=h.current,P=w.current;if(!E||!P)return;const V=Cr(E).getComputedStyle(E);if(V.width==="0px")return{outerHeightStyle:0,overflowing:!1};P.style.width=V.width,P.value=E.value||t.placeholder||"x",P.value.slice(-1)===`
`&&(P.value+=" ");const I=V.boxSizing,z=_h(V.paddingBottom)+_h(V.paddingTop),F=_h(V.borderBottomWidth)+_h(V.borderTopWidth),C=P.scrollHeight;P.value="x";const N=P.scrollHeight;let H=C;r&&(H=Math.max(Number(r)*N,H)),s&&(H=Math.min(Number(s)*N,H)),H=Math.max(H,N);const G=H+(I==="border-box"?z+F:0),Y=Math.abs(H-C)<=1;return{outerHeightStyle:G,overflowing:Y}},[s,r,t.placeholder]),k=Us(()=>{const E=h.current,P=_();if(!E||!P||u2(P))return!1;const R=P.outerHeightStyle;return b.current!=null&&b.current!==R}),x=S.useCallback(()=>{const E=h.current,P=_();if(!E||!P||u2(P))return;const R=P.outerHeightStyle;b.current!==R&&(b.current=R,E.style.height=`${R}px`),E.style.overflow=P.overflowing?"hidden":""},[_]),A=S.useRef(-1);kr(()=>{const E=KA(x),P=h==null?void 0:h.current;if(!P)return;const R=Cr(P);R.addEventListener("resize",E);let V;return typeof ResizeObserver<"u"&&(V=new ResizeObserver(()=>{k()&&(V.unobserve(P),cancelAnimationFrame(A.current),x(),A.current=requestAnimationFrame(()=>{V.observe(P)}))}),V.observe(P)),()=>{E.clear(),cancelAnimationFrame(A.current),R.removeEventListener("resize",E),V&&V.disconnect()}},[_,x,k]),kr(()=>{x()});const L=E=>{f||x();const P=E.target,R=P.value.length,V=P.value.endsWith(`
`),I=P.selectionStart===R;V&&I&&P.setSelectionRange(R,R),i&&i(E)};return J.jsxs(S.Fragment,{children:[J.jsx("textarea",{value:l,onChange:L,ref:m,rows:r,style:o,...u}),J.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:w,tabIndex:-1,style:{...KN.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function Ry(n){return typeof n=="string"}function xa({props:n,states:t,muiFormControl:e}){return t.reduce((i,s)=>(i[s]=n[s],e&&typeof n[s]>"u"&&(i[s]=e[s]),i),{})}const gm=S.createContext(void 0);function Or(){return S.useContext(gm)}function d2(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function vp(n,t=!1){return n&&(d2(n.value)&&n.value!==""||t&&d2(n.defaultValue)&&n.defaultValue!=="")}function JN(n){return n.startAdornment}function ZN(n){return $e("MuiInputBase",n)}const Jl=We("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var f2;const bm=(n,t)=>{const{ownerState:e}=n;return[t.root,e.formControl&&t.formControl,e.startAdornment&&t.adornedStart,e.endAdornment&&t.adornedEnd,e.error&&t.error,e.size==="small"&&t.sizeSmall,e.multiline&&t.multiline,e.color&&t[`color${ve(e.color)}`],e.fullWidth&&t.fullWidth,e.hiddenLabel&&t.hiddenLabel]},ym=(n,t)=>{const{ownerState:e}=n;return[t.input,e.size==="small"&&t.inputSizeSmall,e.multiline&&t.inputMultiline,e.type==="search"&&t.inputTypeSearch,e.startAdornment&&t.inputAdornedStart,e.endAdornment&&t.inputAdornedEnd,e.hiddenLabel&&t.inputHiddenLabel]},QN=n=>{const{classes:t,color:e,disabled:i,error:s,endAdornment:r,focused:o,formControl:l,fullWidth:u,hiddenLabel:f,multiline:h,readOnly:m,size:b,startAdornment:w,type:_}=n,k={root:["root",`color${ve(e)}`,i&&"disabled",s&&"error",u&&"fullWidth",o&&"focused",l&&"formControl",b&&b!=="medium"&&`size${ve(b)}`,h&&"multiline",w&&"adornedStart",r&&"adornedEnd",f&&"hiddenLabel",m&&"readOnly"],input:["input",i&&"disabled",_==="search"&&"inputTypeSearch",h&&"inputMultiline",b==="small"&&"inputSizeSmall",f&&"inputHiddenLabel",w&&"inputAdornedStart",r&&"inputAdornedEnd",m&&"readOnly"]};return He(k,ZN,t)},vm=ye("div",{name:"MuiInputBase",slot:"Root",overridesResolver:bm})(Qe(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Jl.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:e})=>t.multiline&&e==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),wm=ye("input",{name:"MuiInputBase",slot:"Input",overridesResolver:ym})(Qe(({theme:n})=>{const t=n.palette.mode==="light",e={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},i={opacity:"0 !important"},s=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":e,"&::-moz-placeholder":e,"&::-ms-input-placeholder":e,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Jl.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Jl.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:r})=>!r.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:r})=>r.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),h2=e1({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),d1=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:r,autoFocus:o,className:l,color:u,components:f={},componentsProps:h={},defaultValue:m,disabled:b,disableInjectingGlobalStyles:w,endAdornment:_,error:k,fullWidth:x=!1,id:A,inputComponent:L="input",inputProps:E={},inputRef:P,margin:R,maxRows:V,minRows:I,multiline:z=!1,name:F,onBlur:C,onChange:N,onClick:H,onFocus:G,onKeyDown:Y,onKeyUp:W,placeholder:M,readOnly:U,renderSuffix:K,rows:Q,size:B,slotProps:Z={},slots:ae={},startAdornment:re,type:ge="text",value:he,...ce}=i,de=E.value!=null?E.value:he,{current:pe}=S.useRef(de!=null),Ee=S.useRef(),_e=S.useCallback(et=>{},[]),Ae=xn(Ee,P,E.ref,_e),[Le,Ye]=S.useState(!1),ze=Or(),dt=xa({props:i,muiFormControl:ze,states:["color","disabled","error","hiddenLabel","size","required","filled"]});dt.focused=ze?ze.focused:Le,S.useEffect(()=>{!ze&&b&&Le&&(Ye(!1),C&&C())},[ze,b,Le,C]);const an=ze&&ze.onFilled,rt=ze&&ze.onEmpty,Rt=S.useCallback(et=>{vp(et)?an&&an():rt&&rt()},[an,rt]);kr(()=>{pe&&Rt({value:de})},[de,Rt,pe]);const yn=et=>{G&&G(et),E.onFocus&&E.onFocus(et),ze&&ze.onFocus?ze.onFocus(et):Ye(!0)},vt=et=>{C&&C(et),E.onBlur&&E.onBlur(et),ze&&ze.onBlur?ze.onBlur(et):Ye(!1)},ft=(et,...si)=>{if(!pe){const Tn=et.target||Ee.current;if(Tn==null)throw new Error(js(1));Rt({value:Tn.value})}E.onChange&&E.onChange(et,...si),N&&N(et,...si)};S.useEffect(()=>{Rt(Ee.current)},[]);const Pe=et=>{Ee.current&&et.currentTarget===et.target&&Ee.current.focus(),H&&H(et)};let Dn=L,Ut=E;z&&Dn==="input"&&(Q?Ut={type:void 0,minRows:Q,maxRows:Q,...Ut}:Ut={type:void 0,maxRows:V,minRows:I,...Ut},Dn=XN);const _i=et=>{Rt(et.animationName==="mui-auto-fill-cancel"?Ee.current:{value:"x"})};S.useEffect(()=>{ze&&ze.setAdornedStart(!!re)},[ze,re]);const Hn={...i,color:dt.color||"primary",disabled:dt.disabled,endAdornment:_,error:dt.error,focused:dt.focused,formControl:ze,fullWidth:x,hiddenLabel:dt.hiddenLabel,multiline:z,size:dt.size,startAdornment:re,type:ge},Dt=QN(Hn),fn=ae.root||f.Root||vm,Nt=Z.root||h.root||{},ki=ae.input||f.Input||wm;return Ut={...Ut,...Z.input??h.input},J.jsxs(S.Fragment,{children:[!w&&typeof h2=="function"&&(f2||(f2=J.jsx(h2,{}))),J.jsxs(fn,{...Nt,ref:e,onClick:Pe,...ce,...!Ry(fn)&&{ownerState:{...Hn,...Nt.ownerState}},className:Oe(Dt.root,Nt.className,l,U&&"MuiInputBase-readOnly"),children:[re,J.jsx(gm.Provider,{value:null,children:J.jsx(ki,{"aria-invalid":dt.error,"aria-describedby":s,autoComplete:r,autoFocus:o,defaultValue:m,disabled:dt.disabled,id:A,onAnimationStart:_i,name:F,placeholder:M,readOnly:U,required:dt.required,rows:Q,value:de,onKeyDown:Y,onKeyUp:W,type:ge,...Ut,...!Ry(ki)&&{as:Dn,ownerState:{...Hn,...Ut.ownerState}},ref:Ae,className:Oe(Dt.input,Ut.className,U&&"MuiInputBase-readOnly"),onBlur:vt,onChange:ft,onFocus:yn})}),_,K?K({...dt,startAdornment:re}):null]})]})});function e8(n){return $e("MuiInput",n)}const fu={...Jl,...We("MuiInput",["root","underline","input"])};function t8(n){return $e("MuiOutlinedInput",n)}const Ms={...Jl,...We("MuiOutlinedInput",["root","notchedOutline","input"])};function n8(n){return $e("MuiFilledInput",n)}const Yo={...Jl,...We("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},i8=Bt(J.jsx("path",{d:"M7 10l5 5 5-5z"})),s8=Bt(J.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function r8(n){return $e("MuiAvatar",n)}We("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const o8=n=>{const{classes:t,variant:e,colorDefault:i}=n;return He({root:["root",e,i&&"colorDefault"],img:["img"],fallback:["fallback"]},r8,t)},a8=ye("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],e.colorDefault&&t.colorDefault]}})(Qe(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(n.vars||n).palette.background.default,...n.vars?{backgroundColor:n.vars.palette.Avatar.defaultBg}:{backgroundColor:n.palette.grey[400],...n.applyStyles("dark",{backgroundColor:n.palette.grey[600]})}}}]}))),l8=ye("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),c8=ye(s8,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function u8({crossOrigin:n,referrerPolicy:t,src:e,srcSet:i}){const[s,r]=S.useState(!1);return S.useEffect(()=>{if(!e&&!i)return;r(!1);let o=!0;const l=new Image;return l.onload=()=>{o&&r("loaded")},l.onerror=()=>{o&&r("error")},l.crossOrigin=n,l.referrerPolicy=t,l.src=e,i&&(l.srcset=i),()=>{o=!1}},[n,t,e,i]),s}const d8=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiAvatar"}),{alt:s,children:r,className:o,component:l="div",slots:u={},slotProps:f={},imgProps:h,sizes:m,src:b,srcSet:w,variant:_="circular",...k}=i;let x=null;const A={...i,component:l,variant:_},L=u8({...h,...typeof f.img=="function"?f.img(A):f.img,src:b,srcSet:w}),E=b||w,P=E&&L!=="error";A.colorDefault=!P,delete A.ownerState;const R=o8(A),[V,I]=lt("root",{ref:e,className:Oe(R.root,o),elementType:a8,externalForwardedProps:{slots:u,slotProps:f,component:l,...k},ownerState:A}),[z,F]=lt("img",{className:R.img,elementType:l8,externalForwardedProps:{slots:u,slotProps:{img:{...h,...f.img}}},additionalProps:{alt:s,src:b,srcSet:w,sizes:m},ownerState:A}),[C,N]=lt("fallback",{className:R.fallback,elementType:c8,externalForwardedProps:{slots:u,slotProps:f},shouldForwardComponentProp:!0,ownerState:A});return P?x=J.jsx(z,{...F}):r||r===0?x=r:E&&s?x=s[0]:x=J.jsx(C,{...N}),J.jsx(V,{...I,children:x})}),f8={entering:{opacity:1},entered:{opacity:1}},Oy=S.forwardRef(function(t,e){const i=Ca(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:r,appear:o=!0,children:l,easing:u,in:f,onEnter:h,onEntered:m,onEntering:b,onExit:w,onExited:_,onExiting:k,style:x,timeout:A=s,TransitionComponent:L=Ss,...E}=t,P=S.useRef(null),R=xn(P,Sa(l),e),V=Y=>W=>{if(Y){const M=P.current;W===void 0?Y(M):Y(M,W)}},I=V(b),z=V((Y,W)=>{QA(Y);const M=ql({style:x,timeout:A,easing:u},{mode:"enter"});Y.style.webkitTransition=i.transitions.create("opacity",M),Y.style.transition=i.transitions.create("opacity",M),h&&h(Y,W)}),F=V(m),C=V(k),N=V(Y=>{const W=ql({style:x,timeout:A,easing:u},{mode:"exit"});Y.style.webkitTransition=i.transitions.create("opacity",W),Y.style.transition=i.transitions.create("opacity",W),w&&w(Y)}),H=V(_),G=Y=>{r&&r(P.current,Y)};return J.jsx(L,{appear:o,in:f,nodeRef:P,onEnter:z,onEntered:F,onEntering:I,onExit:N,onExited:H,onExiting:C,addEndListener:G,timeout:A,...E,children:(Y,{ownerState:W,...M})=>S.cloneElement(l,{style:{opacity:0,visibility:Y==="exited"&&!f?"hidden":void 0,...f8[Y],...x,...l.props.style},ref:R,...M})})});function h8(n){return $e("MuiBackdrop",n)}We("MuiBackdrop",["root","invisible"]);const p8=n=>{const{classes:t,invisible:e}=n;return He({root:["root",e&&"invisible"]},h8,t)},m8=ye("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),b5=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiBackdrop"}),{children:s,className:r,component:o="div",invisible:l=!1,open:u,components:f={},componentsProps:h={},slotProps:m={},slots:b={},TransitionComponent:w,transitionDuration:_,...k}=i,x={...i,component:o,invisible:l},A=p8(x),L={transition:w,root:f.Root,...b},E={...h,...m},P={slots:L,slotProps:E},[R,V]=lt("root",{elementType:m8,externalForwardedProps:P,className:Oe(A.root,r),ownerState:x}),[I,z]=lt("transition",{elementType:Oy,externalForwardedProps:P,ownerState:x});return J.jsx(I,{in:u,timeout:_,...k,...z,children:J.jsx(R,{"aria-hidden":!0,...V,classes:A,ref:e,children:s})})});function g8(n){const{badgeContent:t,invisible:e=!1,max:i=99,showZero:s=!1}=n,r=s5({badgeContent:t,max:i});let o=e;e===!1&&t===0&&!s&&(o=!0);const{badgeContent:l,max:u=i}=o?r:n,f=l&&Number(l)>u?`${u}+`:l;return{badgeContent:l,invisible:o,max:u,displayValue:f}}function b8(n){return $e("MuiBadge",n)}const so=We("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),p0=10,m0=4,y8=n=>{const{color:t,anchorOrigin:e,invisible:i,overlap:s,variant:r,classes:o={}}=n,l={root:["root"],badge:["badge",r,i&&"invisible",`anchorOrigin${ve(e.vertical)}${ve(e.horizontal)}`,`anchorOrigin${ve(e.vertical)}${ve(e.horizontal)}${ve(s)}`,`overlap${ve(s)}`,t!=="default"&&`color${ve(t)}`]};return He(l,b8,o)},v8=ye("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),w8=ye("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.badge,t[e.variant],t[`anchorOrigin${ve(e.anchorOrigin.vertical)}${ve(e.anchorOrigin.horizontal)}${ve(e.overlap)}`],e.color!=="default"&&t[`color${ve(e.color)}`],e.invisible&&t.invisible]}})(Qe(({theme:n})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:n.typography.fontFamily,fontWeight:n.typography.fontWeightMedium,fontSize:n.typography.pxToRem(12),minWidth:p0*2,lineHeight:1,padding:"0 6px",height:p0*2,borderRadius:p0,zIndex:1,transition:n.transitions.create("transform",{easing:n.transitions.easing.easeInOut,duration:n.transitions.duration.enteringScreen}),variants:[...Object.entries(n.palette).filter(Di(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(n.vars||n).palette[t].main,color:(n.vars||n).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:m0,height:m0*2,minWidth:m0*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${so.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${so.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${so.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${so.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${so.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${so.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${so.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${so.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:n.transitions.create("transform",{easing:n.transitions.easing.easeInOut,duration:n.transitions.duration.leavingScreen})}}]})));function p2(n){return{vertical:(n==null?void 0:n.vertical)??"top",horizontal:(n==null?void 0:n.horizontal)??"right"}}const _8=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiBadge"}),{anchorOrigin:s,className:r,classes:o,component:l,components:u={},componentsProps:f={},children:h,overlap:m="rectangular",color:b="default",invisible:w=!1,max:_=99,badgeContent:k,slots:x,slotProps:A,showZero:L=!1,variant:E="standard",...P}=i,{badgeContent:R,invisible:V,max:I,displayValue:z}=g8({max:_,invisible:w,badgeContent:k,showZero:L}),F=s5({anchorOrigin:p2(s),color:b,overlap:m,variant:E,badgeContent:k}),C=V||R==null&&E!=="dot",{color:N=b,overlap:H=m,anchorOrigin:G,variant:Y=E}=C?F:i,W=p2(G),M=Y!=="dot"?z:void 0,U={...i,badgeContent:R,invisible:C,max:I,displayValue:M,showZero:L,anchorOrigin:W,color:N,overlap:H,variant:Y},K=y8(U),Q={slots:{root:(x==null?void 0:x.root)??u.Root,badge:(x==null?void 0:x.badge)??u.Badge},slotProps:{root:(A==null?void 0:A.root)??f.root,badge:(A==null?void 0:A.badge)??f.badge}},[B,Z]=lt("root",{elementType:v8,externalForwardedProps:{...Q,...P},ownerState:U,className:Oe(K.root,r),ref:e,additionalProps:{as:l}}),[ae,re]=lt("badge",{elementType:w8,externalForwardedProps:Q,ownerState:U,className:K.badge});return J.jsxs(B,{...Z,children:[h,J.jsx(ae,{...re,children:M})]})}),k8=We("MuiBox",["root"]),C8=Zv(),Ht=lB({themeId:nm,defaultTheme:C8,defaultClassName:k8.root,generateClassName:MA.generate});function S8(n){return $e("MuiButton",n)}const Xo=We("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),x8=S.createContext({}),T8=S.createContext(void 0),E8=n=>{const{color:t,disableElevation:e,fullWidth:i,size:s,variant:r,loading:o,loadingPosition:l,classes:u}=n,f={root:["root",o&&"loading",r,`${r}${ve(t)}`,`size${ve(s)}`,`${r}Size${ve(s)}`,`color${ve(t)}`,e&&"disableElevation",i&&"fullWidth",o&&`loadingPosition${ve(l)}`],startIcon:["icon","startIcon",`iconSize${ve(s)}`],endIcon:["icon","endIcon",`iconSize${ve(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=He(f,S8,u);return{...u,...h}},y5=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],A8=ye(i1,{shouldForwardProp:n=>Ui(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],t[`${e.variant}${ve(e.color)}`],t[`size${ve(e.size)}`],t[`${e.variant}Size${ve(e.size)}`],e.color==="inherit"&&t.colorInherit,e.disableElevation&&t.disableElevation,e.fullWidth&&t.fullWidth,e.loading&&t.loading]}})(Qe(({theme:n})=>{const t=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],e=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Xo.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${Xo.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${Xo.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Xo.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(Di()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(n.vars||n).palette[i].main,"--variant-outlinedColor":(n.vars||n).palette[i].main,"--variant-outlinedBorder":n.vars?`rgba(${n.vars.palette[i].mainChannel} / 0.5)`:Xn(n.palette[i].main,.5),"--variant-containedColor":(n.vars||n).palette[i].contrastText,"--variant-containedBg":(n.vars||n).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[i].dark,"--variant-textBg":n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Xn(n.palette[i].main,n.palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[i].main,"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Xn(n.palette[i].main,n.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:e,"--variant-textBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Xn(n.palette.text.primary,n.palette.action.hoverOpacity),"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Xn(n.palette.text.primary,n.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Xo.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Xo.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${Xo.loading}`]:{color:"transparent"}}}]}})),P8=ye("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.startIcon,e.loading&&t.startIconLoadingStart,t[`iconSize${ve(e.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...y5]})),R8=ye("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.endIcon,e.loading&&t.endIconLoadingEnd,t[`iconSize${ve(e.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...y5]})),O8=ye("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),m2=ye("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),bn=S.forwardRef(function(t,e){const i=S.useContext(x8),s=S.useContext(T8),r=cd(i,t),o=qe({props:r,name:"MuiButton"}),{children:l,color:u="primary",component:f="button",className:h,disabled:m=!1,disableElevation:b=!1,disableFocusRipple:w=!1,endIcon:_,focusVisibleClassName:k,fullWidth:x=!1,id:A,loading:L=null,loadingIndicator:E,loadingPosition:P="center",size:R="medium",startIcon:V,type:I,variant:z="text",...F}=o,C=ac(A),N=E??J.jsx(pm,{"aria-labelledby":C,color:"inherit",size:16}),H={...o,color:u,component:f,disabled:m,disableElevation:b,disableFocusRipple:w,fullWidth:x,loading:L,loadingIndicator:N,loadingPosition:P,size:R,type:I,variant:z},G=E8(H),Y=(V||L&&P==="start")&&J.jsx(P8,{className:G.startIcon,ownerState:H,children:V||J.jsx(m2,{className:G.loadingIconPlaceholder,ownerState:H})}),W=(_||L&&P==="end")&&J.jsx(R8,{className:G.endIcon,ownerState:H,children:_||J.jsx(m2,{className:G.loadingIconPlaceholder,ownerState:H})}),M=s||"",U=typeof L=="boolean"?J.jsx("span",{className:G.loadingWrapper,style:{display:"contents"},children:L&&J.jsx(O8,{className:G.loadingIndicator,ownerState:H,children:N})}):null;return J.jsxs(A8,{ownerState:H,className:Oe(i.className,G.root,h,M),component:f,disabled:m||L,focusRipple:!w,focusVisibleClassName:Oe(G.focusVisible,k),ref:e,type:I,id:L?C:A,...F,classes:G,children:[Y,P!=="end"&&U,l,P==="end"&&U,W]})});function M8(n){return $e("PrivateSwitchBase",n)}We("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const I8=n=>{const{classes:t,checked:e,disabled:i,edge:s}=n,r={root:["root",e&&"checked",i&&"disabled",s&&`edge${ve(s)}`],input:["input"]};return He(r,M8,t)},L8=ye(i1)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:n,ownerState:t})=>n==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:n,ownerState:t})=>n==="end"&&t.size!=="small",style:{marginRight:-12}}]}),B8=ye("input",{shouldForwardProp:Ui})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),D8=S.forwardRef(function(t,e){const{autoFocus:i,checked:s,checkedIcon:r,defaultChecked:o,disabled:l,disableFocusRipple:u=!1,edge:f=!1,icon:h,id:m,inputProps:b,inputRef:w,name:_,onBlur:k,onChange:x,onFocus:A,readOnly:L,required:E=!1,tabIndex:P,type:R,value:V,slots:I={},slotProps:z={},...F}=t,[C,N]=hp({controlled:s,default:!!o,name:"SwitchBase",state:"checked"}),H=Or(),G=he=>{A&&A(he),H&&H.onFocus&&H.onFocus(he)},Y=he=>{k&&k(he),H&&H.onBlur&&H.onBlur(he)},W=he=>{if(he.nativeEvent.defaultPrevented)return;const ce=he.target.checked;N(ce),x&&x(he,ce)};let M=l;H&&typeof M>"u"&&(M=H.disabled);const U=R==="checkbox"||R==="radio",K={...t,checked:C,disabled:M,disableFocusRipple:u,edge:f},Q=I8(K),B={slots:I,slotProps:{input:b,...z}},[Z,ae]=lt("root",{ref:e,elementType:L8,className:Q.root,shouldForwardComponentProp:!0,externalForwardedProps:{...B,component:"span",...F},getSlotProps:he=>({...he,onFocus:ce=>{var de;(de=he.onFocus)==null||de.call(he,ce),G(ce)},onBlur:ce=>{var de;(de=he.onBlur)==null||de.call(he,ce),Y(ce)}}),ownerState:K,additionalProps:{centerRipple:!0,focusRipple:!u,disabled:M,role:void 0,tabIndex:null}}),[re,ge]=lt("input",{ref:w,elementType:B8,className:Q.input,externalForwardedProps:B,getSlotProps:he=>({...he,onChange:ce=>{var de;(de=he.onChange)==null||de.call(he,ce),W(ce)}}),ownerState:K,additionalProps:{autoFocus:i,checked:s,defaultChecked:o,disabled:M,id:U?m:void 0,name:_,readOnly:L,required:E,tabIndex:P,type:R,...R==="checkbox"&&V===void 0?{}:{value:V}}});return J.jsxs(Z,{...ae,children:[J.jsx(re,{...ge}),C?r:h]})}),N8=Bt(J.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),V8=Bt(J.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),F8=Bt(J.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function z8(n){return $e("MuiCheckbox",n)}const g0=We("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),U8=n=>{const{classes:t,indeterminate:e,color:i,size:s}=n,r={root:["root",e&&"indeterminate",`color${ve(i)}`,`size${ve(s)}`]},o=He(r,z8,t);return{...t,...o}},$8=ye(D8,{shouldForwardProp:n=>Ui(n)||n==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.indeterminate&&t.indeterminate,t[`size${ve(e.size)}`],e.color!=="default"&&t[`color${ve(e.color)}`]]}})(Qe(({theme:n})=>({color:(n.vars||n).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Xn(n.palette.action.active,n.palette.action.hoverOpacity)}}},...Object.entries(n.palette).filter(Di()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette[t].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Xn(n.palette[t].main,n.palette.action.hoverOpacity)}}})),...Object.entries(n.palette).filter(Di()).map(([t])=>({props:{color:t},style:{[`&.${g0.checked}, &.${g0.indeterminate}`]:{color:(n.vars||n).palette[t].main},[`&.${g0.disabled}`]:{color:(n.vars||n).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),H8=J.jsx(V8,{}),j8=J.jsx(N8,{}),W8=J.jsx(F8,{}),My=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiCheckbox"}),{checkedIcon:s=H8,color:r="primary",icon:o=j8,indeterminate:l=!1,indeterminateIcon:u=W8,inputProps:f,size:h="medium",disableRipple:m=!1,className:b,slots:w={},slotProps:_={},...k}=i,x=l?u:o,A=l?u:s,L={...i,disableRipple:m,color:r,indeterminate:l,size:h},E=U8(L),P=_.input??f,[R,V]=lt("root",{ref:e,elementType:$8,className:Oe(E.root,b),shouldForwardComponentProp:!0,externalForwardedProps:{slots:w,slotProps:_,...k},ownerState:L,additionalProps:{type:"checkbox",icon:S.cloneElement(x,{fontSize:x.props.fontSize??h}),checkedIcon:S.cloneElement(A,{fontSize:A.props.fontSize??h}),disableRipple:m,slots:w,slotProps:{input:YA(typeof P=="function"?P(L):P,{"data-indeterminate":l})}}});return J.jsx(R,{...V,classes:E})});function g2(n){return n.substring(2).toLowerCase()}function q8(n,t){return t.documentElement.clientWidth<n.clientX||t.documentElement.clientHeight<n.clientY}function v5(n){const{children:t,disableReactTree:e=!1,mouseEvent:i="onClick",onClickAway:s,touchEvent:r="onTouchEnd"}=n,o=S.useRef(!1),l=S.useRef(null),u=S.useRef(!1),f=S.useRef(!1);S.useEffect(()=>(setTimeout(()=>{u.current=!0},0),()=>{u.current=!1}),[]);const h=xn(Sa(t),l),m=Us(_=>{const k=f.current;f.current=!1;const x=Zn(l.current);if(!u.current||!l.current||"clientX"in _&&q8(_,x))return;if(o.current){o.current=!1;return}let A;_.composedPath?A=_.composedPath().includes(l.current):A=!x.documentElement.contains(_.target)||l.current.contains(_.target),!A&&(e||!k)&&s(_)}),b=_=>k=>{f.current=!0;const x=t.props[_];x&&x(k)},w={ref:h};return r!==!1&&(w[r]=b(r)),S.useEffect(()=>{if(r!==!1){const _=g2(r),k=Zn(l.current),x=()=>{o.current=!0};return k.addEventListener(_,m),k.addEventListener("touchmove",x),()=>{k.removeEventListener(_,m),k.removeEventListener("touchmove",x)}}},[m,r]),i!==!1&&(w[i]=b(i)),S.useEffect(()=>{if(i!==!1){const _=g2(i),k=Zn(l.current);return k.addEventListener(_,m),()=>{k.removeEventListener(_,m)}}},[m,i]),S.cloneElement(t,w)}const Ao=NB({createStyledComponent:ye("div",{name:"MuiContainer",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[`maxWidth${ve(String(e.maxWidth))}`],e.fixed&&t.fixed,e.disableGutters&&t.disableGutters]}}),useThemeProps:n=>qe({props:n,name:"MuiContainer"})}),Iy=typeof e1({})=="function",G8=(n,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!n.vars&&{colorScheme:n.palette.mode}}),K8=n=>({color:(n.vars||n).palette.text.primary,...n.typography.body1,backgroundColor:(n.vars||n).palette.background.default,"@media print":{backgroundColor:(n.vars||n).palette.common.white}}),w5=(n,t=!1)=>{var r,o;const e={};t&&n.colorSchemes&&typeof n.getColorSchemeSelector=="function"&&Object.entries(n.colorSchemes).forEach(([l,u])=>{var h,m;const f=n.getColorSchemeSelector(l);f.startsWith("@")?e[f]={":root":{colorScheme:(h=u.palette)==null?void 0:h.mode}}:e[f.replace(/\s*&/,"")]={colorScheme:(m=u.palette)==null?void 0:m.mode}});let i={html:G8(n,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:n.typography.fontWeightBold},body:{margin:0,...K8(n),"&::backdrop":{backgroundColor:(n.vars||n).palette.background.default}},...e};const s=(o=(r=n.components)==null?void 0:r.MuiCssBaseline)==null?void 0:o.styleOverrides;return s&&(i=[i,s]),i},Gh="mui-ecs",Y8=n=>{const t=w5(n,!1),e=Array.isArray(t)?t[0]:t;return!n.vars&&e&&(e.html[`:root:has(${Gh})`]={colorScheme:n.palette.mode}),n.colorSchemes&&Object.entries(n.colorSchemes).forEach(([i,s])=>{var o,l;const r=n.getColorSchemeSelector(i);r.startsWith("@")?e[r]={[`:root:not(:has(.${Gh}))`]:{colorScheme:(o=s.palette)==null?void 0:o.mode}}:e[r.replace(/\s*&/,"")]={[`&:not(:has(.${Gh}))`]:{colorScheme:(l=s.palette)==null?void 0:l.mode}}}),t},X8=e1(Iy?({theme:n,enableColorScheme:t})=>w5(n,t):({theme:n})=>Y8(n));function J8(n){const t=qe({props:n,name:"MuiCssBaseline"}),{children:e,enableColorScheme:i=!1}=t;return J.jsxs(S.Fragment,{children:[Iy&&J.jsx(X8,{enableColorScheme:i}),!Iy&&!i&&J.jsx("span",{className:Gh,style:{display:"none"}}),e]})}function _5(n=window){const t=n.document.documentElement.clientWidth;return n.innerWidth-t}function Z8(n){const t=Zn(n);return t.body===n?Cr(n).innerWidth>t.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function ju(n,t){t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function b2(n){return parseInt(Cr(n).getComputedStyle(n).paddingRight,10)||0}function Q8(n){const e=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),i=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return e||i}function y2(n,t,e,i,s){const r=[t,e,...i];[].forEach.call(n.children,o=>{const l=!r.includes(o),u=!Q8(o);l&&u&&ju(o,s)})}function b0(n,t){let e=-1;return n.some((i,s)=>t(i)?(e=s,!0):!1),e}function eV(n,t){const e=[],i=n.container;if(!t.disableScrollLock){if(Z8(i)){const o=_5(Cr(i));e.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${b2(i)+o}px`;const l=Zn(i).querySelectorAll(".mui-fixed");[].forEach.call(l,u=>{e.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${b2(u)+o}px`})}let r;if(i.parentNode instanceof DocumentFragment)r=Zn(i).body;else{const o=i.parentElement,l=Cr(i);r=(o==null?void 0:o.nodeName)==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:i}e.push({value:r.style.overflow,property:"overflow",el:r},{value:r.style.overflowX,property:"overflow-x",el:r},{value:r.style.overflowY,property:"overflow-y",el:r}),r.style.overflow="hidden"}return()=>{e.forEach(({value:r,el:o,property:l})=>{r?o.style.setProperty(l,r):o.style.removeProperty(l)})}}function tV(n){const t=[];return[].forEach.call(n.children,e=>{e.getAttribute("aria-hidden")==="true"&&t.push(e)}),t}class nV{constructor(){this.modals=[],this.containers=[]}add(t,e){let i=this.modals.indexOf(t);if(i!==-1)return i;i=this.modals.length,this.modals.push(t),t.modalRef&&ju(t.modalRef,!1);const s=tV(e);y2(e,t.mount,t.modalRef,s,!0);const r=b0(this.containers,o=>o.container===e);return r!==-1?(this.containers[r].modals.push(t),i):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblings:s}),i)}mount(t,e){const i=b0(this.containers,r=>r.modals.includes(t)),s=this.containers[i];s.restore||(s.restore=eV(s,e))}remove(t,e=!0){const i=this.modals.indexOf(t);if(i===-1)return i;const s=b0(this.containers,o=>o.modals.includes(t)),r=this.containers[s];if(r.modals.splice(r.modals.indexOf(t),1),this.modals.splice(i,1),r.modals.length===0)r.restore&&r.restore(),t.modalRef&&ju(t.modalRef,e),y2(r.container,t.mount,t.modalRef,r.hiddenSiblings,!1),this.containers.splice(s,1);else{const o=r.modals[r.modals.length-1];o.modalRef&&ju(o.modalRef,!1)}return i}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const iV=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function sV(n){const t=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(t)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:t}function rV(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const t=i=>n.ownerDocument.querySelector(`input[type="radio"]${i}`);let e=t(`[name="${n.name}"]:checked`);return e||(e=t(`[name="${n.name}"]`)),e!==n}function oV(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||rV(n))}function aV(n){const t=[],e=[];return Array.from(n.querySelectorAll(iV)).forEach((i,s)=>{const r=sV(i);r===-1||!oV(i)||(r===0?t.push(i):e.push({documentOrder:s,tabIndex:r,node:i}))}),e.sort((i,s)=>i.tabIndex===s.tabIndex?i.documentOrder-s.documentOrder:i.tabIndex-s.tabIndex).map(i=>i.node).concat(t)}function lV(){return!0}function cV(n){const{children:t,disableAutoFocus:e=!1,disableEnforceFocus:i=!1,disableRestoreFocus:s=!1,getTabbable:r=aV,isEnabled:o=lV,open:l}=n,u=S.useRef(!1),f=S.useRef(null),h=S.useRef(null),m=S.useRef(null),b=S.useRef(null),w=S.useRef(!1),_=S.useRef(null),k=xn(Sa(t),_),x=S.useRef(null);S.useEffect(()=>{!l||!_.current||(w.current=!e)},[e,l]),S.useEffect(()=>{if(!l||!_.current)return;const E=Zn(_.current);return _.current.contains(E.activeElement)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex","-1"),w.current&&_.current.focus()),()=>{s||(m.current&&m.current.focus&&(u.current=!0,m.current.focus()),m.current=null)}},[l]),S.useEffect(()=>{if(!l||!_.current)return;const E=Zn(_.current),P=I=>{x.current=I,!(i||!o()||I.key!=="Tab")&&E.activeElement===_.current&&I.shiftKey&&(u.current=!0,h.current&&h.current.focus())},R=()=>{var F,C;const I=_.current;if(I===null)return;if(!E.hasFocus()||!o()||u.current){u.current=!1;return}if(I.contains(E.activeElement)||i&&E.activeElement!==f.current&&E.activeElement!==h.current)return;if(E.activeElement!==b.current)b.current=null;else if(b.current!==null)return;if(!w.current)return;let z=[];if((E.activeElement===f.current||E.activeElement===h.current)&&(z=r(_.current)),z.length>0){const N=!!((F=x.current)!=null&&F.shiftKey&&((C=x.current)==null?void 0:C.key)==="Tab"),H=z[0],G=z[z.length-1];typeof H!="string"&&typeof G!="string"&&(N?G.focus():H.focus())}else I.focus()};E.addEventListener("focusin",R),E.addEventListener("keydown",P,!0);const V=setInterval(()=>{E.activeElement&&E.activeElement.tagName==="BODY"&&R()},50);return()=>{clearInterval(V),E.removeEventListener("focusin",R),E.removeEventListener("keydown",P,!0)}},[e,i,s,o,l,r]);const A=E=>{m.current===null&&(m.current=E.relatedTarget),w.current=!0,b.current=E.target;const P=t.props.onFocus;P&&P(E)},L=E=>{m.current===null&&(m.current=E.relatedTarget),w.current=!0};return J.jsxs(S.Fragment,{children:[J.jsx("div",{tabIndex:l?0:-1,onFocus:L,ref:f,"data-testid":"sentinelStart"}),S.cloneElement(t,{ref:k,onFocus:A}),J.jsx("div",{tabIndex:l?0:-1,onFocus:L,ref:h,"data-testid":"sentinelEnd"})]})}function uV(n){return typeof n=="function"?n():n}function dV(n){return n?n.props.hasOwnProperty("in"):!1}const v2=()=>{},kh=new nV;function fV(n){const{container:t,disableEscapeKeyDown:e=!1,disableScrollLock:i=!1,closeAfterTransition:s=!1,onTransitionEnter:r,onTransitionExited:o,children:l,onClose:u,open:f,rootRef:h}=n,m=S.useRef({}),b=S.useRef(null),w=S.useRef(null),_=xn(w,h),[k,x]=S.useState(!f),A=dV(l);let L=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(L=!1);const E=()=>Zn(b.current),P=()=>(m.current.modalRef=w.current,m.current.mount=b.current,m.current),R=()=>{kh.mount(P(),{disableScrollLock:i}),w.current&&(w.current.scrollTop=0)},V=Us(()=>{const W=uV(t)||E().body;kh.add(P(),W),w.current&&R()}),I=()=>kh.isTopModal(P()),z=Us(W=>{b.current=W,W&&(f&&I()?R():w.current&&ju(w.current,L))}),F=S.useCallback(()=>{kh.remove(P(),L)},[L]);S.useEffect(()=>()=>{F()},[F]),S.useEffect(()=>{f?V():(!A||!s)&&F()},[f,F,A,s,V]);const C=W=>M=>{var U;(U=W.onKeyDown)==null||U.call(W,M),!(M.key!=="Escape"||M.which===229||!I())&&(e||(M.stopPropagation(),u&&u(M,"escapeKeyDown")))},N=W=>M=>{var U;(U=W.onClick)==null||U.call(W,M),M.target===M.currentTarget&&u&&u(M,"backdropClick")};return{getRootProps:(W={})=>{const M=n5(n);delete M.onTransitionEnter,delete M.onTransitionExited;const U={...M,...W};return{role:"presentation",...U,onKeyDown:C(U),ref:_}},getBackdropProps:(W={})=>{const M=W;return{"aria-hidden":!0,...M,onClick:N(M),open:f}},getTransitionProps:()=>{const W=()=>{x(!1),r&&r()},M=()=>{x(!0),o&&o(),s&&F()};return{onEnter:WS(W,(l==null?void 0:l.props.onEnter)??v2),onExited:WS(M,(l==null?void 0:l.props.onExited)??v2)}},rootRef:_,portalRef:z,isTopModal:I,exited:k,hasTransition:A}}function hV(n){return $e("MuiModal",n)}We("MuiModal",["root","hidden","backdrop"]);const pV=n=>{const{open:t,exited:e,classes:i}=n;return He({root:["root",!t&&e&&"hidden"],backdrop:["backdrop"]},hV,i)},mV=ye("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,!e.open&&e.exited&&t.hidden]}})(Qe(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),gV=ye(b5,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),k5=S.forwardRef(function(t,e){const i=qe({name:"MuiModal",props:t}),{BackdropComponent:s=gV,BackdropProps:r,classes:o,className:l,closeAfterTransition:u=!1,children:f,container:h,component:m,components:b={},componentsProps:w={},disableAutoFocus:_=!1,disableEnforceFocus:k=!1,disableEscapeKeyDown:x=!1,disablePortal:A=!1,disableRestoreFocus:L=!1,disableScrollLock:E=!1,hideBackdrop:P=!1,keepMounted:R=!1,onClose:V,onTransitionEnter:I,onTransitionExited:z,open:F,slotProps:C={},slots:N={},theme:H,...G}=i,Y={...i,closeAfterTransition:u,disableAutoFocus:_,disableEnforceFocus:k,disableEscapeKeyDown:x,disablePortal:A,disableRestoreFocus:L,disableScrollLock:E,hideBackdrop:P,keepMounted:R},{getRootProps:W,getBackdropProps:M,getTransitionProps:U,portalRef:K,isTopModal:Q,exited:B,hasTransition:Z}=fV({...Y,rootRef:e}),ae={...Y,exited:B},re=pV(ae),ge={};if(f.props.tabIndex===void 0&&(ge.tabIndex="-1"),Z){const{onEnter:_e,onExited:Ae}=U();ge.onEnter=_e,ge.onExited=Ae}const he={slots:{root:b.Root,backdrop:b.Backdrop,...N},slotProps:{...w,...C}},[ce,de]=lt("root",{ref:e,elementType:mV,externalForwardedProps:{...he,...G,component:m},getSlotProps:W,ownerState:ae,className:Oe(l,re==null?void 0:re.root,!ae.open&&ae.exited&&(re==null?void 0:re.hidden))}),[pe,Ee]=lt("backdrop",{ref:r==null?void 0:r.ref,elementType:s,externalForwardedProps:he,shouldForwardComponentProp:!0,additionalProps:r,getSlotProps:_e=>M({..._e,onClick:Ae=>{_e!=null&&_e.onClick&&_e.onClick(Ae)}}),className:Oe(r==null?void 0:r.className,re==null?void 0:re.backdrop),ownerState:ae});return!R&&!F&&(!Z||B)?null:J.jsx(m5,{ref:K,container:h,disablePortal:A,children:J.jsxs(ce,{...de,children:[!P&&s?J.jsx(pe,{...Ee}):null,J.jsx(cV,{disableEnforceFocus:k,disableAutoFocus:_,disableRestoreFocus:L,isEnabled:Q,open:F,children:S.cloneElement(f,ge)})]})})});function bV(n){return $e("MuiDialog",n)}const y0=We("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),C5=S.createContext({}),yV=ye(b5,{name:"MuiDialog",slot:"Backdrop",overrides:(n,t)=>t.backdrop})({zIndex:-1}),vV=n=>{const{classes:t,scroll:e,maxWidth:i,fullWidth:s,fullScreen:r}=n,o={root:["root"],container:["container",`scroll${ve(e)}`],paper:["paper",`paperScroll${ve(e)}`,`paperWidth${ve(String(i))}`,s&&"paperFullWidth",r&&"paperFullScreen"]};return He(o,bV,t)},wV=ye(k5,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),_V=ye("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.container,t[`scroll${ve(e.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),kV=ye(ks,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.paper,t[`scrollPaper${ve(e.scroll)}`],t[`paperWidth${ve(String(e.maxWidth))}`],e.fullWidth&&t.paperFullWidth,e.fullScreen&&t.paperFullScreen]}})(Qe(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${y0.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${n.breakpoints.values[t]}${n.breakpoints.unit}`,[`&.${y0.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${y0.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Ly=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiDialog"}),s=Ca(),r={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":l,"aria-modal":u=!0,BackdropComponent:f,BackdropProps:h,children:m,className:b,disableEscapeKeyDown:w=!1,fullScreen:_=!1,fullWidth:k=!1,maxWidth:x="sm",onClick:A,onClose:L,open:E,PaperComponent:P=ks,PaperProps:R={},scroll:V="paper",slots:I={},slotProps:z={},TransitionComponent:F=Oy,transitionDuration:C=r,TransitionProps:N,...H}=i,G={...i,disableEscapeKeyDown:w,fullScreen:_,fullWidth:k,maxWidth:x,scroll:V},Y=vV(G),W=S.useRef(),M=Ye=>{W.current=Ye.target===Ye.currentTarget},U=Ye=>{A&&A(Ye),W.current&&(W.current=null,L&&L(Ye,"backdropClick"))},K=ac(l),Q=S.useMemo(()=>({titleId:K}),[K]),B={transition:F,...I},Z={transition:N,paper:R,backdrop:h,...z},ae={slots:B,slotProps:Z},[re,ge]=lt("root",{elementType:wV,shouldForwardComponentProp:!0,externalForwardedProps:ae,ownerState:G,className:Oe(Y.root,b),ref:e}),[he,ce]=lt("backdrop",{elementType:yV,shouldForwardComponentProp:!0,externalForwardedProps:ae,ownerState:G}),[de,pe]=lt("paper",{elementType:kV,shouldForwardComponentProp:!0,externalForwardedProps:ae,ownerState:G,className:Oe(Y.paper,R.className)}),[Ee,_e]=lt("container",{elementType:_V,externalForwardedProps:ae,ownerState:G,className:Y.container}),[Ae,Le]=lt("transition",{elementType:Oy,externalForwardedProps:ae,ownerState:G,additionalProps:{appear:!0,in:E,timeout:C,role:"presentation"}});return J.jsx(re,{closeAfterTransition:!0,slots:{backdrop:he},slotProps:{backdrop:{transitionDuration:C,as:f,...ce}},disableEscapeKeyDown:w,onClose:L,open:E,onClick:U,...ge,...H,children:J.jsx(Ae,{...Le,children:J.jsx(Ee,{onMouseDown:M,..._e,children:J.jsx(de,{as:P,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":K,"aria-modal":u,...pe,children:J.jsx(C5.Provider,{value:Q,children:m})})})})})});function CV(n){return $e("MuiDialogActions",n)}We("MuiDialogActions",["root","spacing"]);const SV=n=>{const{classes:t,disableSpacing:e}=n;return He({root:["root",!e&&"spacing"]},CV,t)},xV=ye("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,!e.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:n})=>!n.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),w2=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiDialogActions"}),{className:s,disableSpacing:r=!1,...o}=i,l={...i,disableSpacing:r},u=SV(l);return J.jsx(xV,{className:Oe(u.root,s),ownerState:l,ref:e,...o})});function TV(n){return $e("MuiDialogContent",n)}We("MuiDialogContent",["root","dividers"]);function EV(n){return $e("MuiDialogTitle",n)}const AV=We("MuiDialogTitle",["root"]),PV=n=>{const{classes:t,dividers:e}=n;return He({root:["root",e&&"dividers"]},TV,t)},RV=ye("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.dividers&&t.dividers]}})(Qe(({theme:n})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(n.vars||n).palette.divider}`,borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${AV.root} + &`]:{paddingTop:0}}}]}))),_2=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiDialogContent"}),{className:s,dividers:r=!1,...o}=i,l={...i,dividers:r},u=PV(l);return J.jsx(RV,{className:Oe(u.root,s),ownerState:l,ref:e,...o})}),OV=n=>{const{classes:t}=n;return He({root:["root"]},EV,t)},MV=ye(Be,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),By=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiDialogTitle"}),{className:s,id:r,...o}=i,l=i,u=OV(l),{titleId:f=r}=S.useContext(C5);return J.jsx(MV,{component:"h2",className:Oe(u.root,s),ownerState:l,ref:e,variant:"h6",id:r??f,...o})});function IV(n){return $e("MuiDivider",n)}We("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const LV=n=>{const{absolute:t,children:e,classes:i,flexItem:s,light:r,orientation:o,textAlign:l,variant:u}=n;return He({root:["root",t&&"absolute",u,r&&"light",o==="vertical"&&"vertical",s&&"flexItem",e&&"withChildren",e&&o==="vertical"&&"withChildrenVertical",l==="right"&&o!=="vertical"&&"textAlignRight",l==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},IV,i)},BV=ye("div",{name:"MuiDivider",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.absolute&&t.absolute,t[e.variant],e.light&&t.light,e.orientation==="vertical"&&t.vertical,e.flexItem&&t.flexItem,e.children&&t.withChildren,e.children&&e.orientation==="vertical"&&t.withChildrenVertical,e.textAlign==="right"&&e.orientation!=="vertical"&&t.textAlignRight,e.textAlign==="left"&&e.orientation!=="vertical"&&t.textAlignLeft]}})(Qe(({theme:n})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(n.vars||n).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:n.vars?`rgba(${n.vars.palette.dividerChannel} / 0.08)`:Xn(n.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:n.spacing(2),marginRight:n.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:n.spacing(1),marginBottom:n.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(n.vars||n).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(n.vars||n).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),DV=ye("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.wrapper,e.orientation==="vertical"&&t.wrapperVertical]}})(Qe(({theme:n})=>({display:"inline-block",paddingLeft:`calc(${n.spacing(1)} * 1.2)`,paddingRight:`calc(${n.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${n.spacing(1)} * 1.2)`,paddingBottom:`calc(${n.spacing(1)} * 1.2)`}}]}))),fd=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiDivider"}),{absolute:s=!1,children:r,className:o,orientation:l="horizontal",component:u=r||l==="vertical"?"div":"hr",flexItem:f=!1,light:h=!1,role:m=u!=="hr"?"separator":void 0,textAlign:b="center",variant:w="fullWidth",..._}=i,k={...i,absolute:s,component:u,flexItem:f,light:h,orientation:l,role:m,textAlign:b,variant:w},x=LV(k);return J.jsx(BV,{as:u,className:Oe(x.root,o),role:m,ref:e,ownerState:k,"aria-orientation":m==="separator"&&(u!=="hr"||l==="vertical")?l:void 0,..._,children:r?J.jsx(DV,{className:x.wrapper,ownerState:k,children:r}):null})});fd&&(fd.muiSkipListHighlight=!0);const NV=n=>{const{classes:t,disableUnderline:e,startAdornment:i,endAdornment:s,size:r,hiddenLabel:o,multiline:l}=n,u={root:["root",!e&&"underline",i&&"adornedStart",s&&"adornedEnd",r==="small"&&`size${ve(r)}`,o&&"hiddenLabel",l&&"multiline"],input:["input"]},f=He(u,n8,t);return{...t,...f}},VV=ye(vm,{shouldForwardProp:n=>Ui(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[...bm(n,t),!e.disableUnderline&&t.underline]}})(Qe(({theme:n})=>{const t=n.palette.mode==="light",e=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",r=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i}},[`&.${Yo.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i},[`&.${Yo.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:r},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Yo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Yo.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Yo.disabled}, .${Yo.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Yo.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Di()).map(([o])=>{var l;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(l=(n.vars||n).palette[o])==null?void 0:l.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:l})=>o.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),FV=ye(wm,{name:"MuiFilledInput",slot:"Input",overridesResolver:ym})(Qe(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),f1=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiFilledInput"}),{disableUnderline:s=!1,components:r={},componentsProps:o,fullWidth:l=!1,hiddenLabel:u,inputComponent:f="input",multiline:h=!1,slotProps:m,slots:b={},type:w="text",..._}=i,k={...i,disableUnderline:s,fullWidth:l,inputComponent:f,multiline:h,type:w},x=NV(i),A={root:{ownerState:k},input:{ownerState:k}},L=m??o?In(A,m??o):A,E=b.root??r.Root??VV,P=b.input??r.Input??FV;return J.jsx(d1,{slots:{root:E,input:P},slotProps:L,fullWidth:l,inputComponent:f,multiline:h,ref:e,type:w,..._,classes:x})});f1.muiName="Input";function zV(n){return $e("MuiFormControl",n)}We("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const UV=n=>{const{classes:t,margin:e,fullWidth:i}=n,s={root:["root",e!=="none"&&`margin${ve(e)}`,i&&"fullWidth"]};return He(s,zV,t)},$V=ye("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[`margin${ve(e.margin)}`],e.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),S5=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiFormControl"}),{children:s,className:r,color:o="primary",component:l="div",disabled:u=!1,error:f=!1,focused:h,fullWidth:m=!1,hiddenLabel:b=!1,margin:w="none",required:_=!1,size:k="medium",variant:x="outlined",...A}=i,L={...i,color:o,component:l,disabled:u,error:f,fullWidth:m,hiddenLabel:b,margin:w,required:_,size:k,variant:x},E=UV(L),[P,R]=S.useState(()=>{let W=!1;return s&&S.Children.forEach(s,M=>{if(!f0(M,["Input","Select"]))return;const U=f0(M,["Select"])?M.props.input:M;U&&JN(U.props)&&(W=!0)}),W}),[V,I]=S.useState(()=>{let W=!1;return s&&S.Children.forEach(s,M=>{f0(M,["Input","Select"])&&(vp(M.props,!0)||vp(M.props.inputProps,!0))&&(W=!0)}),W}),[z,F]=S.useState(!1);u&&z&&F(!1);const C=h!==void 0&&!u?h:z;let N;S.useRef(!1);const H=S.useCallback(()=>{I(!0)},[]),G=S.useCallback(()=>{I(!1)},[]),Y=S.useMemo(()=>({adornedStart:P,setAdornedStart:R,color:o,disabled:u,error:f,filled:V,focused:C,fullWidth:m,hiddenLabel:b,size:k,onBlur:()=>{F(!1)},onFocus:()=>{F(!0)},onEmpty:G,onFilled:H,registerEffect:N,required:_,variant:x}),[P,o,u,f,V,C,m,b,N,G,H,_,k,x]);return J.jsx(gm.Provider,{value:Y,children:J.jsx($V,{as:l,ownerState:L,className:Oe(E.root,r),ref:e,...A,children:s})})});function HV(n){return $e("MuiFormControlLabel",n)}const Iu=We("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),jV=n=>{const{classes:t,disabled:e,labelPlacement:i,error:s,required:r}=n,o={root:["root",e&&"disabled",`labelPlacement${ve(i)}`,s&&"error",r&&"required"],label:["label",e&&"disabled"],asterisk:["asterisk",s&&"error"]};return He(o,HV,t)},WV=ye("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[{[`& .${Iu.label}`]:t.label},t.root,t[`labelPlacement${ve(e.labelPlacement)}`]]}})(Qe(({theme:n})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Iu.disabled}`]:{cursor:"default"},[`& .${Iu.label}`]:{[`&.${Iu.disabled}`]:{color:(n.vars||n).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),qV=ye("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(Qe(({theme:n})=>({[`&.${Iu.error}`]:{color:(n.vars||n).palette.error.main}}))),Dy=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiFormControlLabel"}),{checked:s,className:r,componentsProps:o={},control:l,disabled:u,disableTypography:f,inputRef:h,label:m,labelPlacement:b="end",name:w,onChange:_,required:k,slots:x={},slotProps:A={},value:L,...E}=i,P=Or(),R=u??l.props.disabled??(P==null?void 0:P.disabled),V=k??l.props.required,I={disabled:R,required:V};["checked","name","onChange","value","inputRef"].forEach(W=>{typeof l.props[W]>"u"&&typeof i[W]<"u"&&(I[W]=i[W])});const z=xa({props:i,muiFormControl:P,states:["error"]}),F={...i,disabled:R,labelPlacement:b,required:V,error:z.error},C=jV(F),N={slots:x,slotProps:{...o,...A}},[H,G]=lt("typography",{elementType:Be,externalForwardedProps:N,ownerState:F});let Y=m;return Y!=null&&Y.type!==Be&&!f&&(Y=J.jsx(H,{component:"span",...G,className:Oe(C.label,G==null?void 0:G.className),children:Y})),J.jsxs(WV,{className:Oe(C.root,r),ownerState:F,ref:e,...E,children:[S.cloneElement(l,I),V?J.jsxs("div",{children:[Y,J.jsxs(qV,{ownerState:F,"aria-hidden":!0,className:C.asterisk,children:[" ","*"]})]}):Y]})});function GV(n){return $e("MuiFormHelperText",n)}const k2=We("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var C2;const KV=n=>{const{classes:t,contained:e,size:i,disabled:s,error:r,filled:o,focused:l,required:u}=n,f={root:["root",s&&"disabled",r&&"error",i&&`size${ve(i)}`,e&&"contained",l&&"focused",o&&"filled",u&&"required"]};return He(f,GV,t)},YV=ye("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.size&&t[`size${ve(e.size)}`],e.contained&&t.contained,e.filled&&t.filled]}})(Qe(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${k2.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${k2.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),XV=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiFormHelperText"}),{children:s,className:r,component:o="p",disabled:l,error:u,filled:f,focused:h,margin:m,required:b,variant:w,..._}=i,k=Or(),x=xa({props:i,muiFormControl:k,states:["variant","size","disabled","error","filled","focused","required"]}),A={...i,component:o,contained:x.variant==="filled"||x.variant==="outlined",variant:x.variant,size:x.size,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required};delete A.ownerState;const L=KV(A);return J.jsx(YV,{as:o,className:Oe(L.root,r),ref:e,..._,ownerState:A,children:s===" "?C2||(C2=J.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):s})});function JV(n){return $e("MuiFormLabel",n)}const Wu=We("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),ZV=n=>{const{classes:t,color:e,focused:i,disabled:s,error:r,filled:o,required:l}=n,u={root:["root",`color${ve(e)}`,s&&"disabled",r&&"error",o&&"filled",i&&"focused",l&&"required"],asterisk:["asterisk",r&&"error"]};return He(u,JV,t)},QV=ye("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled]}})(Qe(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(Di()).map(([t])=>({props:{color:t},style:{[`&.${Wu.focused}`]:{color:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${Wu.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${Wu.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),e9=ye("span",{name:"MuiFormLabel",slot:"Asterisk"})(Qe(({theme:n})=>({[`&.${Wu.error}`]:{color:(n.vars||n).palette.error.main}}))),t9=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiFormLabel"}),{children:s,className:r,color:o,component:l="label",disabled:u,error:f,filled:h,focused:m,required:b,...w}=i,_=Or(),k=xa({props:i,muiFormControl:_,states:["color","required","focused","disabled","error","filled"]}),x={...i,color:k.color||"primary",component:l,disabled:k.disabled,error:k.error,filled:k.filled,focused:k.focused,required:k.required},A=ZV(x);return J.jsxs(QV,{as:l,ownerState:x,className:Oe(A.root,r),ref:e,...w,children:[s,k.required&&J.jsxs(e9,{ownerState:x,"aria-hidden":!0,className:A.asterisk,children:[" ","*"]})]})});function Ny(n){return`scale(${n}, ${n**2})`}const n9={entering:{opacity:1,transform:Ny(1)},entered:{opacity:1,transform:"none"}},v0=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),wp=S.forwardRef(function(t,e){const{addEndListener:i,appear:s=!0,children:r,easing:o,in:l,onEnter:u,onEntered:f,onEntering:h,onExit:m,onExited:b,onExiting:w,style:_,timeout:k="auto",TransitionComponent:x=Ss,...A}=t,L=ra(),E=S.useRef(),P=Ca(),R=S.useRef(null),V=xn(R,Sa(r),e),I=W=>M=>{if(W){const U=R.current;M===void 0?W(U):W(U,M)}},z=I(h),F=I((W,M)=>{QA(W);const{duration:U,delay:K,easing:Q}=ql({style:_,timeout:k,easing:o},{mode:"enter"});let B;k==="auto"?(B=P.transitions.getAutoHeightDuration(W.clientHeight),E.current=B):B=U,W.style.transition=[P.transitions.create("opacity",{duration:B,delay:K}),P.transitions.create("transform",{duration:v0?B:B*.666,delay:K,easing:Q})].join(","),u&&u(W,M)}),C=I(f),N=I(w),H=I(W=>{const{duration:M,delay:U,easing:K}=ql({style:_,timeout:k,easing:o},{mode:"exit"});let Q;k==="auto"?(Q=P.transitions.getAutoHeightDuration(W.clientHeight),E.current=Q):Q=M,W.style.transition=[P.transitions.create("opacity",{duration:Q,delay:U}),P.transitions.create("transform",{duration:v0?Q:Q*.666,delay:v0?U:U||Q*.333,easing:K})].join(","),W.style.opacity=0,W.style.transform=Ny(.75),m&&m(W)}),G=I(b),Y=W=>{k==="auto"&&L.start(E.current||0,W),i&&i(R.current,W)};return J.jsx(x,{appear:s,in:l,nodeRef:R,onEnter:F,onEntered:C,onEntering:z,onExit:H,onExited:G,onExiting:N,addEndListener:Y,timeout:k==="auto"?null:k,...A,children:(W,{ownerState:M,...U})=>S.cloneElement(r,{style:{opacity:0,transform:Ny(.75),visibility:W==="exited"&&!l?"hidden":void 0,...n9[W],..._,...r.props.style},ref:V,...U})})});wp&&(wp.muiSupportAuto=!0);const i9=n=>{const{classes:t,disableUnderline:e}=n,s=He({root:["root",!e&&"underline"],input:["input"]},e8,t);return{...t,...s}},s9=ye(vm,{shouldForwardProp:n=>Ui(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[...bm(n,t),!e.disableUnderline&&t.underline]}})(Qe(({theme:n})=>{let e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(e=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${fu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${fu.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${fu.disabled}, .${fu.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${e}`}},[`&.${fu.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Di()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[i].main}`}}}))]}})),r9=ye(wm,{name:"MuiInput",slot:"Input",overridesResolver:ym})({}),h1=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiInput"}),{disableUnderline:s=!1,components:r={},componentsProps:o,fullWidth:l=!1,inputComponent:u="input",multiline:f=!1,slotProps:h,slots:m={},type:b="text",...w}=i,_=i9(i),x={root:{ownerState:{disableUnderline:s}}},A=h??o?In(h??o,x):x,L=m.root??r.Root??s9,E=m.input??r.Input??r9;return J.jsx(d1,{slots:{root:L,input:E},slotProps:A,fullWidth:l,inputComponent:u,multiline:f,ref:e,type:b,...w,classes:_})});h1.muiName="Input";function o9(n){return $e("MuiInputAdornment",n)}const S2=We("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var x2;const a9=(n,t)=>{const{ownerState:e}=n;return[t.root,t[`position${ve(e.position)}`],e.disablePointerEvents===!0&&t.disablePointerEvents,t[e.variant]]},l9=n=>{const{classes:t,disablePointerEvents:e,hiddenLabel:i,position:s,size:r,variant:o}=n,l={root:["root",e&&"disablePointerEvents",s&&`position${ve(s)}`,o,i&&"hiddenLabel",r&&`size${ve(r)}`]};return He(l,o9,t)},c9=ye("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:a9})(Qe(({theme:n})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${S2.positionStart}&:not(.${S2.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),hd=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiInputAdornment"}),{children:s,className:r,component:o="div",disablePointerEvents:l=!1,disableTypography:u=!1,position:f,variant:h,...m}=i,b=Or()||{};let w=h;h&&b.variant,b&&!w&&(w=b.variant);const _={...i,hiddenLabel:b.hiddenLabel,size:b.size,disablePointerEvents:l,position:f,variant:w},k=l9(_);return J.jsx(gm.Provider,{value:null,children:J.jsx(c9,{as:o,ownerState:_,className:Oe(k.root,r),ref:e,...m,children:typeof s=="string"&&!u?J.jsx(Be,{color:"textSecondary",children:s}):J.jsxs(S.Fragment,{children:[f==="start"?x2||(x2=J.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,s]})})})});function u9(n){return $e("MuiInputLabel",n)}We("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const d9=n=>{const{classes:t,formControl:e,size:i,shrink:s,disableAnimation:r,variant:o,required:l}=n,u={root:["root",e&&"formControl",!r&&"animated",s&&"shrink",i&&i!=="medium"&&`size${ve(i)}`,o],asterisk:[l&&"asterisk"]},f=He(u,u9,t);return{...t,...f}},f9=ye(t9,{shouldForwardProp:n=>Ui(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[{[`& .${Wu.asterisk}`]:t.asterisk},t.root,e.formControl&&t.formControl,e.size==="small"&&t.sizeSmall,e.shrink&&t.shrink,!e.disableAnimation&&t.animated,e.focused&&t.focused,t[e.variant]]}})(Qe(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:e})=>t==="filled"&&e.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:e,size:i})=>t==="filled"&&e.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:e})=>t==="outlined"&&e.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),x5=S.forwardRef(function(t,e){const i=qe({name:"MuiInputLabel",props:t}),{disableAnimation:s=!1,margin:r,shrink:o,variant:l,className:u,...f}=i,h=Or();let m=o;typeof m>"u"&&h&&(m=h.filled||h.focused||h.adornedStart);const b=xa({props:i,muiFormControl:h,states:["size","variant","required","focused"]}),w={...i,disableAnimation:s,formControl:h,shrink:m,size:b.size,variant:b.variant,required:b.required,focused:b.focused},_=d9(w);return J.jsx(f9,{"data-shrink":m,ref:e,className:Oe(_.root,u),...f,ownerState:w,classes:_})}),h9=S.createContext({});function p9(n){return $e("MuiList",n)}We("MuiList",["root","padding","dense","subheader"]);const m9=n=>{const{classes:t,disablePadding:e,dense:i,subheader:s}=n;return He({root:["root",!e&&"padding",i&&"dense",s&&"subheader"]},p9,t)},g9=ye("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,!e.disablePadding&&t.padding,e.dense&&t.dense,e.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),b9=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiList"}),{children:s,className:r,component:o="ul",dense:l=!1,disablePadding:u=!1,subheader:f,...h}=i,m=S.useMemo(()=>({dense:l}),[l]),b={...i,component:o,dense:l,disablePadding:u},w=m9(b);return J.jsx(h9.Provider,{value:m,children:J.jsxs(g9,{as:o,className:Oe(w.root,r),ref:e,ownerState:b,...h,children:[f,s]})})});function w0(n,t,e){return n===t?n.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e?null:n.firstChild}function T2(n,t,e){return n===t?e?n.firstChild:n.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e?null:n.lastChild}function T5(n,t){if(t===void 0)return!0;let e=n.innerText;return e===void 0&&(e=n.textContent),e=e.trim().toLowerCase(),e.length===0?!1:t.repeating?e[0]===t.keys[0]:e.startsWith(t.keys.join(""))}function hu(n,t,e,i,s,r){let o=!1,l=s(n,t,t?e:!1);for(;l;){if(l===n.firstChild){if(o)return!1;o=!0}const u=i?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!T5(l,r)||u)l=s(n,l,e);else return l.focus(),!0}return!1}const y9=S.forwardRef(function(t,e){const{actions:i,autoFocus:s=!1,autoFocusItem:r=!1,children:o,className:l,disabledItemsFocusable:u=!1,disableListWrap:f=!1,onKeyDown:h,variant:m="selectedMenu",...b}=t,w=S.useRef(null),_=S.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});kr(()=>{s&&w.current.focus()},[s]),S.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(E,{direction:P})=>{const R=!w.current.style.width;if(E.clientHeight<w.current.clientHeight&&R){const V=`${_5(Cr(E))}px`;w.current.style[P==="rtl"?"paddingLeft":"paddingRight"]=V,w.current.style.width=`calc(100% + ${V})`}return w.current}}),[]);const k=E=>{const P=w.current,R=E.key;if(E.ctrlKey||E.metaKey||E.altKey){h&&h(E);return}const I=Zn(P).activeElement;if(R==="ArrowDown")E.preventDefault(),hu(P,I,f,u,w0);else if(R==="ArrowUp")E.preventDefault(),hu(P,I,f,u,T2);else if(R==="Home")E.preventDefault(),hu(P,null,f,u,w0);else if(R==="End")E.preventDefault(),hu(P,null,f,u,T2);else if(R.length===1){const z=_.current,F=R.toLowerCase(),C=performance.now();z.keys.length>0&&(C-z.lastTime>500?(z.keys=[],z.repeating=!0,z.previousKeyMatched=!0):z.repeating&&F!==z.keys[0]&&(z.repeating=!1)),z.lastTime=C,z.keys.push(F);const N=I&&!z.repeating&&T5(I,z);z.previousKeyMatched&&(N||hu(P,I,!1,u,w0,z))?E.preventDefault():z.previousKeyMatched=!1}h&&h(E)},x=xn(w,e);let A=-1;S.Children.forEach(o,(E,P)=>{if(!S.isValidElement(E)){A===P&&(A+=1,A>=o.length&&(A=-1));return}E.props.disabled||(m==="selectedMenu"&&E.props.selected||A===-1)&&(A=P),A===P&&(E.props.disabled||E.props.muiSkipListHighlight||E.type.muiSkipListHighlight)&&(A+=1,A>=o.length&&(A=-1))});const L=S.Children.map(o,(E,P)=>{if(P===A){const R={};return r&&(R.autoFocus=!0),E.props.tabIndex===void 0&&m==="selectedMenu"&&(R.tabIndex=0),S.cloneElement(E,R)}return E});return J.jsx(b9,{role:"menu",ref:x,className:l,onKeyDown:k,tabIndex:s?0:-1,...b,children:L})});function v9(n){return $e("MuiPopover",n)}We("MuiPopover",["root","paper"]);function E2(n,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=n.height/2:t==="bottom"&&(e=n.height),e}function A2(n,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=n.width/2:t==="right"&&(e=n.width),e}function P2(n){return[n.horizontal,n.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Ch(n){return typeof n=="function"?n():n}const w9=n=>{const{classes:t}=n;return He({root:["root"],paper:["paper"]},v9,t)},_9=ye(k5,{name:"MuiPopover",slot:"Root"})({}),E5=ye(ks,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),k9=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiPopover"}),{action:s,anchorEl:r,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:u="anchorEl",children:f,className:h,container:m,elevation:b=8,marginThreshold:w=16,open:_,PaperProps:k={},slots:x={},slotProps:A={},transformOrigin:L={vertical:"top",horizontal:"left"},TransitionComponent:E,transitionDuration:P="auto",TransitionProps:R={},disableScrollLock:V=!1,...I}=i,z=S.useRef(),F={...i,anchorOrigin:o,anchorReference:u,elevation:b,marginThreshold:w,transformOrigin:L,TransitionComponent:E,transitionDuration:P,TransitionProps:R},C=w9(F),N=S.useCallback(()=>{if(u==="anchorPosition")return l;const _e=Ch(r),Le=(_e&&_e.nodeType===1?_e:Zn(z.current).body).getBoundingClientRect();return{top:Le.top+E2(Le,o.vertical),left:Le.left+A2(Le,o.horizontal)}},[r,o.horizontal,o.vertical,l,u]),H=S.useCallback(_e=>({vertical:E2(_e,L.vertical),horizontal:A2(_e,L.horizontal)}),[L.horizontal,L.vertical]),G=S.useCallback(_e=>{const Ae={width:_e.offsetWidth,height:_e.offsetHeight},Le=H(Ae);if(u==="none")return{top:null,left:null,transformOrigin:P2(Le)};const Ye=N();let ze=Ye.top-Le.vertical,dt=Ye.left-Le.horizontal;const an=ze+Ae.height,rt=dt+Ae.width,Rt=Cr(Ch(r)),yn=Rt.innerHeight-w,vt=Rt.innerWidth-w;if(w!==null&&ze<w){const ft=ze-w;ze-=ft,Le.vertical+=ft}else if(w!==null&&an>yn){const ft=an-yn;ze-=ft,Le.vertical+=ft}if(w!==null&&dt<w){const ft=dt-w;dt-=ft,Le.horizontal+=ft}else if(rt>vt){const ft=rt-vt;dt-=ft,Le.horizontal+=ft}return{top:`${Math.round(ze)}px`,left:`${Math.round(dt)}px`,transformOrigin:P2(Le)}},[r,u,N,H,w]),[Y,W]=S.useState(_),M=S.useCallback(()=>{const _e=z.current;if(!_e)return;const Ae=G(_e);Ae.top!==null&&_e.style.setProperty("top",Ae.top),Ae.left!==null&&(_e.style.left=Ae.left),_e.style.transformOrigin=Ae.transformOrigin,W(!0)},[G]);S.useEffect(()=>(V&&window.addEventListener("scroll",M),()=>window.removeEventListener("scroll",M)),[r,V,M]);const U=()=>{M()},K=()=>{W(!1)};S.useEffect(()=>{_&&M()}),S.useImperativeHandle(s,()=>_?{updatePosition:()=>{M()}}:null,[_,M]),S.useEffect(()=>{if(!_)return;const _e=KA(()=>{M()}),Ae=Cr(Ch(r));return Ae.addEventListener("resize",_e),()=>{_e.clear(),Ae.removeEventListener("resize",_e)}},[r,_,M]);let Q=P;const B={slots:{transition:E,...x},slotProps:{transition:R,paper:k,...A}},[Z,ae]=lt("transition",{elementType:wp,externalForwardedProps:B,ownerState:F,getSlotProps:_e=>({..._e,onEntering:(Ae,Le)=>{var Ye;(Ye=_e.onEntering)==null||Ye.call(_e,Ae,Le),U()},onExited:Ae=>{var Le;(Le=_e.onExited)==null||Le.call(_e,Ae),K()}}),additionalProps:{appear:!0,in:_}});P==="auto"&&!Z.muiSupportAuto&&(Q=void 0);const re=m||(r?Zn(Ch(r)).body:void 0),[ge,{slots:he,slotProps:ce,...de}]=lt("root",{ref:e,elementType:_9,externalForwardedProps:{...B,...I},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:x.backdrop},slotProps:{backdrop:YA(typeof A.backdrop=="function"?A.backdrop(F):A.backdrop,{invisible:!0})},container:re,open:_},ownerState:F,className:Oe(C.root,h)}),[pe,Ee]=lt("paper",{ref:z,className:C.paper,elementType:E5,externalForwardedProps:B,shouldForwardComponentProp:!0,additionalProps:{elevation:b,style:Y?void 0:{opacity:0}},ownerState:F});return J.jsx(ge,{...de,...!Ry(ge)&&{slots:he,slotProps:ce,disableScrollLock:V},children:J.jsx(Z,{...ae,timeout:Q,children:J.jsx(pe,{...Ee,children:f})})})});function C9(n){return $e("MuiMenu",n)}We("MuiMenu",["root","paper","list"]);const S9={vertical:"top",horizontal:"right"},x9={vertical:"top",horizontal:"left"},T9=n=>{const{classes:t}=n;return He({root:["root"],paper:["paper"],list:["list"]},C9,t)},E9=ye(k9,{shouldForwardProp:n=>Ui(n)||n==="classes",name:"MuiMenu",slot:"Root"})({}),A9=ye(E5,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),P9=ye(y9,{name:"MuiMenu",slot:"List"})({outline:0}),A5=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiMenu"}),{autoFocus:s=!0,children:r,className:o,disableAutoFocusItem:l=!1,MenuListProps:u={},onClose:f,open:h,PaperProps:m={},PopoverClasses:b,transitionDuration:w="auto",TransitionProps:{onEntering:_,...k}={},variant:x="selectedMenu",slots:A={},slotProps:L={},...E}=i,P=Xv(),R={...i,autoFocus:s,disableAutoFocusItem:l,MenuListProps:u,onEntering:_,PaperProps:m,transitionDuration:w,TransitionProps:k,variant:x},V=T9(R),I=s&&!l&&h,z=S.useRef(null),F=(Q,B)=>{z.current&&z.current.adjustStyleForScrollbar(Q,{direction:P?"rtl":"ltr"}),_&&_(Q,B)},C=Q=>{Q.key==="Tab"&&(Q.preventDefault(),f&&f(Q,"tabKeyDown"))};let N=-1;S.Children.map(r,(Q,B)=>{S.isValidElement(Q)&&(Q.props.disabled||(x==="selectedMenu"&&Q.props.selected||N===-1)&&(N=B))});const H={slots:A,slotProps:{list:u,transition:k,paper:m,...L}},G=p5({elementType:A.root,externalSlotProps:L.root,ownerState:R,className:[V.root,o]}),[Y,W]=lt("paper",{className:V.paper,elementType:A9,externalForwardedProps:H,shouldForwardComponentProp:!0,ownerState:R}),[M,U]=lt("list",{className:Oe(V.list,u.className),elementType:P9,shouldForwardComponentProp:!0,externalForwardedProps:H,getSlotProps:Q=>({...Q,onKeyDown:B=>{var Z;C(B),(Z=Q.onKeyDown)==null||Z.call(Q,B)}}),ownerState:R}),K=typeof H.slotProps.transition=="function"?H.slotProps.transition(R):H.slotProps.transition;return J.jsx(E9,{onClose:f,anchorOrigin:{vertical:"bottom",horizontal:P?"right":"left"},transformOrigin:P?S9:x9,slots:{root:A.root,paper:Y,backdrop:A.backdrop,...A.transition&&{transition:A.transition}},slotProps:{root:G,paper:W,backdrop:typeof L.backdrop=="function"?L.backdrop(R):L.backdrop,transition:{...K,onEntering:(...Q)=>{var B;F(...Q),(B=K==null?void 0:K.onEntering)==null||B.call(K,...Q)}}},open:h,ref:e,transitionDuration:w,ownerState:R,...E,classes:b,children:J.jsx(M,{actions:z,autoFocus:s&&(N===-1||l),autoFocusItem:I,variant:x,...U,children:r})})});function R9(n){return $e("MuiNativeSelect",n)}const p1=We("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),O9=n=>{const{classes:t,variant:e,disabled:i,multiple:s,open:r,error:o}=n,l={select:["select",e,i&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${ve(e)}`,r&&"iconOpen",i&&"disabled"]};return He(l,R9,t)},P5=ye("select")(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${p1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),M9=ye(P5,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ui,overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.select,t[e.variant],e.error&&t.error,{[`&.${p1.multiple}`]:t.multiple}]}})({}),R5=ye("svg")(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${p1.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),I9=ye(R5,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.icon,e.variant&&t[`icon${ve(e.variant)}`],e.open&&t.iconOpen]}})({}),L9=S.forwardRef(function(t,e){const{className:i,disabled:s,error:r,IconComponent:o,inputRef:l,variant:u="standard",...f}=t,h={...t,disabled:s,variant:u,error:r},m=O9(h);return J.jsxs(S.Fragment,{children:[J.jsx(M9,{ownerState:h,className:Oe(m.select,i),disabled:s,ref:l||e,...f}),t.multiple?null:J.jsx(I9,{as:o,ownerState:h,className:m.icon})]})});var R2;const B9=ye("fieldset",{shouldForwardProp:Ui})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),D9=ye("legend",{shouldForwardProp:Ui})(Qe(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function N9(n){const{children:t,classes:e,className:i,label:s,notched:r,...o}=n,l=s!=null&&s!=="",u={...n,notched:r,withLabel:l};return J.jsx(B9,{"aria-hidden":!0,className:i,ownerState:u,...o,children:J.jsx(D9,{ownerState:u,children:l?J.jsx("span",{children:s}):R2||(R2=J.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const V9=n=>{const{classes:t}=n,i=He({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},t8,t);return{...t,...i}},F9=ye(vm,{shouldForwardProp:n=>Ui(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:bm})(Qe(({theme:n})=>{const t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${Ms.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ms.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${Ms.focused} .${Ms.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(Di()).map(([e])=>({props:{color:e},style:{[`&.${Ms.focused} .${Ms.notchedOutline}`]:{borderColor:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${Ms.error} .${Ms.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${Ms.disabled} .${Ms.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:14}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:14}},{props:({ownerState:e})=>e.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:e,size:i})=>e.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),z9=ye(N9,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Qe(({theme:n})=>{const t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),U9=ye(wm,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:ym})(Qe(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),_m=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiOutlinedInput"}),{components:s={},fullWidth:r=!1,inputComponent:o="input",label:l,multiline:u=!1,notched:f,slots:h={},slotProps:m={},type:b="text",...w}=i,_=V9(i),k=Or(),x=xa({props:i,muiFormControl:k,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),A={...i,color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:k,fullWidth:r,hiddenLabel:x.hiddenLabel,multiline:u,size:x.size,type:b},L=h.root??s.Root??F9,E=h.input??s.Input??U9,[P,R]=lt("notchedOutline",{elementType:z9,className:_.notchedOutline,shouldForwardComponentProp:!0,ownerState:A,externalForwardedProps:{slots:h,slotProps:m},additionalProps:{label:l!=null&&l!==""&&x.required?J.jsxs(S.Fragment,{children:[l," ","*"]}):l}});return J.jsx(d1,{slots:{root:L,input:E},slotProps:m,renderSuffix:V=>J.jsx(P,{...R,notched:typeof f<"u"?f:!!(V.startAdornment||V.filled||V.focused)}),fullWidth:r,inputComponent:o,multiline:u,ref:e,type:b,...w,classes:{..._,notchedOutline:null}})});_m.muiName="Input";function O5(n){return $e("MuiSelect",n)}const pu=We("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var O2;const $9=ye(P5,{name:"MuiSelect",slot:"Select",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[{[`&.${pu.select}`]:t.select},{[`&.${pu.select}`]:t[e.variant]},{[`&.${pu.error}`]:t.error},{[`&.${pu.multiple}`]:t.multiple}]}})({[`&.${pu.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),H9=ye(R5,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.icon,e.variant&&t[`icon${ve(e.variant)}`],e.open&&t.iconOpen]}})({}),j9=ye("input",{shouldForwardProp:n=>GA(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function M2(n,t){return typeof t=="object"&&t!==null?n===t:String(n)===String(t)}function W9(n){return n==null||typeof n=="string"&&!n.trim()}const q9=n=>{const{classes:t,variant:e,disabled:i,multiple:s,open:r,error:o}=n,l={select:["select",e,i&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${ve(e)}`,r&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return He(l,O5,t)},G9=S.forwardRef(function(t,e){var vn;const{"aria-describedby":i,"aria-label":s,autoFocus:r,autoWidth:o,children:l,className:u,defaultOpen:f,defaultValue:h,disabled:m,displayEmpty:b,error:w=!1,IconComponent:_,inputRef:k,labelId:x,MenuProps:A={},multiple:L,name:E,onBlur:P,onChange:R,onClose:V,onFocus:I,onOpen:z,open:F,readOnly:C,renderValue:N,required:H,SelectDisplayProps:G={},tabIndex:Y,type:W,value:M,variant:U="standard",...K}=t,[Q,B]=hp({controlled:M,default:h,name:"Select"}),[Z,ae]=hp({controlled:F,default:f,name:"Select"}),re=S.useRef(null),ge=S.useRef(null),[he,ce]=S.useState(null),{current:de}=S.useRef(F!=null),[pe,Ee]=S.useState(),_e=xn(e,k),Ae=S.useCallback(Re=>{ge.current=Re,Re&&ce(Re)},[]),Le=he==null?void 0:he.parentNode;S.useImperativeHandle(_e,()=>({focus:()=>{ge.current.focus()},node:re.current,value:Q}),[Q]),S.useEffect(()=>{f&&Z&&he&&!de&&(Ee(o?null:Le.clientWidth),ge.current.focus())},[he,o]),S.useEffect(()=>{r&&ge.current.focus()},[r]),S.useEffect(()=>{if(!x)return;const Re=Zn(ge.current).getElementById(x);if(Re){const ot=()=>{getSelection().isCollapsed&&ge.current.focus()};return Re.addEventListener("click",ot),()=>{Re.removeEventListener("click",ot)}}},[x]);const Ye=(Re,ot)=>{Re?z&&z(ot):V&&V(ot),de||(Ee(o?null:Le.clientWidth),ae(Re))},ze=Re=>{Re.button===0&&(Re.preventDefault(),ge.current.focus(),Ye(!0,Re))},dt=Re=>{Ye(!1,Re)},an=S.Children.toArray(l),rt=Re=>{const ot=an.find($t=>$t.props.value===Re.target.value);ot!==void 0&&(B(ot.props.value),R&&R(Re,ot))},Rt=Re=>ot=>{let $t;if(ot.currentTarget.hasAttribute("tabindex")){if(L){$t=Array.isArray(Q)?Q.slice():[];const Ci=Q.indexOf(Re.props.value);Ci===-1?$t.push(Re.props.value):$t.splice(Ci,1)}else $t=Re.props.value;if(Re.props.onClick&&Re.props.onClick(ot),Q!==$t&&(B($t),R)){const Ci=ot.nativeEvent||ot,Ro=new Ci.constructor(Ci.type,Ci);Object.defineProperty(Ro,"target",{writable:!0,value:{value:$t,name:E}}),R(Ro,Re)}L||Ye(!1,ot)}},yn=Re=>{C||[" ","ArrowUp","ArrowDown","Enter"].includes(Re.key)&&(Re.preventDefault(),Ye(!0,Re))},vt=he!==null&&Z,ft=Re=>{!vt&&P&&(Object.defineProperty(Re,"target",{writable:!0,value:{value:Q,name:E}}),P(Re))};delete K["aria-invalid"];let Pe,Dn;const Ut=[];let _i=!1;(vp({value:Q})||b)&&(N?Pe=N(Q):_i=!0);const Hn=an.map(Re=>{if(!S.isValidElement(Re))return null;let ot;if(L){if(!Array.isArray(Q))throw new Error(js(2));ot=Q.some($t=>M2($t,Re.props.value)),ot&&_i&&Ut.push(Re.props.children)}else ot=M2(Q,Re.props.value),ot&&_i&&(Dn=Re.props.children);return S.cloneElement(Re,{"aria-selected":ot?"true":"false",onClick:Rt(Re),onKeyUp:$t=>{$t.key===" "&&$t.preventDefault(),Re.props.onKeyUp&&Re.props.onKeyUp($t)},role:"option",selected:ot,value:void 0,"data-value":Re.props.value})});_i&&(L?Ut.length===0?Pe=null:Pe=Ut.reduce((Re,ot,$t)=>(Re.push(ot),$t<Ut.length-1&&Re.push(", "),Re),[]):Pe=Dn);let Dt=pe;!o&&de&&he&&(Dt=Le.clientWidth);let fn;typeof Y<"u"?fn=Y:fn=m?null:0;const Nt=G.id||(E?`mui-component-select-${E}`:void 0),ki={...t,variant:U,value:Q,open:vt,error:w},et=q9(ki),si={...A.PaperProps,...(vn=A.slotProps)==null?void 0:vn.paper},Tn=ac();return J.jsxs(S.Fragment,{children:[J.jsx($9,{as:"div",ref:Ae,tabIndex:fn,role:"combobox","aria-controls":vt?Tn:void 0,"aria-disabled":m?"true":void 0,"aria-expanded":vt?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[x,Nt].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":H?"true":void 0,"aria-invalid":w?"true":void 0,onKeyDown:yn,onMouseDown:m||C?null:ze,onBlur:ft,onFocus:I,...G,ownerState:ki,className:Oe(G.className,et.select,u),id:Nt,children:W9(Pe)?O2||(O2=J.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):Pe}),J.jsx(j9,{"aria-invalid":w,value:Array.isArray(Q)?Q.join(","):Q,name:E,ref:re,"aria-hidden":!0,onChange:rt,tabIndex:-1,disabled:m,className:et.nativeInput,autoFocus:r,required:H,...K,ownerState:ki}),J.jsx(H9,{as:_,className:et.icon,ownerState:ki}),J.jsx(A5,{id:`menu-${E||""}`,anchorEl:Le,open:vt,onClose:dt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...A,slotProps:{...A.slotProps,list:{"aria-labelledby":x,role:"listbox","aria-multiselectable":L?"true":void 0,disableListWrap:!0,id:Tn,...A.MenuListProps},paper:{...si,style:{minWidth:Dt,...si!=null?si.style:null}}},children:Hn})]})}),K9=n=>{const{classes:t}=n,i=He({root:["root"]},O5,t);return{...t,...i}},m1={name:"MuiSelect",slot:"Root",shouldForwardProp:n=>Ui(n)&&n!=="variant"},Y9=ye(h1,m1)(""),X9=ye(_m,m1)(""),J9=ye(f1,m1)(""),M5=S.forwardRef(function(t,e){const i=qe({name:"MuiSelect",props:t}),{autoWidth:s=!1,children:r,classes:o={},className:l,defaultOpen:u=!1,displayEmpty:f=!1,IconComponent:h=i8,id:m,input:b,inputProps:w,label:_,labelId:k,MenuProps:x,multiple:A=!1,native:L=!1,onClose:E,onOpen:P,open:R,renderValue:V,SelectDisplayProps:I,variant:z="outlined",...F}=i,C=L?L9:G9,N=Or(),H=xa({props:i,muiFormControl:N,states:["variant","error"]}),G=H.variant||z,Y={...i,variant:G,classes:o},W=K9(Y),{root:M,...U}=W,K=b||{standard:J.jsx(Y9,{ownerState:Y}),outlined:J.jsx(X9,{label:_,ownerState:Y}),filled:J.jsx(J9,{ownerState:Y})}[G],Q=xn(e,Sa(K));return J.jsx(S.Fragment,{children:S.cloneElement(K,{inputComponent:C,inputProps:{children:r,error:H.error,IconComponent:h,variant:G,type:void 0,multiple:A,...L?{id:m}:{autoWidth:s,defaultOpen:u,displayEmpty:f,labelId:k,MenuProps:x,onClose:E,onOpen:P,open:R,renderValue:V,SelectDisplayProps:{id:m,...I}},...w,classes:w?In(U,w.classes):U,...b?b.props.inputProps:{}},...(A&&L||f)&&G==="outlined"?{notched:!0}:{},ref:Q,className:Oe(K.props.className,l,W.root),...!b&&{variant:G},...F})})});M5.muiName="Select";function Z9(n){return $e("MuiSkeleton",n)}We("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Q9=n=>{const{classes:t,variant:e,animation:i,hasChildren:s,width:r,height:o}=n;return He({root:["root",e,i,s&&"withChildren",s&&!r&&"fitContent",s&&!o&&"heightAuto"]},Z9,t)},Vy=ka`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,Fy=ka`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,eF=typeof Vy!="string"?Vd`
        animation: ${Vy} 2s ease-in-out 0.5s infinite;
      `:null,tF=typeof Fy!="string"?Vd`
        &::after {
          animation: ${Fy} 2s linear 0.5s infinite;
        }
      `:null,nF=ye("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],e.animation!==!1&&t[e.animation],e.hasChildren&&t.withChildren,e.hasChildren&&!e.width&&t.fitContent,e.hasChildren&&!e.height&&t.heightAuto]}})(Qe(({theme:n})=>{const t=qA(n.shape.borderRadius)||"px",e=oo(n.shape.borderRadius);return{display:"block",backgroundColor:n.vars?n.vars.palette.Skeleton.bg:Xn(n.palette.text.primary,n.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${e}${t}/${Math.round(e/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:({ownerState:i})=>i.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:i})=>i.hasChildren&&!i.width,style:{maxWidth:"fit-content"}},{props:({ownerState:i})=>i.hasChildren&&!i.height,style:{height:"auto"}},{props:{animation:"pulse"},style:eF||{animation:`${Vy} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(n.vars||n).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:tF||{"&::after":{animation:`${Fy} 2s linear 0.5s infinite`}}}]}})),iF=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiSkeleton"}),{animation:s="pulse",className:r,component:o="span",height:l,style:u,variant:f="text",width:h,...m}=i,b={...i,animation:s,component:o,variant:f,hasChildren:!!m.children},w=Q9(b);return J.jsx(nF,{as:o,ref:e,className:Oe(w.root,r),ownerState:b,...m,style:{width:h,height:l,...u}})});function sF(n){return $e("MuiTooltip",n)}const tn=We("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function rF(n){return Math.round(n*1e5)/1e5}const oF=n=>{const{classes:t,disableInteractive:e,arrow:i,touch:s,placement:r}=n,o={popper:["popper",!e&&"popperInteractive",i&&"popperArrow"],tooltip:["tooltip",i&&"tooltipArrow",s&&"touch",`tooltipPlacement${ve(r.split("-")[0])}`],arrow:["arrow"]};return He(o,sF,t)},aF=ye(g5,{name:"MuiTooltip",slot:"Popper",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.popper,!e.disableInteractive&&t.popperInteractive,e.arrow&&t.popperArrow,!e.open&&t.popperClose]}})(Qe(({theme:n})=>({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:t})=>!t.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:t})=>!t,style:{pointerEvents:"none"}},{props:({ownerState:t})=>t.arrow,style:{[`&[data-popper-placement*="bottom"] .${tn.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${tn.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${tn.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${tn.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="right"] .${tn.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="right"] .${tn.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="left"] .${tn.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="left"] .${tn.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),lF=ye("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.tooltip,e.touch&&t.touch,e.arrow&&t.tooltipArrow,t[`tooltipPlacement${ve(e.placement.split("-")[0])}`]]}})(Qe(({theme:n})=>({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:Xn(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium,[`.${tn.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${tn.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${tn.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${tn.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:t})=>t.arrow,style:{position:"relative",margin:0}},{props:({ownerState:t})=>t.touch,style:{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:`${rF(16/14)}em`,fontWeight:n.typography.fontWeightRegular}},{props:({ownerState:t})=>!t.isRtl,style:{[`.${tn.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${tn.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:t})=>!t.isRtl&&t.touch,style:{[`.${tn.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${tn.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:t})=>!!t.isRtl,style:{[`.${tn.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${tn.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:t})=>!!t.isRtl&&t.touch,style:{[`.${tn.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${tn.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${tn.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${tn.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),cF=ye("span",{name:"MuiTooltip",slot:"Arrow"})(Qe(({theme:n})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:n.vars?n.vars.palette.Tooltip.bg:Xn(n.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let Sh=!1;const I2=new hm;let mu={x:0,y:0};function xh(n,t){return(e,...i)=>{t&&t(e,...i),n(e,...i)}}const uF=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiTooltip"}),{arrow:s=!1,children:r,classes:o,components:l={},componentsProps:u={},describeChild:f=!1,disableFocusListener:h=!1,disableHoverListener:m=!1,disableInteractive:b=!1,disableTouchListener:w=!1,enterDelay:_=100,enterNextDelay:k=0,enterTouchDelay:x=700,followCursor:A=!1,id:L,leaveDelay:E=0,leaveTouchDelay:P=1500,onClose:R,onOpen:V,open:I,placement:z="bottom",PopperComponent:F,PopperProps:C={},slotProps:N={},slots:H={},title:G,TransitionComponent:Y,TransitionProps:W,...M}=i,U=S.isValidElement(r)?r:J.jsx("span",{children:r}),K=Ca(),Q=Xv(),[B,Z]=S.useState(),[ae,re]=S.useState(null),ge=S.useRef(!1),he=b||A,ce=ra(),de=ra(),pe=ra(),Ee=ra(),[_e,Ae]=hp({controlled:I,default:!1,name:"Tooltip",state:"open"});let Le=_e;const Ye=ac(L),ze=S.useRef(),dt=Us(()=>{ze.current!==void 0&&(document.body.style.WebkitUserSelect=ze.current,ze.current=void 0),Ee.clear()});S.useEffect(()=>dt,[dt]);const an=Ue=>{I2.clear(),Sh=!0,Ae(!0),V&&!Le&&V(Ue)},rt=Us(Ue=>{I2.start(800+E,()=>{Sh=!1}),Ae(!1),R&&Le&&R(Ue),ce.start(K.transitions.duration.shortest,()=>{ge.current=!1})}),Rt=Ue=>{ge.current&&Ue.type!=="touchstart"||(B&&B.removeAttribute("title"),de.clear(),pe.clear(),_||Sh&&k?de.start(Sh?k:_,()=>{an(Ue)}):an(Ue))},yn=Ue=>{de.clear(),pe.start(E,()=>{rt(Ue)})},[,vt]=S.useState(!1),ft=Ue=>{gp(Ue.target)||(vt(!1),yn(Ue))},Pe=Ue=>{B||Z(Ue.currentTarget),gp(Ue.target)&&(vt(!0),Rt(Ue))},Dn=Ue=>{ge.current=!0;const ri=U.props;ri.onTouchStart&&ri.onTouchStart(Ue)},Ut=Ue=>{Dn(Ue),pe.clear(),ce.clear(),dt(),ze.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ee.start(x,()=>{document.body.style.WebkitUserSelect=ze.current,Rt(Ue)})},_i=Ue=>{U.props.onTouchEnd&&U.props.onTouchEnd(Ue),dt(),pe.start(P,()=>{rt(Ue)})};S.useEffect(()=>{if(!Le)return;function Ue(ri){ri.key==="Escape"&&rt(ri)}return document.addEventListener("keydown",Ue),()=>{document.removeEventListener("keydown",Ue)}},[rt,Le]);const Hn=xn(Sa(U),Z,e);!G&&G!==0&&(Le=!1);const Dt=S.useRef(),fn=Ue=>{const ri=U.props;ri.onMouseMove&&ri.onMouseMove(Ue),mu={x:Ue.clientX,y:Ue.clientY},Dt.current&&Dt.current.update()},Nt={},ki=typeof G=="string";f?(Nt.title=!Le&&ki&&!m?G:null,Nt["aria-describedby"]=Le?Ye:null):(Nt["aria-label"]=ki?G:null,Nt["aria-labelledby"]=Le&&!ki?Ye:null);const et={...Nt,...M,...U.props,className:Oe(M.className,U.props.className),onTouchStart:Dn,ref:Hn,...A?{onMouseMove:fn}:{}},si={};w||(et.onTouchStart=Ut,et.onTouchEnd=_i),m||(et.onMouseOver=xh(Rt,et.onMouseOver),et.onMouseLeave=xh(yn,et.onMouseLeave),he||(si.onMouseOver=Rt,si.onMouseLeave=yn)),h||(et.onFocus=xh(Pe,et.onFocus),et.onBlur=xh(ft,et.onBlur),he||(si.onFocus=Pe,si.onBlur=ft));const Tn={...i,isRtl:Q,arrow:s,disableInteractive:he,placement:z,PopperComponentProp:F,touch:ge.current},vn=typeof N.popper=="function"?N.popper(Tn):N.popper,Re=S.useMemo(()=>{var ri,rf;let Ue=[{name:"arrow",enabled:!!ae,options:{element:ae,padding:4}}];return(ri=C.popperOptions)!=null&&ri.modifiers&&(Ue=Ue.concat(C.popperOptions.modifiers)),(rf=vn==null?void 0:vn.popperOptions)!=null&&rf.modifiers&&(Ue=Ue.concat(vn.popperOptions.modifiers)),{...C.popperOptions,...vn==null?void 0:vn.popperOptions,modifiers:Ue}},[ae,C.popperOptions,vn==null?void 0:vn.popperOptions]),ot=oF(Tn),$t=typeof N.transition=="function"?N.transition(Tn):N.transition,Ci={slots:{popper:l.Popper,transition:l.Transition??Y,tooltip:l.Tooltip,arrow:l.Arrow,...H},slotProps:{arrow:N.arrow??u.arrow,popper:{...C,...vn??u.popper},tooltip:N.tooltip??u.tooltip,transition:{...W,...$t??u.transition}}},[Ro,tf]=lt("popper",{elementType:aF,externalForwardedProps:Ci,ownerState:Tn,className:Oe(ot.popper,C==null?void 0:C.className)}),[dc,Oo]=lt("transition",{elementType:wp,externalForwardedProps:Ci,ownerState:Tn}),[Hm,nf]=lt("tooltip",{elementType:lF,className:ot.tooltip,externalForwardedProps:Ci,ownerState:Tn}),[sf,fc]=lt("arrow",{elementType:cF,className:ot.arrow,externalForwardedProps:Ci,ownerState:Tn,ref:re});return J.jsxs(S.Fragment,{children:[S.cloneElement(U,et),J.jsx(Ro,{as:F??g5,placement:z,anchorEl:A?{getBoundingClientRect:()=>({top:mu.y,left:mu.x,right:mu.x,bottom:mu.y,width:0,height:0})}:B,popperRef:Dt,open:B?Le:!1,id:Ye,transition:!0,...si,...tf,popperOptions:Re,children:({TransitionProps:Ue})=>J.jsx(dc,{timeout:K.transitions.duration.shorter,...Ue,...Oo,children:J.jsxs(Hm,{...nf,children:[G,s?J.jsx(sf,{...fc}):null]})})})]})}),Se=jB({createStyledComponent:ye("div",{name:"MuiStack",slot:"Root"}),useThemeProps:n=>qe({props:n,name:"MuiStack"})});function dF(n){return $e("MuiToolbar",n)}We("MuiToolbar",["root","gutters","regular","dense"]);const fF=n=>{const{classes:t,disableGutters:e,variant:i}=n;return He({root:["root",!e&&"gutters",i]},dF,t)},hF=ye("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,!e.disableGutters&&t.gutters,t[e.variant]]}})(Qe(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:n.spacing(2),paddingRight:n.spacing(2),[n.breakpoints.up("sm")]:{paddingLeft:n.spacing(3),paddingRight:n.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:n.mixins.toolbar}]}))),pF=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiToolbar"}),{className:s,component:r="div",disableGutters:o=!1,variant:l="regular",...u}=i,f={...i,component:r,disableGutters:o,variant:l},h=fF(f);return J.jsx(hF,{as:r,className:Oe(h.root,s),ref:e,ownerState:f,...u})});function mF(n){return $e("MuiTextField",n)}We("MuiTextField",["root"]);const gF={standard:h1,filled:f1,outlined:_m},bF=n=>{const{classes:t}=n;return He({root:["root"]},mF,t)},yF=ye(S5,{name:"MuiTextField",slot:"Root"})({}),I5=S.forwardRef(function(t,e){const i=qe({props:t,name:"MuiTextField"}),{autoComplete:s,autoFocus:r=!1,children:o,className:l,color:u="primary",defaultValue:f,disabled:h=!1,error:m=!1,FormHelperTextProps:b,fullWidth:w=!1,helperText:_,id:k,InputLabelProps:x,inputProps:A,InputProps:L,inputRef:E,label:P,maxRows:R,minRows:V,multiline:I=!1,name:z,onBlur:F,onChange:C,onFocus:N,placeholder:H,required:G=!1,rows:Y,select:W=!1,SelectProps:M,slots:U={},slotProps:K={},type:Q,value:B,variant:Z="outlined",...ae}=i,re={...i,autoFocus:r,color:u,disabled:h,error:m,fullWidth:w,multiline:I,required:G,select:W,variant:Z},ge=bF(re),he=ac(k),ce=_&&he?`${he}-helper-text`:void 0,de=P&&he?`${he}-label`:void 0,pe=gF[Z],Ee={slots:U,slotProps:{input:L,inputLabel:x,htmlInput:A,formHelperText:b,select:M,...K}},_e={},Ae=Ee.slotProps.inputLabel;Z==="outlined"&&(Ae&&typeof Ae.shrink<"u"&&(_e.notched=Ae.shrink),_e.label=P),W&&((!M||!M.native)&&(_e.id=void 0),_e["aria-describedby"]=void 0);const[Le,Ye]=lt("root",{elementType:yF,shouldForwardComponentProp:!0,externalForwardedProps:{...Ee,...ae},ownerState:re,className:Oe(ge.root,l),ref:e,additionalProps:{disabled:h,error:m,fullWidth:w,required:G,color:u,variant:Z}}),[ze,dt]=lt("input",{elementType:pe,externalForwardedProps:Ee,additionalProps:_e,ownerState:re}),[an,rt]=lt("inputLabel",{elementType:x5,externalForwardedProps:Ee,ownerState:re}),[Rt,yn]=lt("htmlInput",{elementType:"input",externalForwardedProps:Ee,ownerState:re}),[vt,ft]=lt("formHelperText",{elementType:XV,externalForwardedProps:Ee,ownerState:re}),[Pe,Dn]=lt("select",{elementType:M5,externalForwardedProps:Ee,ownerState:re}),Ut=J.jsx(ze,{"aria-describedby":ce,autoComplete:s,autoFocus:r,defaultValue:f,fullWidth:w,multiline:I,name:z,rows:Y,maxRows:R,minRows:V,type:Q,value:B,id:he,inputRef:E,onBlur:F,onChange:C,onFocus:N,placeholder:H,inputProps:yn,slots:{input:U.htmlInput?Rt:void 0},...dt});return J.jsxs(Le,{...Ye,children:[P!=null&&P!==""&&J.jsx(an,{htmlFor:he,id:de,...rt,children:P}),W?J.jsx(Pe,{"aria-describedby":ce,id:he,labelId:de,value:B,input:Ut,...Dn,children:o}):Ut,_&&J.jsx(vt,{id:ce,...ft,children:_})]})}),Xe=S7(Zv({palette:{primary:{main:"#3288ff"},secondary:{main:"#f6f6f6"},info:{main:"#fff"},black:{main:"#404040"},divider:"#797979",success:{main:"#19df79"}},typography:{fontFamily:["Pretendard-Regular","Noto Sans KR","sans-serif"].join(","),h1:{fontWeight:700},h2:{fontWeight:700},h3:{fontWeight:700},h4:{fontWeight:700},h5:{fontWeight:700},h6:{fontWeight:700}},components:{MuiDivider:{styleOverrides:{root:{borderWidth:1.2,borderRadius:"50px"}}},MuiTooltip:{defaultProps:{arrow:!0},styleOverrides:{tooltip:{fontSize:"0.9rem"}}},MuiTypography:{styleOverrides:{root:{wordBreak:"keep-all"}}}}})),Lu={},L2=(n,t)=>n.unstable_is?n.unstable_is(t):t===n,B2=n=>"init"in n,_0=n=>!!n.write,D2=n=>"v"in n||"e"in n,Th=n=>{if("e"in n)throw n.e;if((Lu?"production":void 0)!=="production"&&!("v"in n))throw new Error("[Bug] atom state is not initialized");return n.v},_p=new WeakMap,N2=n=>{var t;return kp(n)&&!!((t=_p.get(n))!=null&&t[0])},vF=n=>{const t=_p.get(n);t!=null&&t[0]&&(t[0]=!1,t[1].forEach(e=>e()))},L5=(n,t)=>{let e=_p.get(n);if(!e){e=[!0,new Set],_p.set(n,e);const i=()=>{e[0]=!1};n.then(i,i)}e[1].add(t)},kp=n=>typeof(n==null?void 0:n.then)=="function",B5=(n,t,e)=>{e.p.has(n)||(e.p.add(n),t.then(()=>{e.p.delete(n)},()=>{e.p.delete(n)}))},k0=(n,t,e)=>{const i=e(n),s="v"in i,r=i.v;if(kp(t))for(const o of i.d.keys())B5(n,t,e(o));i.v=t,delete i.e,(!s||!Object.is(r,i.v))&&(++i.n,kp(r)&&vF(r))},V2=(n,t,e)=>{var i;const s=new Set;for(const r of((i=e.get(n))==null?void 0:i.t)||[])e.has(r)&&s.add(r);for(const r of t.p)s.add(r);return s},wF=()=>{const n=new Set,t=()=>{n.forEach(e=>e())};return t.add=e=>(n.add(e),()=>{n.delete(e)}),t},C0=()=>{const n={},t=new WeakMap,e=i=>{var s,r;(s=t.get(n))==null||s.forEach(o=>o(i)),(r=t.get(i))==null||r.forEach(o=>o())};return e.add=(i,s)=>{const r=i||n,o=(t.has(r)?t:t.set(r,new Set)).get(r);return o.add(s),()=>{o==null||o.delete(s),o.size||t.delete(r)}},e},_F=n=>(n.c||(n.c=C0()),n.m||(n.m=C0()),n.u||(n.u=C0()),n.f||(n.f=wF()),n),kF=Symbol(),CF=(n=new WeakMap,t=new WeakMap,e=new WeakMap,i=new Set,s=new Set,r=new Set,o={},l=(b,...w)=>b.read(...w),u=(b,...w)=>b.write(...w),f=(b,w)=>{var _;return(_=b.unstable_onInit)==null?void 0:_.call(b,w)},h=(b,w)=>{var _;return(_=b.onMount)==null?void 0:_.call(b,w)},...m)=>{const b=m[0]||(I=>{if((Lu?"production":void 0)!=="production"&&!I)throw new Error("Atom is undefined or null");let z=n.get(I);return z||(z={d:new Map,p:new Set,n:0},n.set(I,z),f==null||f(I,V)),z}),w=m[1]||(()=>{const I=[],z=F=>{try{F()}catch(C){I.push(C)}};do{o.f&&z(o.f);const F=new Set,C=F.add.bind(F);i.forEach(N=>{var H;return(H=t.get(N))==null?void 0:H.l.forEach(C)}),i.clear(),r.forEach(C),r.clear(),s.forEach(C),s.clear(),F.forEach(z),i.size&&_()}while(i.size||r.size||s.size);if(I.length)throw new AggregateError(I)}),_=m[2]||(()=>{const I=[],z=new WeakSet,F=new WeakSet,C=Array.from(i);for(;C.length;){const N=C[C.length-1],H=b(N);if(F.has(N)){C.pop();continue}if(z.has(N)){if(e.get(N)===H.n)I.push([N,H]);else if((Lu?"production":void 0)!=="production"&&e.has(N))throw new Error("[Bug] invalidated atom exists");F.add(N),C.pop();continue}z.add(N);for(const G of V2(N,H,t))z.has(G)||C.push(G)}for(let N=I.length-1;N>=0;--N){const[H,G]=I[N];let Y=!1;for(const W of G.d.keys())if(W!==H&&i.has(W)){Y=!0;break}Y&&(k(H),L(H)),e.delete(H)}}),k=m[3]||(I=>{var z;const F=b(I);if(D2(F)&&(t.has(I)&&e.get(I)!==F.n||Array.from(F.d).every(([U,K])=>k(U).n===K)))return F;F.d.clear();let C=!0;const N=()=>{t.has(I)&&(L(I),_(),w())},H=U=>{var K;if(L2(I,U)){const B=b(U);if(!D2(B))if(B2(U))k0(U,U.init,b);else throw new Error("no atom init");return Th(B)}const Q=k(U);try{return Th(Q)}finally{F.d.set(U,Q.n),N2(F.v)&&B5(I,F.v,Q),(K=t.get(U))==null||K.t.add(I),C||N()}};let G,Y;const W={get signal(){return G||(G=new AbortController),G.signal},get setSelf(){return(Lu?"production":void 0)!=="production"&&!_0(I)&&console.warn("setSelf function cannot be used with read-only atom"),!Y&&_0(I)&&(Y=(...U)=>{if((Lu?"production":void 0)!=="production"&&C&&console.warn("setSelf function cannot be called in sync"),!C)try{return A(I,...U)}finally{_(),w()}}),Y}},M=F.n;try{const U=l(I,H,W);return k0(I,U,b),kp(U)&&(L5(U,()=>G==null?void 0:G.abort()),U.then(N,N)),F}catch(U){return delete F.v,F.e=U,++F.n,F}finally{C=!1,M!==F.n&&e.get(I)===M&&(e.set(I,F.n),i.add(I),(z=o.c)==null||z.call(o,I))}}),x=m[4]||(I=>{const z=[I];for(;z.length;){const F=z.pop(),C=b(F);for(const N of V2(F,C,t)){const H=b(N);e.set(N,H.n),z.push(N)}}}),A=m[5]||((I,...z)=>{let F=!0;const C=H=>Th(k(H)),N=(H,...G)=>{var Y;const W=b(H);try{if(L2(I,H)){if(!B2(H))throw new Error("atom not writable");const M=W.n,U=G[0];k0(H,U,b),L(H),M!==W.n&&(i.add(H),(Y=o.c)==null||Y.call(o,H),x(H));return}else return A(H,...G)}finally{F||(_(),w())}};try{return u(I,C,N,...z)}finally{F=!1}}),L=m[6]||(I=>{var z;const F=b(I),C=t.get(I);if(C&&!N2(F.v)){for(const[N,H]of F.d)if(!C.d.has(N)){const G=b(N);E(N).t.add(I),C.d.add(N),H!==G.n&&(i.add(N),(z=o.c)==null||z.call(o,N),x(N))}for(const N of C.d||[])if(!F.d.has(N)){C.d.delete(N);const H=P(N);H==null||H.t.delete(I)}}}),E=m[7]||(I=>{var z;const F=b(I);let C=t.get(I);if(!C){k(I);for(const N of F.d.keys())E(N).t.add(I);if(C={l:new Set,d:new Set(F.d.keys()),t:new Set},t.set(I,C),(z=o.m)==null||z.call(o,I),_0(I)){const N=()=>{let H=!0;const G=(...Y)=>{try{return A(I,...Y)}finally{H||(_(),w())}};try{const Y=h(I,G);Y&&(C.u=()=>{H=!0;try{Y()}finally{H=!1}})}finally{H=!1}};s.add(N)}}return C}),P=m[8]||(I=>{var z;const F=b(I);let C=t.get(I);if(C&&!C.l.size&&!Array.from(C.t).some(N=>{var H;return(H=t.get(N))==null?void 0:H.d.has(I)})){C.u&&r.add(C.u),C=void 0,t.delete(I),(z=o.u)==null||z.call(o,I);for(const N of F.d.keys()){const H=P(N);H==null||H.t.delete(I)}return}return C}),R=[n,t,e,i,s,r,o,l,u,f,h,b,w,_,k,x,A,L,E,P],V={get:I=>Th(k(I)),set:(I,...z)=>{try{return A(I,...z)}finally{_(),w()}},sub:(I,z)=>{const C=E(I).l;return C.add(z),w(),()=>{C.delete(z),P(I),w()}}};return Object.defineProperty(V,kF,{value:R}),V},D5=CF,SF=_F,F2=L5,g1={};let xF=0;function jd(n,t){const e=`atom${++xF}`,i={toString(){return(g1?"production":void 0)!=="production"&&this.debugLabel?e+":"+this.debugLabel:e}};return typeof n=="function"?i.read=n:(i.init=n,i.read=TF,i.write=EF),i}function TF(n){return n(this)}function EF(n,t,e){return t(this,typeof e=="function"?e(n(this)):e)}const AF=()=>{let n=0;const t=SF({}),e=new WeakMap,i=new WeakMap,s=D5(e,i,void 0,void 0,void 0,void 0,t,void 0,(l,u,f,...h)=>n?f(l,...h):l.write(u,f,...h)),r=new Set;return t.m.add(void 0,l=>{r.add(l);const u=e.get(l);u.m=i.get(l)}),t.u.add(void 0,l=>{r.delete(l);const u=e.get(l);delete u.m}),Object.assign(s,{dev4_get_internal_weak_map:()=>(console.log("Deprecated: Use devstore from the devtools library"),e),dev4_get_mounted_atoms:()=>r,dev4_restore_atoms:l=>{const u={read:()=>null,write:(f,h)=>{++n;try{for(const[m,b]of l)"init"in m&&h(m,b)}finally{--n}}};s.set(u)}})};function PF(){return(g1?"production":void 0)!=="production"?AF():D5()}let gu;function b1(){return gu||(gu=PF(),(g1?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=gu),globalThis.__JOTAI_DEFAULT_STORE__!==gu&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),gu}const RF={},OF=S.createContext(void 0);function N5(n){return S.useContext(OF)||b1()}const zy=n=>typeof(n==null?void 0:n.then)=="function",Uy=n=>{n.status||(n.status="pending",n.then(t=>{n.status="fulfilled",n.value=t},t=>{n.status="rejected",n.reason=t}))},MF=kn.use||(n=>{if(n.status==="pending")throw n;if(n.status==="fulfilled")return n.value;throw n.status==="rejected"?n.reason:(Uy(n),n)}),S0=new WeakMap,z2=(n,t)=>{let e=S0.get(n);return e||(e=new Promise((i,s)=>{let r=n;const o=f=>h=>{r===f&&i(h)},l=f=>h=>{r===f&&s(h)},u=()=>{try{const f=t();zy(f)?(S0.set(f,e),r=f,f.then(o(f),l(f)),F2(f,u)):i(f)}catch(f){s(f)}};n.then(o(n),l(n)),F2(n,u)}),S0.set(n,e)),e};function Cp(n,t){const{delay:e,unstable_promiseStatus:i=!kn.use}={},s=N5(),[[r,o,l],u]=S.useReducer(h=>{const m=s.get(n);return Object.is(h[0],m)&&h[1]===s&&h[2]===n?h:[m,s,n]},void 0,()=>[s.get(n),s,n]);let f=r;if((o!==s||l!==n)&&(u(),f=s.get(n)),S.useEffect(()=>{const h=s.sub(n,()=>{if(i)try{const m=s.get(n);zy(m)&&Uy(z2(m,()=>s.get(n)))}catch{}if(typeof e=="number"){setTimeout(u,e);return}u()});return u(),h},[s,n,e,i]),S.useDebugValue(f),zy(f)){const h=z2(f,()=>s.get(n));return i&&Uy(h),MF(h)}return f}function pd(n,t){const e=N5();return S.useCallback((...s)=>{if((RF?"production":void 0)!=="production"&&!("write"in n))throw new Error("not writable atom");return e.set(n,...s)},[e,n])}function Zl(n,t){return[Cp(n),pd(n)]}const md=15;var qu=(n=>(n.EDIT="편집 모드",n.VIEW="열람 모드",n))(qu||{});const $y=(n,t,e=n.boards.length)=>n.boards.length>=md||e<0||e>n.boards.length?n:{...n,boards:[...n.boards.slice(0,e),t,...n.boards.slice(e)]},IF=(n,t,e,i=(s=>(s=n.boards[t-1])==null?void 0:s.cards.length)())=>{if(t<1||t>n.boards.length)return n;const r=n.boards[t-1];if(console.log("board",r),i<0||i>r.cards.length)return n;const o={...r,cards:[...r.cards.slice(0,i),e,...r.cards.slice(i)]};return console.log("newBoard",o),{...n,boards:[...n.boards.slice(0,t-1),o,...n.boards.slice(t)]}};var po=(n=>(n.USER="user",n.ADMIN="admin",n.SUPER_ADMIN="superadmin",n))(po||{});const Eh=JSON.parse(localStorage.getItem("WannaTriploginState")||"{}"),ga=jd({isLoggedIn:Eh.isLoggedIn||!1,userUuid:Eh.userUuid||"",userName:Eh.userName||"",loginType:Eh.loginType||"normal"}),Hy=jd(""),y1=jd({uuid:null,title:"MyTemplate",boards:[{cards:[]}]}),V5=jd(qu.EDIT),v1=jd(!1),LF=Object.freeze(Object.defineProperty({__proto__:null,Permission:po,cardEditDialogOpenAtom:v1,kakaoLoginStateAtom:Hy,templateAtom:y1,templateModeAtom:V5,wannaTripLoginStateAtom:ga},Symbol.toStringTag,{value:"Module"}));function F5(n,t){return function(){return n.apply(t,arguments)}}const{toString:BF}=Object.prototype,{getPrototypeOf:w1}=Object,{iterator:km,toStringTag:z5}=Symbol,Cm=(n=>t=>{const e=BF.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),xs=n=>(n=n.toLowerCase(),t=>Cm(t)===n),Sm=n=>t=>typeof t===n,{isArray:lc}=Array,gd=Sm("undefined");function DF(n){return n!==null&&!gd(n)&&n.constructor!==null&&!gd(n.constructor)&&mi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const U5=xs("ArrayBuffer");function NF(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&U5(n.buffer),t}const VF=Sm("string"),mi=Sm("function"),$5=Sm("number"),xm=n=>n!==null&&typeof n=="object",FF=n=>n===!0||n===!1,Kh=n=>{if(Cm(n)!=="object")return!1;const t=w1(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(z5 in n)&&!(km in n)},zF=xs("Date"),UF=xs("File"),$F=xs("Blob"),HF=xs("FileList"),jF=n=>xm(n)&&mi(n.pipe),WF=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||mi(n.append)&&((t=Cm(n))==="formdata"||t==="object"&&mi(n.toString)&&n.toString()==="[object FormData]"))},qF=xs("URLSearchParams"),[GF,KF,YF,XF]=["ReadableStream","Request","Response","Headers"].map(xs),JF=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wd(n,t,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),lc(n))for(i=0,s=n.length;i<s;i++)t.call(null,n[i],i,n);else{const r=e?Object.getOwnPropertyNames(n):Object.keys(n),o=r.length;let l;for(i=0;i<o;i++)l=r[i],t.call(null,n[l],l,n)}}function H5(n,t){t=t.toLowerCase();const e=Object.keys(n);let i=e.length,s;for(;i-- >0;)if(s=e[i],t===s.toLowerCase())return s;return null}const oa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,j5=n=>!gd(n)&&n!==oa;function jy(){const{caseless:n}=j5(this)&&this||{},t={},e=(i,s)=>{const r=n&&H5(t,s)||s;Kh(t[r])&&Kh(i)?t[r]=jy(t[r],i):Kh(i)?t[r]=jy({},i):lc(i)?t[r]=i.slice():t[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Wd(arguments[i],e);return t}const ZF=(n,t,e,{allOwnKeys:i}={})=>(Wd(t,(s,r)=>{e&&mi(s)?n[r]=F5(s,e):n[r]=s},{allOwnKeys:i}),n),QF=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),ez=(n,t,e,i)=>{n.prototype=Object.create(t.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),e&&Object.assign(n.prototype,e)},tz=(n,t,e,i)=>{let s,r,o;const l={};if(t=t||{},n==null)return t;do{for(s=Object.getOwnPropertyNames(n),r=s.length;r-- >0;)o=s[r],(!i||i(o,n,t))&&!l[o]&&(t[o]=n[o],l[o]=!0);n=e!==!1&&w1(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t},nz=(n,t,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;const i=n.indexOf(t,e);return i!==-1&&i===e},iz=n=>{if(!n)return null;if(lc(n))return n;let t=n.length;if(!$5(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=n[t];return e},sz=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&w1(Uint8Array)),rz=(n,t)=>{const i=(n&&n[km]).call(n);let s;for(;(s=i.next())&&!s.done;){const r=s.value;t.call(n,r[0],r[1])}},oz=(n,t)=>{let e;const i=[];for(;(e=n.exec(t))!==null;)i.push(e);return i},az=xs("HTMLFormElement"),lz=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,s){return i.toUpperCase()+s}),U2=(({hasOwnProperty:n})=>(t,e)=>n.call(t,e))(Object.prototype),cz=xs("RegExp"),W5=(n,t)=>{const e=Object.getOwnPropertyDescriptors(n),i={};Wd(e,(s,r)=>{let o;(o=t(s,r,n))!==!1&&(i[r]=o||s)}),Object.defineProperties(n,i)},uz=n=>{W5(n,(t,e)=>{if(mi(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const i=n[e];if(mi(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},dz=(n,t)=>{const e={},i=s=>{s.forEach(r=>{e[r]=!0})};return lc(n)?i(n):i(String(n).split(t)),e},fz=()=>{},hz=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t;function pz(n){return!!(n&&mi(n.append)&&n[z5]==="FormData"&&n[km])}const mz=n=>{const t=new Array(10),e=(i,s)=>{if(xm(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[s]=i;const r=lc(i)?[]:{};return Wd(i,(o,l)=>{const u=e(o,s+1);!gd(u)&&(r[l]=u)}),t[s]=void 0,r}}return i};return e(n,0)},gz=xs("AsyncFunction"),bz=n=>n&&(xm(n)||mi(n))&&mi(n.then)&&mi(n.catch),q5=((n,t)=>n?setImmediate:t?((e,i)=>(oa.addEventListener("message",({source:s,data:r})=>{s===oa&&r===e&&i.length&&i.shift()()},!1),s=>{i.push(s),oa.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",mi(oa.postMessage)),yz=typeof queueMicrotask<"u"?queueMicrotask.bind(oa):typeof process<"u"&&process.nextTick||q5,vz=n=>n!=null&&mi(n[km]),oe={isArray:lc,isArrayBuffer:U5,isBuffer:DF,isFormData:WF,isArrayBufferView:NF,isString:VF,isNumber:$5,isBoolean:FF,isObject:xm,isPlainObject:Kh,isReadableStream:GF,isRequest:KF,isResponse:YF,isHeaders:XF,isUndefined:gd,isDate:zF,isFile:UF,isBlob:$F,isRegExp:cz,isFunction:mi,isStream:jF,isURLSearchParams:qF,isTypedArray:sz,isFileList:HF,forEach:Wd,merge:jy,extend:ZF,trim:JF,stripBOM:QF,inherits:ez,toFlatObject:tz,kindOf:Cm,kindOfTest:xs,endsWith:nz,toArray:iz,forEachEntry:rz,matchAll:oz,isHTMLForm:az,hasOwnProperty:U2,hasOwnProp:U2,reduceDescriptors:W5,freezeMethods:uz,toObjectSet:dz,toCamelCase:lz,noop:fz,toFiniteNumber:hz,findKey:H5,global:oa,isContextDefined:j5,isSpecCompliantForm:pz,toJSONObject:mz,isAsyncFn:gz,isThenable:bz,setImmediate:q5,asap:yz,isIterable:vz};function je(n,t,e,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}oe.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const G5=je.prototype,K5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{K5[n]={value:n}});Object.defineProperties(je,K5);Object.defineProperty(G5,"isAxiosError",{value:!0});je.from=(n,t,e,i,s,r)=>{const o=Object.create(G5);return oe.toFlatObject(n,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),je.call(o,n.message,t,e,i,s),o.cause=n,o.name=n.name,r&&Object.assign(o,r),o};const wz=null;function Wy(n){return oe.isPlainObject(n)||oe.isArray(n)}function Y5(n){return oe.endsWith(n,"[]")?n.slice(0,-2):n}function $2(n,t,e){return n?n.concat(t).map(function(s,r){return s=Y5(s),!e&&r?"["+s+"]":s}).join(e?".":""):t}function _z(n){return oe.isArray(n)&&!n.some(Wy)}const kz=oe.toFlatObject(oe,{},null,function(t){return/^is[A-Z]/.test(t)});function Tm(n,t,e){if(!oe.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,e=oe.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,x){return!oe.isUndefined(x[k])});const i=e.metaTokens,s=e.visitor||h,r=e.dots,o=e.indexes,u=(e.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(t);if(!oe.isFunction(s))throw new TypeError("visitor must be a function");function f(_){if(_===null)return"";if(oe.isDate(_))return _.toISOString();if(!u&&oe.isBlob(_))throw new je("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(_)||oe.isTypedArray(_)?u&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function h(_,k,x){let A=_;if(_&&!x&&typeof _=="object"){if(oe.endsWith(k,"{}"))k=i?k:k.slice(0,-2),_=JSON.stringify(_);else if(oe.isArray(_)&&_z(_)||(oe.isFileList(_)||oe.endsWith(k,"[]"))&&(A=oe.toArray(_)))return k=Y5(k),A.forEach(function(E,P){!(oe.isUndefined(E)||E===null)&&t.append(o===!0?$2([k],P,r):o===null?k:k+"[]",f(E))}),!1}return Wy(_)?!0:(t.append($2(x,k,r),f(_)),!1)}const m=[],b=Object.assign(kz,{defaultVisitor:h,convertValue:f,isVisitable:Wy});function w(_,k){if(!oe.isUndefined(_)){if(m.indexOf(_)!==-1)throw Error("Circular reference detected in "+k.join("."));m.push(_),oe.forEach(_,function(A,L){(!(oe.isUndefined(A)||A===null)&&s.call(t,A,oe.isString(L)?L.trim():L,k,b))===!0&&w(A,k?k.concat(L):[L])}),m.pop()}}if(!oe.isObject(n))throw new TypeError("data must be an object");return w(n),t}function H2(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function _1(n,t){this._pairs=[],n&&Tm(n,this,t)}const X5=_1.prototype;X5.append=function(t,e){this._pairs.push([t,e])};X5.toString=function(t){const e=t?function(i){return t.call(this,i,H2)}:H2;return this._pairs.map(function(s){return e(s[0])+"="+e(s[1])},"").join("&")};function Cz(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function J5(n,t,e){if(!t)return n;const i=e&&e.encode||Cz;oe.isFunction(e)&&(e={serialize:e});const s=e&&e.serialize;let r;if(s?r=s(t,e):r=oe.isURLSearchParams(t)?t.toString():new _1(t,e).toString(i),r){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+r}return n}class j2{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){oe.forEach(this.handlers,function(i){i!==null&&t(i)})}}const Z5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sz=typeof URLSearchParams<"u"?URLSearchParams:_1,xz=typeof FormData<"u"?FormData:null,Tz=typeof Blob<"u"?Blob:null,Ez={isBrowser:!0,classes:{URLSearchParams:Sz,FormData:xz,Blob:Tz},protocols:["http","https","file","blob","url","data"]},k1=typeof window<"u"&&typeof document<"u",qy=typeof navigator=="object"&&navigator||void 0,Az=k1&&(!qy||["ReactNative","NativeScript","NS"].indexOf(qy.product)<0),Pz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rz=k1&&window.location.href||"http://localhost",Oz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:k1,hasStandardBrowserEnv:Az,hasStandardBrowserWebWorkerEnv:Pz,navigator:qy,origin:Rz},Symbol.toStringTag,{value:"Module"})),Jn={...Oz,...Ez};function Mz(n,t){return Tm(n,new Jn.classes.URLSearchParams,Object.assign({visitor:function(e,i,s,r){return Jn.isNode&&oe.isBuffer(e)?(this.append(i,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function Iz(n){return oe.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Lz(n){const t={},e=Object.keys(n);let i;const s=e.length;let r;for(i=0;i<s;i++)r=e[i],t[r]=n[r];return t}function Q5(n){function t(e,i,s,r){let o=e[r++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=r>=e.length;return o=!o&&oe.isArray(s)?s.length:o,u?(oe.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!l):((!s[o]||!oe.isObject(s[o]))&&(s[o]=[]),t(e,i,s[o],r)&&oe.isArray(s[o])&&(s[o]=Lz(s[o])),!l)}if(oe.isFormData(n)&&oe.isFunction(n.entries)){const e={};return oe.forEachEntry(n,(i,s)=>{t(Iz(i),s,e,0)}),e}return null}function Bz(n,t,e){if(oe.isString(n))try{return(t||JSON.parse)(n),oe.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(n)}const qd={transitional:Z5,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const i=e.getContentType()||"",s=i.indexOf("application/json")>-1,r=oe.isObject(t);if(r&&oe.isHTMLForm(t)&&(t=new FormData(t)),oe.isFormData(t))return s?JSON.stringify(Q5(t)):t;if(oe.isArrayBuffer(t)||oe.isBuffer(t)||oe.isStream(t)||oe.isFile(t)||oe.isBlob(t)||oe.isReadableStream(t))return t;if(oe.isArrayBufferView(t))return t.buffer;if(oe.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Mz(t,this.formSerializer).toString();if((l=oe.isFileList(t))||i.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Tm(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return r||s?(e.setContentType("application/json",!1),Bz(t)):t}],transformResponse:[function(t){const e=this.transitional||qd.transitional,i=e&&e.forcedJSONParsing,s=this.responseType==="json";if(oe.isResponse(t)||oe.isReadableStream(t))return t;if(t&&oe.isString(t)&&(i&&!this.responseType||s)){const o=!(e&&e.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?je.from(l,je.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jn.classes.FormData,Blob:Jn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],n=>{qd.headers[n]={}});const Dz=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Nz=n=>{const t={};let e,i,s;return n&&n.split(`
`).forEach(function(o){s=o.indexOf(":"),e=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!e||t[e]&&Dz[e])&&(e==="set-cookie"?t[e]?t[e].push(i):t[e]=[i]:t[e]=t[e]?t[e]+", "+i:i)}),t},W2=Symbol("internals");function bu(n){return n&&String(n).trim().toLowerCase()}function Yh(n){return n===!1||n==null?n:oe.isArray(n)?n.map(Yh):String(n)}function Vz(n){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(n);)t[i[1]]=i[2];return t}const Fz=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function x0(n,t,e,i,s){if(oe.isFunction(i))return i.call(this,t,e);if(s&&(t=e),!!oe.isString(t)){if(oe.isString(i))return t.indexOf(i)!==-1;if(oe.isRegExp(i))return i.test(t)}}function zz(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,i)=>e.toUpperCase()+i)}function Uz(n,t){const e=oe.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+e,{value:function(s,r,o){return this[i].call(this,t,s,r,o)},configurable:!0})})}let gi=class{constructor(t){t&&this.set(t)}set(t,e,i){const s=this;function r(l,u,f){const h=bu(u);if(!h)throw new Error("header name must be a non-empty string");const m=oe.findKey(s,h);(!m||s[m]===void 0||f===!0||f===void 0&&s[m]!==!1)&&(s[m||u]=Yh(l))}const o=(l,u)=>oe.forEach(l,(f,h)=>r(f,h,u));if(oe.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(oe.isString(t)&&(t=t.trim())&&!Fz(t))o(Nz(t),e);else if(oe.isObject(t)&&oe.isIterable(t)){let l={},u,f;for(const h of t){if(!oe.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[f=h[0]]=(u=l[f])?oe.isArray(u)?[...u,h[1]]:[u,h[1]]:h[1]}o(l,e)}else t!=null&&r(e,t,i);return this}get(t,e){if(t=bu(t),t){const i=oe.findKey(this,t);if(i){const s=this[i];if(!e)return s;if(e===!0)return Vz(s);if(oe.isFunction(e))return e.call(this,s,i);if(oe.isRegExp(e))return e.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=bu(t),t){const i=oe.findKey(this,t);return!!(i&&this[i]!==void 0&&(!e||x0(this,this[i],i,e)))}return!1}delete(t,e){const i=this;let s=!1;function r(o){if(o=bu(o),o){const l=oe.findKey(i,o);l&&(!e||x0(i,i[l],l,e))&&(delete i[l],s=!0)}}return oe.isArray(t)?t.forEach(r):r(t),s}clear(t){const e=Object.keys(this);let i=e.length,s=!1;for(;i--;){const r=e[i];(!t||x0(this,this[r],r,t,!0))&&(delete this[r],s=!0)}return s}normalize(t){const e=this,i={};return oe.forEach(this,(s,r)=>{const o=oe.findKey(i,r);if(o){e[o]=Yh(s),delete e[r];return}const l=t?zz(r):String(r).trim();l!==r&&delete e[r],e[l]=Yh(s),i[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return oe.forEach(this,(i,s)=>{i!=null&&i!==!1&&(e[s]=t&&oe.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach(s=>i.set(s)),i}static accessor(t){const i=(this[W2]=this[W2]={accessors:{}}).accessors,s=this.prototype;function r(o){const l=bu(o);i[l]||(Uz(s,o),i[l]=!0)}return oe.isArray(t)?t.forEach(r):r(t),this}};gi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(gi.prototype,({value:n},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(i){this[e]=i}}});oe.freezeMethods(gi);function T0(n,t){const e=this||qd,i=t||e,s=gi.from(i.headers);let r=i.data;return oe.forEach(n,function(l){r=l.call(e,r,s.normalize(),t?t.status:void 0)}),s.normalize(),r}function eP(n){return!!(n&&n.__CANCEL__)}function cc(n,t,e){je.call(this,n??"canceled",je.ERR_CANCELED,t,e),this.name="CanceledError"}oe.inherits(cc,je,{__CANCEL__:!0});function tP(n,t,e){const i=e.config.validateStatus;!e.status||!i||i(e.status)?n(e):t(new je("Request failed with status code "+e.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function $z(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function Hz(n,t){n=n||10;const e=new Array(n),i=new Array(n);let s=0,r=0,o;return t=t!==void 0?t:1e3,function(u){const f=Date.now(),h=i[r];o||(o=f),e[s]=u,i[s]=f;let m=r,b=0;for(;m!==s;)b+=e[m++],m=m%n;if(s=(s+1)%n,s===r&&(r=(r+1)%n),f-o<t)return;const w=h&&f-h;return w?Math.round(b*1e3/w):void 0}}function jz(n,t){let e=0,i=1e3/t,s,r;const o=(f,h=Date.now())=>{e=h,s=null,r&&(clearTimeout(r),r=null),n.apply(null,f)};return[(...f)=>{const h=Date.now(),m=h-e;m>=i?o(f,h):(s=f,r||(r=setTimeout(()=>{r=null,o(s)},i-m)))},()=>s&&o(s)]}const Sp=(n,t,e=3)=>{let i=0;const s=Hz(50,250);return jz(r=>{const o=r.loaded,l=r.lengthComputable?r.total:void 0,u=o-i,f=s(u),h=o<=l;i=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:f||void 0,estimated:f&&l&&h?(l-o)/f:void 0,event:r,lengthComputable:l!=null,[t?"download":"upload"]:!0};n(m)},e)},q2=(n,t)=>{const e=n!=null;return[i=>t[0]({lengthComputable:e,total:n,loaded:i}),t[1]]},G2=n=>(...t)=>oe.asap(()=>n(...t)),Wz=Jn.hasStandardBrowserEnv?((n,t)=>e=>(e=new URL(e,Jn.origin),n.protocol===e.protocol&&n.host===e.host&&(t||n.port===e.port)))(new URL(Jn.origin),Jn.navigator&&/(msie|trident)/i.test(Jn.navigator.userAgent)):()=>!0,qz=Jn.hasStandardBrowserEnv?{write(n,t,e,i,s,r){const o=[n+"="+encodeURIComponent(t)];oe.isNumber(e)&&o.push("expires="+new Date(e).toGMTString()),oe.isString(i)&&o.push("path="+i),oe.isString(s)&&o.push("domain="+s),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Gz(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Kz(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function nP(n,t,e){let i=!Gz(t);return n&&(i||e==!1)?Kz(n,t):t}const K2=n=>n instanceof gi?{...n}:n;function ba(n,t){t=t||{};const e={};function i(f,h,m,b){return oe.isPlainObject(f)&&oe.isPlainObject(h)?oe.merge.call({caseless:b},f,h):oe.isPlainObject(h)?oe.merge({},h):oe.isArray(h)?h.slice():h}function s(f,h,m,b){if(oe.isUndefined(h)){if(!oe.isUndefined(f))return i(void 0,f,m,b)}else return i(f,h,m,b)}function r(f,h){if(!oe.isUndefined(h))return i(void 0,h)}function o(f,h){if(oe.isUndefined(h)){if(!oe.isUndefined(f))return i(void 0,f)}else return i(void 0,h)}function l(f,h,m){if(m in t)return i(f,h);if(m in n)return i(void 0,f)}const u={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(f,h,m)=>s(K2(f),K2(h),m,!0)};return oe.forEach(Object.keys(Object.assign({},n,t)),function(h){const m=u[h]||s,b=m(n[h],t[h],h);oe.isUndefined(b)&&m!==l||(e[h]=b)}),e}const iP=n=>{const t=ba({},n);let{data:e,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:r,headers:o,auth:l}=t;t.headers=o=gi.from(o),t.url=J5(nP(t.baseURL,t.url,t.allowAbsoluteUrls),n.params,n.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(oe.isFormData(e)){if(Jn.hasStandardBrowserEnv||Jn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[f,...h]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([f||"multipart/form-data",...h].join("; "))}}if(Jn.hasStandardBrowserEnv&&(i&&oe.isFunction(i)&&(i=i(t)),i||i!==!1&&Wz(t.url))){const f=s&&r&&qz.read(r);f&&o.set(s,f)}return t},Yz=typeof XMLHttpRequest<"u",Xz=Yz&&function(n){return new Promise(function(e,i){const s=iP(n);let r=s.data;const o=gi.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:f}=s,h,m,b,w,_;function k(){w&&w(),_&&_(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function A(){if(!x)return;const E=gi.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),R={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:E,config:n,request:x};tP(function(I){e(I),k()},function(I){i(I),k()},R),x=null}"onloadend"in x?x.onloadend=A:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(A)},x.onabort=function(){x&&(i(new je("Request aborted",je.ECONNABORTED,n,x)),x=null)},x.onerror=function(){i(new je("Network Error",je.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let P=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const R=s.transitional||Z5;s.timeoutErrorMessage&&(P=s.timeoutErrorMessage),i(new je(P,R.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,n,x)),x=null},r===void 0&&o.setContentType(null),"setRequestHeader"in x&&oe.forEach(o.toJSON(),function(P,R){x.setRequestHeader(R,P)}),oe.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),l&&l!=="json"&&(x.responseType=s.responseType),f&&([b,_]=Sp(f,!0),x.addEventListener("progress",b)),u&&x.upload&&([m,w]=Sp(u),x.upload.addEventListener("progress",m),x.upload.addEventListener("loadend",w)),(s.cancelToken||s.signal)&&(h=E=>{x&&(i(!E||E.type?new cc(null,n,x):E),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const L=$z(s.url);if(L&&Jn.protocols.indexOf(L)===-1){i(new je("Unsupported protocol "+L+":",je.ERR_BAD_REQUEST,n));return}x.send(r||null)})},Jz=(n,t)=>{const{length:e}=n=n?n.filter(Boolean):[];if(t||e){let i=new AbortController,s;const r=function(f){if(!s){s=!0,l();const h=f instanceof Error?f:this.reason;i.abort(h instanceof je?h:new cc(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,r(new je(`timeout ${t} of ms exceeded`,je.ETIMEDOUT))},t);const l=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(r):f.removeEventListener("abort",r)}),n=null)};n.forEach(f=>f.addEventListener("abort",r));const{signal:u}=i;return u.unsubscribe=()=>oe.asap(l),u}},Zz=function*(n,t){let e=n.byteLength;if(e<t){yield n;return}let i=0,s;for(;i<e;)s=i+t,yield n.slice(i,s),i=s},Qz=async function*(n,t){for await(const e of eU(n))yield*Zz(e,t)},eU=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:e,value:i}=await t.read();if(e)break;yield i}}finally{await t.cancel()}},Y2=(n,t,e,i)=>{const s=Qz(n,t);let r=0,o,l=u=>{o||(o=!0,i&&i(u))};return new ReadableStream({async pull(u){try{const{done:f,value:h}=await s.next();if(f){l(),u.close();return}let m=h.byteLength;if(e){let b=r+=m;e(b)}u.enqueue(new Uint8Array(h))}catch(f){throw l(f),f}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},Em=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sP=Em&&typeof ReadableStream=="function",tU=Em&&(typeof TextEncoder=="function"?(n=>t=>n.encode(t))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),rP=(n,...t)=>{try{return!!n(...t)}catch{return!1}},nU=sP&&rP(()=>{let n=!1;const t=new Request(Jn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!t}),X2=64*1024,Gy=sP&&rP(()=>oe.isReadableStream(new Response("").body)),xp={stream:Gy&&(n=>n.body)};Em&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!xp[t]&&(xp[t]=oe.isFunction(n[t])?e=>e[t]():(e,i)=>{throw new je(`Response type '${t}' is not supported`,je.ERR_NOT_SUPPORT,i)})})})(new Response);const iU=async n=>{if(n==null)return 0;if(oe.isBlob(n))return n.size;if(oe.isSpecCompliantForm(n))return(await new Request(Jn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(n)||oe.isArrayBuffer(n))return n.byteLength;if(oe.isURLSearchParams(n)&&(n=n+""),oe.isString(n))return(await tU(n)).byteLength},sU=async(n,t)=>{const e=oe.toFiniteNumber(n.getContentLength());return e??iU(t)},rU=Em&&(async n=>{let{url:t,method:e,data:i,signal:s,cancelToken:r,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:f,headers:h,withCredentials:m="same-origin",fetchOptions:b}=iP(n);f=f?(f+"").toLowerCase():"text";let w=Jz([s,r&&r.toAbortSignal()],o),_;const k=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let x;try{if(u&&nU&&e!=="get"&&e!=="head"&&(x=await sU(h,i))!==0){let R=new Request(t,{method:"POST",body:i,duplex:"half"}),V;if(oe.isFormData(i)&&(V=R.headers.get("content-type"))&&h.setContentType(V),R.body){const[I,z]=q2(x,Sp(G2(u)));i=Y2(R.body,X2,I,z)}}oe.isString(m)||(m=m?"include":"omit");const A="credentials"in Request.prototype;_=new Request(t,{...b,signal:w,method:e.toUpperCase(),headers:h.normalize().toJSON(),body:i,duplex:"half",credentials:A?m:void 0});let L=await fetch(_);const E=Gy&&(f==="stream"||f==="response");if(Gy&&(l||E&&k)){const R={};["status","statusText","headers"].forEach(F=>{R[F]=L[F]});const V=oe.toFiniteNumber(L.headers.get("content-length")),[I,z]=l&&q2(V,Sp(G2(l),!0))||[];L=new Response(Y2(L.body,X2,I,()=>{z&&z(),k&&k()}),R)}f=f||"text";let P=await xp[oe.findKey(xp,f)||"text"](L,n);return!E&&k&&k(),await new Promise((R,V)=>{tP(R,V,{data:P,headers:gi.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:_})})}catch(A){throw k&&k(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,n,_),{cause:A.cause||A}):je.from(A,A&&A.code,n,_)}}),Ky={http:wz,xhr:Xz,fetch:rU};oe.forEach(Ky,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const J2=n=>`- ${n}`,oU=n=>oe.isFunction(n)||n===null||n===!1,oP={getAdapter:n=>{n=oe.isArray(n)?n:[n];const{length:t}=n;let e,i;const s={};for(let r=0;r<t;r++){e=n[r];let o;if(i=e,!oU(e)&&(i=Ky[(o=String(e)).toLowerCase()],i===void 0))throw new je(`Unknown adapter '${o}'`);if(i)break;s[o||"#"+r]=i}if(!i){const r=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=t?r.length>1?`since :
`+r.map(J2).join(`
`):" "+J2(r[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:Ky};function E0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new cc(null,n)}function Z2(n){return E0(n),n.headers=gi.from(n.headers),n.data=T0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),oP.getAdapter(n.adapter||qd.adapter)(n).then(function(i){return E0(n),i.data=T0.call(n,n.transformResponse,i),i.headers=gi.from(i.headers),i},function(i){return eP(i)||(E0(n),i&&i.response&&(i.response.data=T0.call(n,n.transformResponse,i.response),i.response.headers=gi.from(i.response.headers))),Promise.reject(i)})}const aP="1.9.0",Am={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{Am[n]=function(i){return typeof i===n||"a"+(t<1?"n ":" ")+n}});const Q2={};Am.transitional=function(t,e,i){function s(r,o){return"[Axios v"+aP+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,l)=>{if(t===!1)throw new je(s(o," has been removed"+(e?" in "+e:"")),je.ERR_DEPRECATED);return e&&!Q2[o]&&(Q2[o]=!0,console.warn(s(o," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(r,o,l):!0}};Am.spelling=function(t){return(e,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function aU(n,t,e){if(typeof n!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const r=i[s],o=t[r];if(o){const l=n[r],u=l===void 0||o(l,r,n);if(u!==!0)throw new je("option "+r+" must be "+u,je.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new je("Unknown option "+r,je.ERR_BAD_OPTION)}}const Xh={assertOptions:aU,validators:Am},Is=Xh.validators;let ca=class{constructor(t){this.defaults=t||{},this.interceptors={request:new j2,response:new j2}}async request(t,e){try{return await this._request(t,e)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=ba(this.defaults,e);const{transitional:i,paramsSerializer:s,headers:r}=e;i!==void 0&&Xh.assertOptions(i,{silentJSONParsing:Is.transitional(Is.boolean),forcedJSONParsing:Is.transitional(Is.boolean),clarifyTimeoutError:Is.transitional(Is.boolean)},!1),s!=null&&(oe.isFunction(s)?e.paramsSerializer={serialize:s}:Xh.assertOptions(s,{encode:Is.function,serialize:Is.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Xh.assertOptions(e,{baseUrl:Is.spelling("baseURL"),withXsrfToken:Is.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=r&&oe.merge(r.common,r[e.method]);r&&oe.forEach(["delete","get","head","post","put","patch","common"],_=>{delete r[_]}),e.headers=gi.concat(o,r);const l=[];let u=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(e)===!1||(u=u&&k.synchronous,l.unshift(k.fulfilled,k.rejected))});const f=[];this.interceptors.response.forEach(function(k){f.push(k.fulfilled,k.rejected)});let h,m=0,b;if(!u){const _=[Z2.bind(this),void 0];for(_.unshift.apply(_,l),_.push.apply(_,f),b=_.length,h=Promise.resolve(e);m<b;)h=h.then(_[m++],_[m++]);return h}b=l.length;let w=e;for(m=0;m<b;){const _=l[m++],k=l[m++];try{w=_(w)}catch(x){k.call(this,x);break}}try{h=Z2.call(this,w)}catch(_){return Promise.reject(_)}for(m=0,b=f.length;m<b;)h=h.then(f[m++],f[m++]);return h}getUri(t){t=ba(this.defaults,t);const e=nP(t.baseURL,t.url,t.allowAbsoluteUrls);return J5(e,t.params,t.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(t){ca.prototype[t]=function(e,i){return this.request(ba(i||{},{method:t,url:e,data:(i||{}).data}))}});oe.forEach(["post","put","patch"],function(t){function e(i){return function(r,o,l){return this.request(ba(l||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}ca.prototype[t]=e(),ca.prototype[t+"Form"]=e(!0)});let lU=class lP{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(r){e=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(l=>{i.subscribe(l),r=l}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},t(function(r,o,l){i.reason||(i.reason=new cc(r,o,l),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=i=>{t.abort(i)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new lP(function(s){t=s}),cancel:t}}};function cU(n){return function(e){return n.apply(null,e)}}function uU(n){return oe.isObject(n)&&n.isAxiosError===!0}const Yy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yy).forEach(([n,t])=>{Yy[t]=n});function cP(n){const t=new ca(n),e=F5(ca.prototype.request,t);return oe.extend(e,ca.prototype,t,{allOwnKeys:!0}),oe.extend(e,t,null,{allOwnKeys:!0}),e.create=function(s){return cP(ba(n,s))},e}const kt=cP(qd);kt.Axios=ca;kt.CanceledError=cc;kt.CancelToken=lU;kt.isCancel=eP;kt.VERSION=aP;kt.toFormData=Tm;kt.AxiosError=je;kt.Cancel=kt.CanceledError;kt.all=function(t){return Promise.all(t)};kt.spread=cU;kt.isAxiosError=uU;kt.mergeConfig=ba;kt.AxiosHeaders=gi;kt.formToJSON=n=>Q5(oe.isHTMLForm(n)?new FormData(n):n);kt.getAdapter=oP.getAdapter;kt.HttpStatusCode=Yy;kt.default=kt;const{Axios:Yee,AxiosError:Xee,CanceledError:Jee,isCancel:Zee,CancelToken:Qee,VERSION:ete,all:tte,Cancel:nte,isAxiosError:ite,spread:ste,toFormData:rte,AxiosHeaders:ote,HttpStatusCode:ate,formToJSON:lte,getAdapter:cte,mergeConfig:ute}=kt;let uP=null;const Pm=n=>{uP=n},dP=()=>uP,fP=void 0,Cn=kt.create({baseURL:fP,withCredentials:!0}),$n=async()=>{try{return(await Cn.get("/csrf/csrfToken")).data.csrfToken}catch(n){throw console.error("CSRF 토큰을 가져오는 중 오류 발생:",n),new Error("CSRF 토큰을 가져오는 데 실패했습니다.")}};let ex=!1;const dU=()=>{ex||(ex=!0,Cn.interceptors.request.use(n=>{const t=dP();return t&&(n.headers.Authorization=`Bearer ${t}`),n},n=>Promise.reject(n)),Cn.interceptors.response.use(n=>n,async n=>{var e,i;const t=n.config;if(((e=n.response)==null?void 0:e.status)===429){const s=n.response.data.message||"너무 많은 요청이 발생했습니다. 잠시 후 다시 시도해주세요.";return alert(s),Promise.reject(n)}if(((i=n.response)==null?void 0:i.status)===401&&!t._retry){t._retry=!0;try{const s=await $n(),{data:r}=await kt.post(`${fP}/auth/token/refresh`,{},{withCredentials:!0,headers:{"X-CSRF-Token":s}}),o=r.accessToken;return Pm(o),t.headers.Authorization=`Bearer ${o}`,Cn(t)}catch(s){return Promise.reject(s)}}return Promise.reject(n)}))},fU="modulepreload",hU=function(n){return"/wanna-trip/"+n},tx={},pU=function(t,e,i){let s=Promise.resolve();if(e&&e.length>0){let o=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=o(e.map(f=>{if(f=hU(f),f in tx)return;tx[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const b=document.createElement("link");if(b.rel=h?"stylesheet":fU,h||(b.as="script"),b.crossOrigin="",b.href=f,u&&b.setAttribute("nonce",u),document.head.appendChild(b),h)return new Promise((w,_)=>{b.addEventListener("load",w),b.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function r(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})};var Jh={exports:{}},mU=Jh.exports,nx;function gU(){return nx||(nx=1,function(n,t){(function(e,i){n.exports=i()})(mU,function(){var e=1e3,i=6e4,s=36e5,r="millisecond",o="second",l="minute",u="hour",f="day",h="week",m="month",b="quarter",w="year",_="date",k="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Y){var W=["th","st","nd","rd"],M=Y%100;return"["+Y+(W[(M-20)%10]||W[M]||W[0])+"]"}},E=function(Y,W,M){var U=String(Y);return!U||U.length>=W?Y:""+Array(W+1-U.length).join(M)+Y},P={s:E,z:function(Y){var W=-Y.utcOffset(),M=Math.abs(W),U=Math.floor(M/60),K=M%60;return(W<=0?"+":"-")+E(U,2,"0")+":"+E(K,2,"0")},m:function Y(W,M){if(W.date()<M.date())return-Y(M,W);var U=12*(M.year()-W.year())+(M.month()-W.month()),K=W.clone().add(U,m),Q=M-K<0,B=W.clone().add(U+(Q?-1:1),m);return+(-(U+(M-K)/(Q?K-B:B-K))||0)},a:function(Y){return Y<0?Math.ceil(Y)||0:Math.floor(Y)},p:function(Y){return{M:m,y:w,w:h,d:f,D:_,h:u,m:l,s:o,ms:r,Q:b}[Y]||String(Y||"").toLowerCase().replace(/s$/,"")},u:function(Y){return Y===void 0}},R="en",V={};V[R]=L;var I="$isDayjsObject",z=function(Y){return Y instanceof H||!(!Y||!Y[I])},F=function Y(W,M,U){var K;if(!W)return R;if(typeof W=="string"){var Q=W.toLowerCase();V[Q]&&(K=Q),M&&(V[Q]=M,K=Q);var B=W.split("-");if(!K&&B.length>1)return Y(B[0])}else{var Z=W.name;V[Z]=W,K=Z}return!U&&K&&(R=K),K||!U&&R},C=function(Y,W){if(z(Y))return Y.clone();var M=typeof W=="object"?W:{};return M.date=Y,M.args=arguments,new H(M)},N=P;N.l=F,N.i=z,N.w=function(Y,W){return C(Y,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var H=function(){function Y(M){this.$L=F(M.locale,null,!0),this.parse(M),this.$x=this.$x||M.x||{},this[I]=!0}var W=Y.prototype;return W.parse=function(M){this.$d=function(U){var K=U.date,Q=U.utc;if(K===null)return new Date(NaN);if(N.u(K))return new Date;if(K instanceof Date)return new Date(K);if(typeof K=="string"&&!/Z$/i.test(K)){var B=K.match(x);if(B){var Z=B[2]-1||0,ae=(B[7]||"0").substring(0,3);return Q?new Date(Date.UTC(B[1],Z,B[3]||1,B[4]||0,B[5]||0,B[6]||0,ae)):new Date(B[1],Z,B[3]||1,B[4]||0,B[5]||0,B[6]||0,ae)}}return new Date(K)}(M),this.init()},W.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},W.$utils=function(){return N},W.isValid=function(){return this.$d.toString()!==k},W.isSame=function(M,U){var K=C(M);return this.startOf(U)<=K&&K<=this.endOf(U)},W.isAfter=function(M,U){return C(M)<this.startOf(U)},W.isBefore=function(M,U){return this.endOf(U)<C(M)},W.$g=function(M,U,K){return N.u(M)?this[U]:this.set(K,M)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(M,U){var K=this,Q=!!N.u(U)||U,B=N.p(M),Z=function(Ee,_e){var Ae=N.w(K.$u?Date.UTC(K.$y,_e,Ee):new Date(K.$y,_e,Ee),K);return Q?Ae:Ae.endOf(f)},ae=function(Ee,_e){return N.w(K.toDate()[Ee].apply(K.toDate("s"),(Q?[0,0,0,0]:[23,59,59,999]).slice(_e)),K)},re=this.$W,ge=this.$M,he=this.$D,ce="set"+(this.$u?"UTC":"");switch(B){case w:return Q?Z(1,0):Z(31,11);case m:return Q?Z(1,ge):Z(0,ge+1);case h:var de=this.$locale().weekStart||0,pe=(re<de?re+7:re)-de;return Z(Q?he-pe:he+(6-pe),ge);case f:case _:return ae(ce+"Hours",0);case u:return ae(ce+"Minutes",1);case l:return ae(ce+"Seconds",2);case o:return ae(ce+"Milliseconds",3);default:return this.clone()}},W.endOf=function(M){return this.startOf(M,!1)},W.$set=function(M,U){var K,Q=N.p(M),B="set"+(this.$u?"UTC":""),Z=(K={},K[f]=B+"Date",K[_]=B+"Date",K[m]=B+"Month",K[w]=B+"FullYear",K[u]=B+"Hours",K[l]=B+"Minutes",K[o]=B+"Seconds",K[r]=B+"Milliseconds",K)[Q],ae=Q===f?this.$D+(U-this.$W):U;if(Q===m||Q===w){var re=this.clone().set(_,1);re.$d[Z](ae),re.init(),this.$d=re.set(_,Math.min(this.$D,re.daysInMonth())).$d}else Z&&this.$d[Z](ae);return this.init(),this},W.set=function(M,U){return this.clone().$set(M,U)},W.get=function(M){return this[N.p(M)]()},W.add=function(M,U){var K,Q=this;M=Number(M);var B=N.p(U),Z=function(ge){var he=C(Q);return N.w(he.date(he.date()+Math.round(ge*M)),Q)};if(B===m)return this.set(m,this.$M+M);if(B===w)return this.set(w,this.$y+M);if(B===f)return Z(1);if(B===h)return Z(7);var ae=(K={},K[l]=i,K[u]=s,K[o]=e,K)[B]||1,re=this.$d.getTime()+M*ae;return N.w(re,this)},W.subtract=function(M,U){return this.add(-1*M,U)},W.format=function(M){var U=this,K=this.$locale();if(!this.isValid())return K.invalidDate||k;var Q=M||"YYYY-MM-DDTHH:mm:ssZ",B=N.z(this),Z=this.$H,ae=this.$m,re=this.$M,ge=K.weekdays,he=K.months,ce=K.meridiem,de=function(_e,Ae,Le,Ye){return _e&&(_e[Ae]||_e(U,Q))||Le[Ae].slice(0,Ye)},pe=function(_e){return N.s(Z%12||12,_e,"0")},Ee=ce||function(_e,Ae,Le){var Ye=_e<12?"AM":"PM";return Le?Ye.toLowerCase():Ye};return Q.replace(A,function(_e,Ae){return Ae||function(Le){switch(Le){case"YY":return String(U.$y).slice(-2);case"YYYY":return N.s(U.$y,4,"0");case"M":return re+1;case"MM":return N.s(re+1,2,"0");case"MMM":return de(K.monthsShort,re,he,3);case"MMMM":return de(he,re);case"D":return U.$D;case"DD":return N.s(U.$D,2,"0");case"d":return String(U.$W);case"dd":return de(K.weekdaysMin,U.$W,ge,2);case"ddd":return de(K.weekdaysShort,U.$W,ge,3);case"dddd":return ge[U.$W];case"H":return String(Z);case"HH":return N.s(Z,2,"0");case"h":return pe(1);case"hh":return pe(2);case"a":return Ee(Z,ae,!0);case"A":return Ee(Z,ae,!1);case"m":return String(ae);case"mm":return N.s(ae,2,"0");case"s":return String(U.$s);case"ss":return N.s(U.$s,2,"0");case"SSS":return N.s(U.$ms,3,"0");case"Z":return B}return null}(_e)||B.replace(":","")})},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(M,U,K){var Q,B=this,Z=N.p(U),ae=C(M),re=(ae.utcOffset()-this.utcOffset())*i,ge=this-ae,he=function(){return N.m(B,ae)};switch(Z){case w:Q=he()/12;break;case m:Q=he();break;case b:Q=he()/3;break;case h:Q=(ge-re)/6048e5;break;case f:Q=(ge-re)/864e5;break;case u:Q=ge/s;break;case l:Q=ge/i;break;case o:Q=ge/e;break;default:Q=ge}return K?Q:N.a(Q)},W.daysInMonth=function(){return this.endOf(m).$D},W.$locale=function(){return V[this.$L]},W.locale=function(M,U){if(!M)return this.$L;var K=this.clone(),Q=F(M,U,!0);return Q&&(K.$L=Q),K},W.clone=function(){return N.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},Y}(),G=H.prototype;return C.prototype=G,[["$ms",r],["$s",o],["$m",l],["$H",u],["$W",f],["$M",m],["$y",w],["$D",_]].forEach(function(Y){G[Y[1]]=function(W){return this.$g(W,Y[0],Y[1])}}),C.extend=function(Y,W){return Y.$i||(Y(W,H,C),Y.$i=!0),C},C.locale=F,C.isDayjs=z,C.unix=function(Y){return C(1e3*Y)},C.en=V[R],C.Ls=V,C.p={},C})}(Jh)),Jh.exports}var bU=gU();const Xy=ic(bU);var Zh={exports:{}},yU=Zh.exports,ix;function vU(){return ix||(ix=1,function(n,t){(function(e,i){n.exports=i()})(yU,function(){return function(e,i,s){var r=function(o,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var u;l.length===1&&l[0].length>0&&(l=l[0]),u=(l=l.filter(function(h){return h}))[0];for(var f=1;f<l.length;f+=1)l[f].isValid()&&!l[f][o](u)||(u=l[f]);return u};s.max=function(){var o=[].slice.call(arguments,0);return r("isAfter",o)},s.min=function(){var o=[].slice.call(arguments,0);return r("isBefore",o)}}})}(Zh)),Zh.exports}var wU=vU();const _U=ic(wU);Xy.extend(_U);const hP=async()=>{const{kakaoLoginStateAtom:n}=await pU(async()=>{const{kakaoLoginStateAtom:t}=await Promise.resolve().then(()=>LF);return{kakaoLoginStateAtom:t}},void 0);return n},pP=async n=>{n({}),Pm(""),sessionStorage.removeItem("WannaTriploginState"),localStorage.removeItem("WannaTriploginState");try{const t=await hP();b1().set(t,"")}catch(t){console.error("카카오 로그인 상태 초기화 실패",t)}},sx=async()=>{try{const n=await hP();b1().set(n,"")}catch(n){console.error("카카오 로그인 상태 초기화 실패",n)}},kU=({children:n})=>{const[t,e]=Zl(ga),[i,s]=S.useState(!1),r=To(),o=pd(ga);return S.useEffect(()=>{const l=localStorage.getItem("WannaTriploginState")||sessionStorage.getItem("WannaTriploginState");if(l){const f=JSON.parse(l);t.isLoggedIn||e(f)}else{s(!0);return}if(!t.isLoggedIn){s(!0);return}const u=async()=>{try{const f=await $n(),h=await Cn.post("/auth/token/refresh",{},{headers:{"X-CSRF-Token":f}});if(h.data.success){Pm(h.data.accessToken);const{email:m,name:b,permission:w,userUuid:_}=h.data;let k=po.USER;w==="admin"?k=po.ADMIN:w==="superadmin"&&(k=po.SUPER_ADMIN);const x={isLoggedIn:!0,userUuid:_,loginType:t.loginType||"normal",permission:k,email:m,userName:b};JSON.stringify(t)!==JSON.stringify(x)&&e(x),localStorage.getItem("WannaTriploginState")?localStorage.setItem("WannaTriploginState",JSON.stringify(x)):sessionStorage.setItem("WannaTriploginState",JSON.stringify(x))}}catch(f){console.error("자동 로그인 유지 실패, 로그아웃 처리:",f),await pP(o),alert("세션이 만료되었습니다. 다시 로그인해주세요."),r("/login")}finally{s(!0)}};t.isLoggedIn&&u(),dU()},[e,r,t,o]),i?D($v,{children:n}):null},CU="/wanna-trip/assets/main1-5Pl0hRS9.png",SU="/wanna-trip/assets/main2-CvXslXkM.png",xU=()=>{const n=To(),t=S.useCallback(()=>{n("/login")},[n]);return D(Ao,{maxWidth:"xl",children:D(Se,{height:"calc(100vh - 82px)",children:Ce(Se,{height:"100%",py:5,gap:3,justifyContent:"space-evenly",alignItems:{xs:"center",md:"flex-start"},position:"relative",children:[D(Ht,{width:{xs:"200px",sm:"250px",md:"300px",lg:"400px"},position:{xs:"relative",md:"absolute"},bottom:{xs:0,md:"10%"},right:0,sx:{aspectRatio:"1/1"},children:[CU,SU].map((e,i)=>D(ks,{elevation:3,sx:{width:"90%",aspectRatio:"1/1",backgroundImage:`url(${e})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",borderRadius:5,position:"absolute",bottom:i===0?0:"10%",left:i===0?0:"10%",zIndex:i===0?1:0}},`main-image-${i}`))}),Ce(Se,{gap:1,alignItems:"flex-start",children:[Ce(Be,{variant:"h2",sx:{fontSize:{xs:Xe.typography.h6.fontSize,sm:Xe.typography.h3.fontSize,md:Xe.typography.h2.fontSize,lg:Xe.typography.h1.fontSize}},children:["세상에서 제일"," ",D(Ht,{component:"span",sx:{color:Xe.palette.primary.main},children:"간단한 계획서"}),"는"]}),Ce(Be,{variant:"h2",sx:{fontSize:{xs:Xe.typography.h6.fontSize,sm:Xe.typography.h3.fontSize,md:Xe.typography.h2.fontSize,lg:Xe.typography.h1.fontSize}},children:[D(Ht,{component:"span",sx:{color:Xe.palette.primary.main},children:"여행갈래"}),"로 시작!"]}),D(Se,{direction:{xs:"column",sm:"row"},children:["여행 계획을 더욱 빠르고 스마트하게","만들어보세요 !"].map((e,i)=>D(Be,{variant:"h5",color:"black",display:"inline-block",whiteSpace:"nowrap",sx:{fontSize:{xs:Xe.typography.subtitle1.fontSize,md:Xe.typography.h6.fontSize,lg:Xe.typography.h5.fontSize}},children:e},`main-slogan-${i}`))})]}),D(Ht,{children:D(bn,{variant:"contained",onClick:t,sx:{py:{xs:2,md:3},px:{xs:5,md:9},borderRadius:3},children:D(Be,{variant:"h5",color:"white",children:"바로 시작하기"})})})]})})})},bd=Bt(J.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),yd=Bt(J.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),TU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA0qSURBVHgB5Z1/cFTVFcfPfdkkm1+ywVZIcGCFNkwbaqJYqibBdQawVVpxrEDHqYCjFsQf0ARI/zEJ/xg2qcZOVaptRTqo4FiD0loBx7UkSK1oUHBMaDDMSEJJmyxmsxuS3X3e79196ybZn8l9GzZ8ZsLdfe9lmffdc88597x7bxhNINXV1San02nxktesMlbEiMyMmBnnVFLNIy638/MdKm/5Twdj7DSRYss2Glv459hpgmCUQDTB+P96ExdhWQiRxgSE5Y2NqWxvZmamLZGCJkTAispKC1M9j3LRLPytSTtuNBopPz+fZuTPoLy8PMrIyKAZefniXG5u7rDPGBgYoJ6eHnLxtrPzDPXa7XSGt52dneJcMPymdkBMq9XaSDqjm4CwNofT+SgxdQMFiTZ79mya9/1CLtwMmsNfywAitp9qp+OfnaBTp04FjgvLZFSTQim22traDtIB6QKGEg7WdN3862hhaZmwOj3p7e0VYu4/eEC8BsJ3qmxHvdVaQ5KRKuCmyk2rufev4l3VjPewtiWLlkiztHiBRR5qOhSwSs0i62rrdpAkpAhYWVlpdqueF8jn4yZcuJG0cwF3v7o7yCJZYwpTNsro1uMWcNOWTQgO1fylCd0TwpWVltLFyIdHPwzu2nbGaON4rXHMAgpf53JW8YwNvo4KeWBYuXyF7j5uvEA8iAgxgUKswbrNupHGyJgERJf1qJ7XueUVX+xWF45DzU104MB+kRZxEVpSWModY+nScQvoF+9dBApE13UPrB2VsyULsMZnn9suWgQYLuLN8YqYEs/FweIhAb7/3vuSVjyAxH1e4TyR9vQ5HCY+Mlq2sGzh3qampphHMjELOFI8WF5OTg4lOxCxuLiYWltbxyRiTAKGEu9iDxbxkGpIHbOISgyfT/6AMSnF08gwZtDaX62lfD4mx73inpFpRPu9qAJWbNn8JKItfN3qX66alOJpQMTV96wWfh337BRpWmQidmExNCOqhWiPrH84qQNGrGiBBXnikNt9/Y0lpecPNzcfCXd9WAHh97yq+jp/abz1x7fS3Llz6VIBIhpSU6m1rRWJ3vXcH+4O5w/DdmHuA57kjQlVlGRLkmVQVlIqRlcck3+cH5KQAqLromKMLrtk0WK6VFmxfDn3i8LnW/zubBQhRyK8QPAFItGKu5aLOl4iGGz5iNztbTR0jLf/aSO1v4+8jj5xTsnOIWVanmhTi67lP/MprfhaSgQY8r3x5htipJKVkXXNyMcFhpG/ULF5cxWeVWhFUD2BQK7XXiHXX18JiBXuOu384LGj/N/nKWV6nhAy6577+Ot80gt05eMnjqOmaHYMOFE4qQ4+P8wCgxPmtTzf06ueBzGcLz5PTi6cDIy3LNVVSNQTt/MxM8eenZF1VbAVDvOBHvJYIB6E00s8J7e4nruXSRMPDLy9j+zl60SrB9Bitk8Pk98KAwwPIrwcj6a0RJ+o63j6CXI880TE7jpWPGe76CvrVurnlq0HKNkJVPXR4OMBAcs3ly/TSlRIJGUCwey/XifV6sLh2r+Pi9lJsoEV+gcSporKCot2PCCgwpTb0eqRtqB7+Zy/vig8sOT+9lndfKEWVJmqBKxQCLhhwwZegaDVeD1n9hySCbot0hK90Vs8oA0oeJZi0QoNIo1JSUuxoA0yUynAqcfTbRnP8zLvXCnSE8Oc74q8D8AFuNtPii8Cn+cd0UUTIR5AsQHBhKc0JucFp4UfahQCovtyC+RDF3m+D069f+cfY7oWwuU8uFGkI6GAkGk8gcYPBMYX4+CfDSETJZ4GZlXgObPqVS38baPmA/FGaurSv/P5mJx5Gre2y3c1hhUvFLgWoqWXWBIqHsCUFD8iZjD4P0N6ai8qEFurJM18GDhN/c8uIFdTHnntaWEvgxCXbX6Mko3Hqh8TT/N4Up2rGIzGYhxEJVYW3lNbKf3qHrrs7pOkmAZDXoOul4zigbx8n8XDD/Iu7LXgTX6+vG7g7f2naJUpgzTl3s/J+MPuUdeg6yUrmlZeD5nhA814k2uaSjJQe9/jXbgj8J4ZPZS5+EvKXPRl4FjWqvsT6rdkk++fw6gqapHChyazxEFJFigEDIFxQTeZ1p8QXdq45DZKZjIyfM+FMCUZaYxICDNkPSxyfBL2FLq0qXxaXNZnffMCySDbyOjBxWkkgxl5vkjMVJ+AZrzJnSongVZdHRHPK1fGZ31vf+omWcgSMBj4QL8FZpAM1AunI55nOUU0UZw97yUZaKM1FF9ierAeF0MTtuJgQpAvYDQMUR/268Z/z6skG/kCpkYWSA1KcRJNllH+ogTFv0glMH94vLCUKBbmiuwj9SQ7naTgGnBpL+3SLTBakPjq3Fs0UUyfIud2gyardxhUnwWasepHSi0wdyFR996Qp066p9CWDka7ipyUk5pJsfDS+tiyg6ZWDz1zcDDs+e9Mk2crLpdvZZTKVLuBsGhPVUctlxorLDu0Be52zaGGfl+98eXWffTAvOUUC9NitJr2c0NSPicWsNQMwPgU8npbxMEuOQ9iWO5NwwJJn5oqhNPEA6+0/Y06+8+RLM7aVWpu80S8pqQgrtnMEemxB7rwaYXX9zvwBuvNZKFc+bBouzyZtP58ibC+YPqG+mlTcx3JYmfTIDkGIqcoRbNkWqCmldemeAY9NnGwq4tkocx8hN4bzKNVdovwe6Fo6/2Caj74PY2X1z5w09ufRB7uFc1MkRZAQJdfwGxjdovS0NAgFjK7XC4xhUEKPFlumV4jum8k9n1ho01N1jF3Z4j3zMHoxYZbrjaQLODqfGtLWAemeIivhY8QRdiU2Y0RJHJSs6JeZzvzAa19t1qIGStdXPB172yj371/OOq106cwqQK2t7f7XjDVhkZ41htLbjAyxla63UPSZmSlp6RRGv95/2xL1Gsd3Ce+x4Xc12ET1ojfzUnLEi2Az/z/gF2I/PSnu+iJj3dQp7OThrL/Jc4bBr4X9rO33mWU2n3//o+3RB6oKKymuan5c/HVwA8a0hU778ImZNmyKjO/KLhNCIKoGwtd/mtjvR5cmNpInozPKePc/cTc3xp27s4FBuH/ZNHT2xNYOpuZnmlDK74avx8UB5qamkgm5desoflXFJKeuLmA/TMeJ9Xwv8AxJM4PLpI0dvMTWHfMaIc2xS1g2zyrfgrtv/2rGGVSV7qZCnLNpCdeLl7frHK6kPu68Hs1P5crHsAqT8DdXWCoFRCwvrbexhu7b8m8pGjsB8Fk15J6Wlmg/7OQWXOOUf09qlS/B45/dty/KJF1WB//ZjOL4f8LY8IKDxzcT3qA7ly14CHKz7qC9GBlwVL+RdVRXk706B8vhzTXxtRhsw+GCegeGGzgDYKJdCvUWHqVhbbfXE1LzRaSxfxvF/LPrOFf0GrSA2gB/wfrww4gweeGhagjR44M3FhWihBs6eURR69J5khRLFcuoJ9yMfsG+3ka4xSpSlyfwd3CDy4voKofPSRyTr2sGmB+tCi28DhhrR2+F82oEi3myqSmp32Mmfq3L/0ZlSZokc3RcyfEz0k+xOt0dvOUpjsgKsSC6AVTZtH07CtEVMdPLIn6eMGSr92v7hHWV7fNetXI86HXiWChjUovYMLRb7ZUSssLkw3kfduf+4MveDBaE2qDipChyn+hDePjPXv20KXKgYMHtcjbGG53j7Cx3sBS1vDGjs1rZCfXyQA27PHv7GHHHjPhrgsroNh8QfWF7P3vHBDmfKmAe/0maaaIG/REHCgebj585IbSG3Ldbs/1J7glFhYWiqWgkxnN7zkcDgSIp+q21dVGuj5quu654KnmTQt8wYt/2Rn8SG/SgXvDPfq3QWnh4m2I9jtRBUShgfvDOxDGUS/EtzMZRcQ94d5wjyJh5vccy+/FVOvBau2FZWV7sYa4r6/P1NrWRsVFRWK3i8nAaPGUmDfgiblYFkrEuQUFSe8T4fP+9MKfxyQeiKvaOFLEZA8sWsDo7u4ek3gg7nKtJqKXVAsfH04/+tFR0ZVnzpxJyQTyvF0vv6RFW2w+9pOEbD4WTPmW8gZGvoV3KDwsXrSIpubKmayuF/B3u/noCr0HIFXJysiqHuvOv+PfgNE3bhY7fGibVCRqn4V4gdUhQfZPY7FjoFBvrW+gcSBtC1BskwLfiPcQcsVdKy6qLUBRJA7UOBnZDJSy5qLYAjQY3ya0rErbYBsClpaWiQV6E8FI4RAoUFG+6DahHUlFZUU1U5VVmpBa18ZSUb19JHwcih94OBY0adSOYmi2MbtB9i7num3ELbo1eSzBFglgldgRCAu7ZS3ugYVhyhkCw4hHEboJp5GQreCxHwNT2DIu5qrg49jUbAYXEUtIc00m0WLBD9asjCziatZ0BnNTeJ2yq6tLiHZm9Fbw/Bk3s6nM+5T/SaOuJERADSyT73P2WSAm7+I3SftjBIyh9LbXq3ptOZk5k++PEYRDbKU84CjmNQ0LF3MW1p6RKhb+mClo/30gRCKxX0GH+HMYXvUYXidasJF8DaXr+JdI7s9hAAAAAElFTkSuQmCC",EU="/wanna-trip/assets/kakao-CGbHIorm.png";class Bu extends Error{}Bu.prototype.name="InvalidTokenError";function AU(n){return decodeURIComponent(atob(n).replace(/(.)/g,(t,e)=>{let i=e.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function PU(n){let t=n.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return AU(t)}catch{return atob(t)}}function mP(n,t){if(typeof n!="string")throw new Bu("Invalid token specified: must be a string");t||(t={});const e=t.header===!0?0:1,i=n.split(".")[e];if(typeof i!="string")throw new Bu(`Invalid token specified: missing part #${e+1}`);let s;try{s=PU(i)}catch(r){throw new Bu(`Invalid token specified: invalid base64 for part #${e+1} (${r.message})`)}try{return JSON.parse(s)}catch(r){throw new Bu(`Invalid token specified: invalid json for part #${e+1} (${r.message})`)}}const ns=n=>{const{label:t,endAdornment:e,...i}=n;return Ce(S5,{variant:"outlined",fullWidth:!0,sx:{"& label.MuiFormLabel-root":{transform:"translate(14px, 16px)"},"& label.MuiFormLabel-root.MuiFormLabel-filled, & label.MuiFormLabel-root.Mui-focused":{transform:"translate(14px, 6px) scale(0.65)"},"& legend":{display:"none"}},children:[D(x5,{children:t}),D(_m,{endAdornment:e,label:t,...i,sx:{fontWeight:700,color:i.readOnly?"rgba(0, 0, 0, 0.38)":Xe.palette.black.main,borderRadius:"8px",overflow:"hidden",backgroundColor:i.readOnly?Xe.palette.secondary.main:"white","& input":{transform:"translateY(5px)"},"& fieldset":{top:0}}})]})},ua=n=>{const{to:t,children:e,...i}=n;return D(CA,{to:t,...i,css:{textDecoration:"none"},children:e})},vd=n=>{const{title:t,variant:e="h6"}=n;return Ce(Se,{children:[D(Be,{variant:e,display:"inline",alignSelf:"flex-start",padding:"6px 32px",position:"relative",sx:{"&:after":{content:'""',position:"absolute",left:"0",bottom:"-2.4px",width:"100%",height:"2.4px",background:Xe.palette.primary.main,borderTopLeftRadius:"50px",borderBottomLeftRadius:"50px",zIndex:2}},children:t}),D(fd,{})]})},RU=n=>{switch(n){case"normal":return"일반";case"kakao":return"카카오";case"google":return"구글";default:return n}},rx=async n=>{const{email:t,socialInfo:e,csrfToken:i}=n;try{const s=await Cn.post("/auth/link/account",{email:t,socialInfo:e},{headers:{"X-CSRF-Token":i}});if(s.data.success){const r=RU(e.socialType);return alert(`${e.name}님 ${r} 계정 연동 완료!
이제 ${r}로 간편하게 로그인할 수 있습니다.`),{success:!0,data:s.data}}else return alert("계정 연동에 실패했습니다."),await sx(),{success:!1}}catch(s){return console.error("계정 연동 실패:",s),await sx(),alert("계정 연동에 실패했습니다. 다시 시도해주세요."),{success:!1}}},yu=(n,t,e=!0,i)=>{const{accessToken:s,permissions:r,name:o,userUuid:l}=n;Pm(s);let u=po.USER;switch(r){case"admin":u=po.ADMIN;break;case"superadmin":u=po.SUPER_ADMIN;break}const f={isLoggedIn:!0,userUuid:l,email:(i==null?void 0:i.email)||n.email||"",userName:o,loginType:(i==null?void 0:i.loginType)||"normal",permission:u};return t(f),e?localStorage.setItem("WannaTriploginState",JSON.stringify(f)):sessionStorage.setItem("WannaTriploginState",JSON.stringify(f)),f},OU=async(n,t)=>{const e=await $n();return Cn.post("/auth/login/google",{googleEmail:n,googleName:t},{headers:{"X-CSRF-Token":e}})},MU=async n=>kt.post("https://kauth.kakao.com/oauth/token",null,{params:{grant_type:"authorization_code",client_id:"45da112f4a3385c3f35c2ca8c4da8cb6",redirect_uri:"https://vactor0911.github.io/wanna-trip/login",code:n}}),IU=async n=>{const t=await $n();return Cn.post("/auth/login/kakao",{KaKaoAccessToken:n},{headers:{"X-CSRF-Token":t}})},LU=async(n,t)=>{const e=await $n();return Cn.post("/auth/login",{email:n,password:t},{headers:{"X-CSRF-Token":e}})},BU=()=>{const n=To(),[t,e]=S.useState(!1);Cp(ga).isLoggedIn&&n("/userTemplates");const[s,r]=S.useState(""),[o,l]=S.useState(""),[u,f]=S.useState(!1),[h,m]=S.useState(!1),b=pd(ga),w=Cp(Hy),_=pd(Hy),k=S.useCallback(z=>{const F=z.target.value;r(F),u&&localStorage.setItem("savedEmail",F)},[u]);S.useEffect(()=>{const z=localStorage.getItem("savedEmail");z&&(r(z),f(!0))},[]);const x=S.useCallback(z=>{l(z.target.value)},[]),A=S.useCallback(()=>{e(!t)},[t]),L=window.google,E=S.useCallback(async z=>{let F;try{try{F=mP(z.credential)}catch(Y){console.error("구글 Credential 디코딩 실패:",Y),alert("구글 로그인 처리 중 오류가 발생했습니다. 다시 시도해주세요.");return}const C=F.email,N=F.name,H=await OU(C,N);if(H.data.accountExists){const Y=await rx({existingType:H.data.existingLoginType,email:H.data.email,socialInfo:H.data.socialInfo,csrfToken:await $n()});Y.success&&Y.data&&(yu(Y.data,b,!0,{email:H.data.email}),n("/userTemplates"));return}const G=yu(H.data,b,!0,{email:C,loginType:"google"});alert(`${G.userName}님 환영합니다!`),n("/userTemplates")}catch(C){console.error("구글 로그인 처리 중 오류:",C),alert("구글 로그인 처리 중 오류가 발생했습니다. 다시 시도해주세요.")}},[n,b]),P=S.useCallback(()=>{L.accounts.id.initialize({client_id:"855460101608-skb0kpj5j1lgfltcmd8g3vah4noj50ba.apps.googleusercontent.com",callback:E}),L.accounts.id.prompt()},[L.accounts.id,E]),R=S.useCallback(async()=>{const z="45da112f4a3385c3f35c2ca8c4da8cb6",F="https://vactor0911.github.io/wanna-trip/login",C=w;if(!C){const N=`https://kauth.kakao.com/oauth/authorize?client_id=${z}&redirect_uri=${F}&response_type=code&prompt=login`;window.location.href=N;return}try{const H=(await MU(C)).data.access_token,G=await IU(H);if(G.data.accountExists){const W=await rx({existingType:G.data.existingLoginType,email:G.data.email,socialInfo:G.data.socialInfo,csrfToken:await $n()});W.success&&W.data&&(yu(W.data,b,!0,{email:G.data.email}),n("/userTemplates"));return}const Y=yu(G.data,b,!0,{email:G.data.email||"",loginType:"kakao"});window.history.replaceState(null,"","/login"),alert(`[ ${Y.userName} ]님 환영합니다!`),n("/userTemplates")}catch(N){console.error("카카오 로그인 실패:",N),_(""),alert("카카오 로그인에 실패했습니다. 다시 시도해주세요.")}},[w,n,_,b]);S.useEffect(()=>{const F=new URL(window.location.href).searchParams.get("code");F&&(_(F),window.history.replaceState(null,"",window.location.pathname))},[_]),S.useEffect(()=>{w&&R()},[R,w]);const V=S.useCallback(()=>{m(z=>!z)},[]),I=S.useCallback(async()=>{if(!s||!o){alert("이메일과 비밀번호를 입력해 주세요.");return}try{const z=await LU(s,o),F=yu(z.data,b,h,{email:s,loginType:"normal"});alert(`[ ${F.userName} ]님 환영합니다!`),n("/userTemplates")}catch(z){kt.isAxiosError(z)&&z.response?(console.error("서버 오류:",z.response.data.message),alert(z.response.data.message||"로그인 실패")):(console.error("요청 오류:",z.message),alert("예기치 않은 오류가 발생했습니다. 다시 시도해 주세요.")),l("")}},[s,h,n,o,b]);return D(Ao,{maxWidth:"xs",children:D(Se,{minHeight:"100vh",justifyContent:"center",children:Ce(Se,{gap:6,children:[D(ua,{to:"/",children:D(Be,{variant:"h3",color:"primary",textAlign:"center",children:"Wanna Trip"})}),Ce(Se,{gap:1,children:[D(vd,{title:"로그인"}),D(Ht,{mt:1,children:D(ns,{label:"아이디(이메일)",value:s,onChange:k})}),D(ns,{label:"비밀번호",value:o,onChange:x,type:t?"text":"password",endAdornment:D(hd,{position:"end",children:D(sn,{onClick:A,edge:"end",children:t?D(bd,{}):D(yd,{})})})}),D(Ht,{children:D(Dy,{control:D(My,{name:"로그인 상태 유지",checked:h,onChange:V}),label:"로그인 상태 유지"})}),D(bn,{variant:"contained",onClick:I,children:D(Be,{variant:"h5",children:"로그인"})}),Ce(Se,{direction:"row",children:[D(Se,{direction:"row",gap:1,alignItems:"center",children:D(ua,{to:"/find-password",children:D(Be,{color:"divider",children:"비밀번호 찾기"})})}),D(Ht,{flex:1,display:"flex",justifyContent:"flex-end",children:D(ua,{to:"/register",children:D(Be,{color:"divider",children:"회원가입"})})})]})]}),Ce(Se,{gap:4,children:[Ce(Se,{direction:"row",gap:2,alignItems:"center",children:[D(Ht,{flex:1,height:"1px",borderRadius:"50px",sx:{background:Xe.palette.divider}}),D(Be,{children:"간편 로그인"}),D(Ht,{flex:1,height:"1px",borderRadius:"50px",sx:{background:Xe.palette.divider}})]}),D(Se,{direction:"row",justifyContent:"center",gap:8,children:[{src:EU,alt:"카카오 로그인",onClick:R},{src:TU,alt:"구글 로그인",onClick:P}].map(({src:z,alt:F,onClick:C},N)=>D(Ht,{children:D(sn,{disableRipple:!0,onClick:C,sx:{padding:0},children:D(Ht,{component:"img",width:"60px",src:z,alt:F})})},`social-login-${N}`))})]})]})})})},DU=Bt(J.jsx("path",{d:"M15.88 9.29 12 13.17 8.12 9.29a.996.996 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41-.39-.38-1.03-.39-1.42 0"})),vs=n=>D(uF,{...n,arrow:!0,children:n.children}),vu=[{title:"개인정보 수집 및 이용약관 동의",isOptional:!1,content:D(Be,{variant:"subtitle1",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Itaque corrupti recusandae voluptate adipisci aliquam fugiat deserunt omnis maxime earum neque debitis, quasi perferendis! Qui nihil distinctio doloremque voluptatem corrupti est."})},{title:"위치 정보 이용약관 동의",isOptional:!0,content:D(Be,{variant:"subtitle1",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Itaque corrupti recusandae voluptate adipisci aliquam fugiat deserunt omnis maxime earum neque debitis, quasi perferendis! Qui nihil distinctio doloremque voluptatem corrupti est. Lorem ipsum dolor sit amet consectetur adipisicing elit. Qui, porro cumque necessitatibus quisquam sunt dolores nemo itaque et corporis totam deserunt veniam, tenetur reiciendis perferendis quia consectetur vel mollitia magnam?"})}],NU=()=>{const[n,t]=S.useState(""),[e,i]=S.useState(""),[s,r]=S.useState(""),[o,l]=S.useState(""),[u,f]=S.useState(!1),[h,m]=S.useState(!1),[b,w]=S.useState(!1),[_,k]=S.useState(!1),[x,A]=S.useState(""),[L,E]=S.useState(300),[P,R]=S.useState(!1),[V,I]=S.useState(Array.from({length:vu.length},()=>!1)),[z,F]=S.useState(Array.from({length:vu.length},()=>!1)),C=To();Cp(ga).isLoggedIn&&C("/template");const H=S.useCallback(de=>{t(de.target.value)},[]);S.useEffect(()=>{if(!_||L<=0||P)return;const de=setInterval(()=>{E(pe=>pe-1)},1e3);return()=>clearInterval(de)},[P,L,_]);const G=S.useCallback(()=>{if(L<=0)return"시간초과";if(P)return"인증완료";const de=Math.floor(L/60),pe=L%60;return`${de}:${pe.toString().padStart(2,"0")}`},[L,P]),Y=S.useCallback(de=>{A(de.target.value.replace(" ",""))},[]),W=S.useCallback(de=>{i(de.target.value)},[]),M=S.useCallback(de=>{r(de.target.value)},[]),U=S.useCallback(()=>{f(!u)},[u]),K=S.useCallback(()=>{m(!h)},[h]),Q=S.useCallback(de=>{l(de.target.value)},[]),B=S.useCallback(()=>{const de=!V.some(pe=>pe);I(Array.from({length:vu.length},()=>de))},[V]),Z=S.useCallback(de=>{const pe=[...V.slice(0,de),!V[de],...V.slice(de+1)];I(pe)},[V]),ae=S.useCallback(de=>{const pe=[...z.slice(0,de),!z[de],...z.slice(de+1)];F(pe)},[z]),re=vu.every((de,pe)=>de.isOptional||V[pe]),ge=S.useCallback(async de=>{if(de.preventDefault(),!n||!e||!s){console.error("이메일 또는 비밀번호가 비어있으면 안됩니다."),alert("이메일 또는 비밀번호가 비어있으면 안됩니다.");return}if(!P){console.error("이메일 인증을 완료해주세요."),alert("이메일 인증을 완료해주세요.");return}if(!o){console.error("닉네임을 입력해주세요."),alert("닉네임을 입력해주세요.");return}if(e!==s){alert("비밀번호가 일치하지 않습니다.");return}if(!re){alert("필수 약관에 모두 동의해 주세요.");return}try{const pe=await $n(),Ee={privacy:V[0],location:V[1]};await Cn.post("/auth/register",{email:n,password:e,name:o,terms:Ee},{headers:{"X-CSRF-Token":pe}}),alert("회원가입이 성공적으로 완료되었습니다!"),C("/login")}catch(pe){if(kt.isAxiosError(pe)&&pe.response){const Ee=pe.response.data;if(console.error("서버가 오류를 반환했습니다:",Ee.message),Ee.loginType){const _e=Ee.loginType==="kakao"?"카카오":Ee.loginType==="google"?"구글":"일반";confirm(`이미 ${_e} 계정으로 가입된 이메일입니다.
로그인 페이지로 이동하시겠습니까?`)&&C("/login")}else alert(`Error: ${Ee.message}`)}else console.error("요청을 보내는 중 오류가 발생했습니다:",pe.message),alert("예기치 않은 오류가 발생했습니다. 나중에 다시 시도해 주세요.")}},[n,e,s,P,o,re,V,C]),he=S.useCallback(async()=>{var de;if(P){alert("이미 인증번호를 확인했습니다.");return}try{w(!0);const pe=await $n();await Cn.post("/auth/sendVerifyEmail",{email:n,purpose:"verifyEmailCode"},{headers:{"X-CSRF-Token":pe}}),k(!0),E(300),alert("인증번호가 이메일로 발송되었습니다.")}catch(pe){kt.isAxiosError(pe)&&pe.response?alert(`이메일 전송 실패
`+(((de=pe.response.data)==null?void 0:de.message)||"알 수 없는 오류")):(console.error("요청 오류:",pe.message),alert("예기치 않은 오류가 발생했습니다. 다시 시도해 주세요."))}finally{w(!1)}},[n,P]),ce=S.useCallback(async()=>{var de;if(P){alert("이미 인증번호를 확인했습니다.");return}try{const pe=await $n();await Cn.post("/auth/verifyEmailCode",{email:n,code:x},{headers:{"X-CSRF-Token":pe}}),alert("인증번호 확인이 완료되었습니다."),R(!0)}catch(pe){kt.isAxiosError(pe)&&pe.response?alert(`인증 실패
`+(((de=pe.response.data)==null?void 0:de.message)||"알 수 없는 오류")):(console.error("요청 오류:",pe.message),alert("예기치 않은 오류가 발생했습니다. 나중에 다시 시도해 주세요."))}},[x,n,P]);return D(Ao,{maxWidth:"xs",children:D(Se,{minHeight:"100vh",justifyContent:"center",sx:{paddingY:10},children:Ce(Se,{gap:3,children:[D(ua,{to:"/",children:D(Be,{variant:"h4",color:"primary",children:"Wanna Trip"})}),Ce(Se,{gap:1,children:[D(vd,{title:"아이디/비밀번호"}),Ce(Se,{gap:1,children:[Ce(Se,{direction:"row",gap:1,mt:1,children:[D(Ht,{flex:1,children:D(ns,{label:"아이디(이메일)",value:n,onChange:H})}),D(bn,{variant:"outlined",loading:b,onClick:he,sx:{borderRadius:"8px"},children:D(Be,{children:"인증요청"})})]}),Ce(Se,{direction:"row",gap:1,display:_?"flex":"none",children:[D(Ht,{flex:2,children:D(ns,{label:"인증번호",value:x,onChange:Y})}),D(Be,{variant:"subtitle1",alignSelf:"center",sx:{width:"65px",color:P?"#19df79":L<=0?"error.main":"primary.main"},children:G()}),D(bn,{variant:"outlined",onClick:ce,sx:{ml:2,borderRadius:"8px"},children:D(Be,{children:"인증확인"})})]})]}),D(ns,{label:"비밀번호",value:e,onChange:W,type:u?"text":"password",endAdornment:D(hd,{position:"end",children:D(sn,{onClick:U,edge:"end",children:u?D(bd,{}):D(yd,{})})})}),D(ns,{label:"비밀번호 재확인",value:s,onChange:M,type:h?"text":"password",endAdornment:D(hd,{position:"end",children:D(sn,{onClick:K,edge:"end",children:h?D(bd,{}):D(yd,{})})})}),D(ns,{label:"닉네임(별명)",value:o,onChange:Q})]}),Ce(Se,{gap:1,children:[D(vd,{title:"이용약관"}),D(Ht,{children:D(Dy,{control:D(My,{name:"전체 동의하기",checked:V.every(de=>de),indeterminate:V.some(de=>de)&&!V.every(de=>de),onChange:B}),label:D(Be,{variant:"h6",children:"전체 동의하기"})})}),vu.map((de,pe)=>Ce(Se,{children:[Ce(Se,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[D(Dy,{control:D(My,{name:de.title,checked:V[pe],onChange:()=>Z(pe)}),label:Ce(Se,{direction:"row",width:"100%",gap:1,fontWeight:"bold",alignItems:"center",children:[Ce(Be,{variant:"subtitle1",color:de.isOptional?"divider":"primary",fontWeight:"inherit",whiteSpace:"nowrap",children:["[",de.isOptional?"선택":"필수","]"]}),D(Be,{variant:"subtitle1",fontWeight:"inherit",sx:{wordBreak:"keep-all"},children:de.title})]})}),D(Ht,{flex:1,display:"flex",justifyContent:"flex-end",children:D(vs,{title:z[pe]?"접기":"펼치기",placement:"top",children:D(sn,{size:"small",onClick:()=>ae(pe),children:D(DU,{sx:{transform:z[pe]?"rotate(180deg)":"none",transition:"transform 0.3s ease"}})})})})]}),D(ks,{variant:"outlined",sx:{marginLeft:"32px",paddingLeft:2,paddingRight:1,paddingY:1},children:D(mp,{in:z[pe],collapsedSize:60,sx:{maxHeight:"150px",overflowY:"auto"},children:de.content})})]},`term-${pe}`))]}),Ce(Se,{gap:.5,children:[D(bn,{variant:"contained",onClick:ge,disabled:!re,children:D(Be,{variant:"h5",children:"회원가입"})}),D(Ht,{alignSelf:"flex-end",children:D(ua,{to:"/login",children:D(Be,{variant:"subtitle1",color:"divider",children:"이미 계정이 있으신가요?"})})})]})]})})})},VU=()=>{const[n,t]=S.useState(""),[e,i]=S.useState(!1),[s,r]=S.useState(!1),[o,l]=S.useState(""),[u,f]=S.useState(300),[h,m]=S.useState(!1),b=S.useCallback(A=>{t(A.target.value)},[]),w=S.useCallback(async()=>{var A;if(h){alert("이미 인증번호를 확인했습니다.");return}try{i(!0);const L=await $n();await Cn.post("/auth/sendVerifyEmail",{email:n,purpose:"verifyEmailCode"},{headers:{"X-CSRF-Token":L}}),r(!0),f(300),alert("인증번호가 이메일로 발송되었습니다.")}catch(L){kt.isAxiosError(L)&&L.response?alert(`이메일 전송 실패
`+(((A=L.response.data)==null?void 0:A.message)||"알 수 없는 오류")):(console.error("요청 오류:",L.message),alert("예기치 않은 오류가 발생했습니다. 다시 시도해 주세요."))}finally{i(!1)}},[n,h]),_=S.useCallback(A=>{l(A.target.value.replace(" ",""))},[]),k=S.useCallback(()=>{if(u<=0)return"시간초과";if(h)return"인증완료";const A=Math.floor(u/60),L=u%60;return`${A}:${L.toString().padStart(2,"0")}`},[u,h]),x=S.useCallback(async()=>{var A;if(h){alert("이미 인증번호를 확인했습니다.");return}try{const L=await $n();await Cn.post("/auth/verifyEmailCode",{email:n,code:o},{headers:{"X-CSRF-Token":L}}),alert("인증번호 확인이 완료되었습니다."),m(!0)}catch(L){kt.isAxiosError(L)&&L.response?alert(`인증 실패
`+(((A=L.response.data)==null?void 0:A.message)||"알 수 없는 오류")):(console.error("요청 오류:",L.message),alert("예기치 않은 오류가 발생했습니다. 나중에 다시 시도해 주세요."))}},[o,n,h]);return D(Ao,{maxWidth:"xs",children:D(Se,{minHeight:"100vh",justifyContent:"center",pb:45.2,children:Ce(Se,{gap:6,children:[D(ua,{to:"/",children:D(Be,{variant:"h3",color:"primary",textAlign:"center",children:"Wanna Trip"})}),Ce(Se,{gap:1,children:[D(vd,{title:"비밀번호 찾기"}),Ce(Se,{gap:1,children:[Ce(Se,{direction:"row",gap:1,mt:1,children:[D(Ht,{flex:1,children:D(ns,{label:"아이디(이메일)",value:n,onChange:b})}),D(bn,{variant:"outlined",loading:e,onClick:w,sx:{borderRadius:"8px"},children:D(Be,{children:"인증요청"})})]}),Ce(Se,{direction:"row",gap:1,display:s?"flex":"none",children:[D(Ht,{flex:2,children:D(ns,{label:"인증번호",value:o,onChange:_})}),D(Be,{variant:"subtitle1",alignSelf:"center",sx:{width:"65px",color:h?"success":u<=0?"error":"primary"},children:k()}),D(bn,{variant:"outlined",onClick:x,sx:{ml:2,borderRadius:"8px"},children:D(Be,{children:"인증확인"})})]})]})]})]})})})},FU=()=>{const[n,t]=S.useState(""),[e,i]=S.useState(""),[s,r]=S.useState(""),[o,l]=S.useState(!1),[u,f]=S.useState(!1);S.useEffect(()=>{t("test@gmail.com")},[]);const h=S.useCallback(_=>{i(_.target.value)},[]),m=S.useCallback(_=>{r(_.target.value)},[]),b=S.useCallback(()=>{l(!o)},[o]),w=S.useCallback(()=>{f(!u)},[u]);return D(Ao,{maxWidth:"xs",children:D(Se,{minHeight:"100vh",justifyContent:"center",pb:29.2,children:Ce(Se,{gap:6,children:[D(ua,{to:"/",children:D(Be,{variant:"h3",color:"primary",textAlign:"center",children:"Wanna Trip"})}),Ce(Se,{gap:1,children:[D(vd,{title:"비밀번호 변경"}),D(Se,{gap:1,children:D(Se,{direction:"row",gap:1,mt:1,children:D(Ht,{flex:1,children:D(ns,{label:"아이디(이메일)",value:n,readOnly:!0})})})}),D(ns,{label:"비밀번호",value:e,onChange:h,type:o?"text":"password",endAdornment:D(hd,{position:"end",children:D(sn,{onClick:b,edge:"end",children:o?D(yd,{}):D(bd,{})})})}),D(ns,{label:"비밀번호 재확인",value:s,onChange:m,type:u?"text":"password",endAdornment:D(hd,{position:"end",children:D(sn,{onClick:w,edge:"end",children:u?D(yd,{}):D(bd,{})})})})]})]})})})},zU=Bt(J.jsx("path",{d:"M11 18h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1M3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1m4 6h10c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1"})),UU=Bt(J.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"})),$U=Bt(J.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),gP=Bt(J.jsx("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1q-.15.15-.15.36M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),bP=Bt(J.jsx("path",{d:"M17.5 4.5c-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5-1.45 0-2.99.22-4.28.79C1.49 5.62 1 6.33 1 7.14v11.28c0 1.3 1.22 2.26 2.48 1.94.98-.25 2.02-.36 3.02-.36 1.56 0 3.22.26 4.56.92.6.3 1.28.3 1.87 0 1.34-.67 3-.92 4.56-.92 1 0 2.04.11 3.02.36 1.26.33 2.48-.63 2.48-1.94V7.14c0-.81-.49-1.52-1.22-1.85-1.28-.57-2.82-.79-4.27-.79M21 17.23c0 .63-.58 1.09-1.2.98-.75-.14-1.53-.2-2.3-.2-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5.92 0 1.83.09 2.7.28.46.1.8.51.8.98z"})),HU=Bt(J.jsx("path",{d:"M4 18h4c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1M3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1m1 6h10c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1"})),Tp=Bt(J.jsx("path",{d:"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1"})),jU=Bt(J.jsx("path",{d:"M15 20H5V7c0-.55-.45-1-1-1s-1 .45-1 1v13c0 1.1.9 2 2 2h10c.55 0 1-.45 1-1s-.45-1-1-1m5-4V4c0-1.1-.9-2-2-2H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2m-2 0H9V4h9z"})),WU=Bt(J.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2zM9 9h6c.55 0 1 .45 1 1v8c0 .55-.45 1-1 1H9c-.55 0-1-.45-1-1v-8c0-.55.45-1 1-1m6.5-5-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"})),qU=()=>{const n=pd(v1),t=S.useCallback(()=>{n(!0)},[n]);return D(ks,{onClick:t,elevation:2,sx:{width:"100%",px:1,cursor:"pointer",border:"2px solid transparent","&:hover":{border:`2px solid ${Xe.palette.primary.main}`}},children:Ce(Se,{gap:1,children:[D(Be,{variant:"subtitle1",fontWeight:"bold",children:"01:00 ~ 03:00"}),D(Be,{children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Harum id molestias molestiae, aperiam iste soluta nostrum magnam blanditiis..."})]})})},GU=n=>{var u,f;const{day:t}=n,[e,i]=Zl(y1),s=S.useCallback(()=>{if(e.boards.length>=md)return;const m=$y(e,{cards:[]},t);i(m)},[t,i,e]),r=S.useCallback(()=>{if(e.boards.length>=md)return;const h={cards:e.boards[t-1].cards},m=$y(e,h,t);i(m)},[t,i,e]),o=S.useCallback(()=>{if(e.boards.length<=1){if(e.boards[0].cards.length>0){const m={...e,boards:[{cards:[]}]};i(m)}return}const h={...e,boards:[...e.boards.slice(0,t-1),...e.boards.slice(t)]};i(h)},[t,i,e]),l=S.useCallback(()=>{const h={uuid:"1",type:0,startTime:Xy(),endTime:Xy(),content:"새 카드"},m=IF(e,t,h);i(m)},[t,i,e]);return D(Se,{height:"100%",children:D(ks,{elevation:3,sx:{maxHeight:"100%",background:Xe.palette.secondary.main},children:Ce(Se,{padding:1,width:"300px",maxHeight:"inherit",gap:1,children:[Ce(Se,{direction:"row",justifyContent:"space-between",children:[Ce(Se,{direction:"row",alignItems:"center",gap:1,children:[Ce(Be,{variant:"h6",children:["Day ",t]}),D(vs,{title:"정렬하기",placement:"top",children:D(sn,{size:"small",children:D(HU,{fontSize:"small"})})})]}),Ce(Se,{direction:"row",alignItems:"center",children:[D(vs,{title:"보드 추가하기",placement:"top",children:D(sn,{size:"small",onClick:s,children:D(Tp,{fontSize:"small"})})}),D(vs,{title:"보드 복제하기",placement:"top",children:D(sn,{size:"small",onClick:r,children:D(jU,{fontSize:"small"})})}),D(vs,{title:"보드 삭제하기",placement:"top",children:D(sn,{size:"small",onClick:o,children:D(WU,{fontSize:"small"})})})]})]}),D(Se,{flex:1,gap:2,paddingBottom:.5,sx:{overflowY:"auto"},children:(f=(u=e.boards[t-1])==null?void 0:u.cards)==null?void 0:f.map((h,m)=>D(qU,{},`card-${t}-${m+1}`))}),D(bn,{fullWidth:!0,startIcon:D(Tp,{sx:{color:"inherit"}}),onClick:l,children:D(Be,{variant:"subtitle1",children:"계획 추가하기"})})]})})})},KU=Bt(J.jsx("path",{d:"M12 2c-4.2 0-8 3.22-8 8.2 0 3.18 2.45 6.92 7.34 11.23.38.33.95.33 1.33 0C17.55 17.12 20 13.38 20 10.2 20 5.22 16.2 2 12 2m0 10c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"})),YU=Bt(J.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m-.22-13h-.06c-.4 0-.72.32-.72.72v4.72c0 .35.18.68.49.86l4.15 2.49c.34.2.78.1.98-.24.21-.34.1-.79-.25-.99l-3.87-2.3V7.72c0-.4-.32-.72-.72-.72"})),XU=Bt(J.jsx("path",{d:"M12 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6-5h-1V6c0-2.76-2.24-5-5-5-2.28 0-4.27 1.54-4.84 3.75-.14.54.18 1.08.72 1.22.53.14 1.08-.18 1.22-.72C9.44 3.93 10.63 3 12 3c1.65 0 3 1.35 3 3v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 11c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-8c0-.55.45-1 1-1h10c.55 0 1 .45 1 1z"})),JU=Bt(J.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9zm8 14H7c-.55 0-1-.45-1-1v-8c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v8c0 .55-.45 1-1 1m-5-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2"}));/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ZU(){const n={resolve:null,promise:null};return n.promise=new Promise(t=>{n.resolve=t}),n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function QU(n){let t=null;return(...e)=>(t||(t={current:n(...e)}),t.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Gn=new Array(256).fill("").map((n,t)=>("0"+t.toString(16)).slice(-2));function e$(){const[n,t,e,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+Gn[n>>0&255]+Gn[n>>8&255]+Gn[n>>16&255]+Gn[n>>24&255]+Gn[t>>0&255]+Gn[t>>8&255]+Gn[t>>16&255]+Gn[t>>24&255]+Gn[e>>0&255]+Gn[e>>8&255]+Gn[e>>16&255]+Gn[e>>24&255]+Gn[i>>0&255]+Gn[i>>8&255]+Gn[i>>16&255]+Gn[i>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function t$(n,t){const e=n.extraPlugins||[];return{...n,extraPlugins:[...e,...t.filter(i=>!e.includes(i))]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function yP(n){return!!n&&/^\d+\.\d+\.\d+/.test(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function vP(n){return n?["nightly","alpha","internal","nightly-","staging"].some(t=>n.includes(t)):!1}function n$(n){return yP(n)||vP(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function i$(n){if(!yP(n))throw new Error(`Invalid semantic version: ${n||"<blank>"}.`);const[t,e,i]=n.split(".");return{major:Number.parseInt(t,10),minor:Number.parseInt(e,10),patch:Number.parseInt(i,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function s$(n){if(vP(n))return 3;const{major:t}=i$(n);switch(!0){case t>=44:return 3;case t>=38:return 2;default:return 1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function r$(){const{CKEDITOR_VERSION:n,CKEDITOR:t}=window;return n$(n)?{source:t?"cdn":"npm",version:n}:null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function o$(){const n=r$();return n?s$(n.version):null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function wP(n,t){switch(t||(t=o$()||void 0),t){case 1:case 2:return n===void 0;case 3:return n==="GPL";default:return!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function a$(n,t){return function(i){wP(i.config.get("licenseKey"))||i.on("collectUsageData",(s,{setUsageData:r})=>{r(`integration.${n}`,t)})}}var l$=Object.defineProperty,c$=(n,t,e)=>t in n?l$(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,di=(n,t,e)=>c$(n,typeof t!="symbol"?t+"":t,e);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const _P=class kP{constructor(t,e){di(this,"_lifecycle"),di(this,"_element"),di(this,"_releaseLock",null),di(this,"_value",null),di(this,"_afterMountCallbacks",[]),di(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),di(this,"release",QU(()=>{const{_releaseLock:i,_state:s,_element:r,_lifecycle:o}=this;s.mountingInProgress?s.mountingInProgress.then(()=>o.unmount({element:r,mountResult:this.value})).catch(l=>{console.error("Semaphore unmounting error:",l)}).then(i.resolve).then(()=>{this._value=null}):(s.destroyedBeforeInitialization=!0,i.resolve())})),this._element=t,this._lifecycle=e,this._lock()}get value(){return this._value}unsafeSetValue(t){this._value=t,this._afterMountCallbacks.forEach(e=>e(t)),this._afterMountCallbacks=[]}runAfterMount(t){const{_value:e,_afterMountCallbacks:i}=this;e?t(e):i.push(t)}_lock(){const{_semaphores:t}=kP,{_state:e,_element:i,_lifecycle:s}=this,r=t.get(i)||Promise.resolve(null),o=ZU();this._releaseLock=o;const l=r.then(()=>e.destroyedBeforeInitialization?Promise.resolve(void 0):(e.mountingInProgress=s.mount().then(u=>(u&&this.unsafeSetValue(u),u)),e.mountingInProgress)).then(async u=>{u&&s.afterMount&&await s.afterMount({element:i,mountResult:u})}).then(()=>o.promise).catch(u=>{console.error("Semaphore mounting error:",u)}).then(()=>{t.get(i)===l&&t.delete(i)});t.set(i,l)}};di(_P,"_semaphores",new Map);let u$=_P;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const d$="$__CKEditorReactContextMetadata";function f$(n,t){return{...t,[d$]:n}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const h$=kn.createContext(null),p$=n=>!!n&&typeof n=="object"&&"status"in n&&["initializing","initialized","error"].includes(n.status),CP=n=>t=>p$(t)&&t.status===n,ox=CP("initializing"),m$=n=>CP("initialized")(n)&&n.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const g$=a$("react",{version:"9.5.0",frameworkVersion:kn.version});/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function b$(n){return wP(n.licenseKey)?n:t$(n,[g$])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const A0="Lock from React integration (@ckeditor/ckeditor5-react)";class SP extends kn.Component{constructor(t){super(t),di(this,"domContainer",kn.createRef()),di(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:t}=window;if(!t)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[e]=t.split(".").map(Number);e>=42||t.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:t}=this;return t?t.value:null}get watchdog(){const{_semaphoreValue:t}=this;return t?t.watchdog:null}get editor(){const{_semaphoreValue:t}=this;return t?t.instance:null}shouldComponentUpdate(t){const{props:e,editorSemaphore:i}=this;return t.id!==e.id||t.disableWatchdog!==e.disableWatchdog?!0:(i&&(i.runAfterMount(({instance:s})=>{this._shouldUpdateEditorData(e,t,s)&&s.data.set(t.data)}),"disabled"in t&&i.runAfterMount(({instance:s})=>{t.disabled?s.enableReadOnlyMode(A0):s.disableReadOnlyMode(A0)})),!1)}componentDidMount(){ox(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){ox(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new u$(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:({mountResult:t})=>{const{onReady:e}=this.props;e&&this.domContainer.current!==null&&e(t.instance)},unmount:async({element:t,mountResult:e})=>{const{onAfterDestroy:i}=this.props;try{await this._destroyEditor(e),t.innerHTML=""}finally{i&&i(e.instance)}}})}render(){return kn.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const t=m$(this.context)?new y$(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),e={current:0};return t.setCreator(async(i,s)=>{var r;const{editorSemaphore:o}=this,{onAfterDestroy:l}=this.props;e.current>0&&l&&((r=o==null?void 0:o.value)!=null&&r.instance)&&l(o.value.instance);const u=await this._createEditor(i,s);return o&&e.current>0&&(o.unsafeSetValue({instance:u,watchdog:t}),setTimeout(()=>{this.props.onReady&&this.props.onReady(t.editor)})),e.current++,u}),t.on("error",(i,{error:s,causesRestart:r})=>{(this.props.onError||console.error)(s,{phase:"runtime",willEditorRestart:r})}),await t.create(this.domContainer.current,this._getConfig()).catch(i=>{(this.props.onError||console.error)(i,{phase:"initialization",willEditorRestart:!1})}),{watchdog:t,instance:t.editor}}_createEditor(t,e){const{contextItemMetadata:i}=this.props;return i&&(e=f$(i,e)),this.props.editor.create(t,b$(e)).then(s=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&s.enableReadOnlyMode(A0)}const r=s.model.document,o=s.editing.view.document;return r.on("change:data",l=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(l,s)}),o.on("focus",l=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(l,s)}),o.on("blur",l=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(l,s)}),s})}async _destroyEditor(t){const{watchdog:e,instance:i}=t;return new Promise((s,r)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(e)return await e.destroy(),s();if(i)return await i.destroy(),s();s()}catch(o){console.error(o),r(o)}})})}_shouldUpdateEditorData(t,e,i){return!(t.data===e.data||i.data.get()===e.data)}_getConfig(){const t=this.props.config||{};return this.props.data&&t.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...t,initialData:t.initialData||this.props.data||""}}}di(SP,"contextType",h$);class y${constructor(t){di(this,"_contextWatchdog"),di(this,"_id"),di(this,"_creator"),this._contextWatchdog=t,this._id=e$()}setCreator(t){this._creator=t}create(t,e){return this._contextWatchdog.add({sourceElementOrData:t,config:e,creator:this._creator,id:this._id,type:"editor"})}on(t,e){this._contextWatchdog.on("itemError",(i,{itemId:s,error:r})=>{s===this._id&&e(null,{error:r,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function xP(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}const v$=S.memo(S.forwardRef(({id:n,semaphore:t,rootName:e},i)=>{const s=S.useRef(null);return S.useEffect(()=>{let r,o;return t.runAfterMount(({instance:l})=>{if(!s.current)return;o=l;const{ui:u,model:f}=o,h=f.document.getRoot(e);h&&o.ui.getEditableElement(e)&&o.detachEditable(h),r=u.view.createEditable(e,s.current),u.addEditable(r),l.editing.view.forceRender()}),()=>{if(o&&o.state!=="destroyed"&&s.current){const l=o.model.document.getRoot(e);/* istanbul ignore else -- @preserve */l&&o.detachEditable(l)}}},[t.revision]),kn.createElement("div",{key:t.revision,id:n,ref:xP(i,s)})}));v$.displayName="EditorEditable";const w$=S.forwardRef(({editor:n},t)=>{const e=S.useRef(null);return S.useEffect(()=>{const i=e.current;if(!n||!i)return;const s=n.ui.view.toolbar.element;return i.appendChild(s),()=>{i.contains(s)&&i.removeChild(s)}},[n&&n.id]),kn.createElement("div",{ref:xP(e,t)})});w$.displayName="EditorToolbarWrapper";function _$(n){return n}function Ep(){}function C1(n){return n==null||typeof n!="object"&&typeof n!="function"}function S1(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function x1(n){if(C1(n))return n;if(Array.isArray(n)||S1(n)||n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);const t=Object.getPrototypeOf(n),e=t.constructor;if(n instanceof Date||n instanceof Map||n instanceof Set)return new e(n);if(n instanceof RegExp){const i=new e(n);return i.lastIndex=n.lastIndex,i}if(n instanceof DataView)return new e(n.buffer.slice(0));if(n instanceof Error){const i=new e(n.message);return i.stack=n.stack,i.name=n.name,i.cause=n.cause,i}if(typeof File<"u"&&n instanceof File)return new e([n],n.name,{type:n.type,lastModified:n.lastModified});if(typeof n=="object"){const i=Object.create(t);return Object.assign(i,n)}return n}function ax(n){if(!n||typeof n!="object")return!1;const t=Object.getPrototypeOf(n);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(n)==="[object Object]":!1}function Jy(n){return typeof n=="object"&&n!==null}function Ap(n){return Object.getOwnPropertySymbols(n).filter(t=>Object.prototype.propertyIsEnumerable.call(n,t))}function Pp(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const TP="[object RegExp]",T1="[object String]",E1="[object Number]",A1="[object Boolean]",Rp="[object Arguments]",EP="[object Symbol]",AP="[object Date]",PP="[object Map]",RP="[object Set]",OP="[object Array]",k$="[object Function]",MP="[object ArrayBuffer]",Qh="[object Object]",C$="[object Error]",IP="[object DataView]",LP="[object Uint8Array]",BP="[object Uint8ClampedArray]",DP="[object Uint16Array]",NP="[object Uint32Array]",S$="[object BigUint64Array]",VP="[object Int8Array]",FP="[object Int16Array]",zP="[object Int32Array]",x$="[object BigInt64Array]",UP="[object Float32Array]",$P="[object Float64Array]";function T$(n,t){return Ll(n,void 0,n,new Map,t)}function Ll(n,t,e,i=new Map,s=void 0){const r=s==null?void 0:s(n,t,e,i);if(r!=null)return r;if(C1(n))return n;if(i.has(n))return i.get(n);if(Array.isArray(n)){const o=new Array(n.length);i.set(n,o);for(let l=0;l<n.length;l++)o[l]=Ll(n[l],l,e,i,s);return Object.hasOwn(n,"index")&&(o.index=n.index),Object.hasOwn(n,"input")&&(o.input=n.input),o}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){const o=new RegExp(n.source,n.flags);return o.lastIndex=n.lastIndex,o}if(n instanceof Map){const o=new Map;i.set(n,o);for(const[l,u]of n)o.set(l,Ll(u,l,e,i,s));return o}if(n instanceof Set){const o=new Set;i.set(n,o);for(const l of n)o.add(Ll(l,void 0,e,i,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(n))return n.subarray();if(S1(n)){const o=new(Object.getPrototypeOf(n)).constructor(n.length);i.set(n,o);for(let l=0;l<n.length;l++)o[l]=Ll(n[l],l,e,i,s);return o}if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);if(n instanceof DataView){const o=new DataView(n.buffer.slice(0),n.byteOffset,n.byteLength);return i.set(n,o),ia(o,n,e,i,s),o}if(typeof File<"u"&&n instanceof File){const o=new File([n],n.name,{type:n.type});return i.set(n,o),ia(o,n,e,i,s),o}if(n instanceof Blob){const o=new Blob([n],{type:n.type});return i.set(n,o),ia(o,n,e,i,s),o}if(n instanceof Error){const o=new n.constructor;return i.set(n,o),o.message=n.message,o.name=n.name,o.stack=n.stack,o.cause=n.cause,ia(o,n,e,i,s),o}if(typeof n=="object"&&E$(n)){const o=Object.create(Object.getPrototypeOf(n));return i.set(n,o),ia(o,n,e,i,s),o}return n}function ia(n,t,e=n,i,s){const r=[...Object.keys(t),...Ap(t)];for(let o=0;o<r.length;o++){const l=r[o],u=Object.getOwnPropertyDescriptor(n,l);(u==null||u.writable)&&(n[l]=Ll(t[l],l,e,i,s))}}function E$(n){switch(Pp(n)){case Rp:case OP:case MP:case IP:case A1:case AP:case UP:case $P:case VP:case FP:case zP:case PP:case E1:case Qh:case TP:case RP:case T1:case EP:case LP:case BP:case DP:case NP:return!0;default:return!1}}function HP(n,t){return n===t||Number.isNaN(n)&&Number.isNaN(t)}function jP(n,t,e){return Du(n,t,void 0,void 0,void 0,void 0,e)}function Du(n,t,e,i,s,r,o){const l=o(n,t,e,i,s,r);if(l!==void 0)return l;if(typeof n==typeof t)switch(typeof n){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return n===t;case"number":return n===t||Object.is(n,t);case"function":return n===t;case"object":return Gu(n,t,r,o)}return Gu(n,t,r,o)}function Gu(n,t,e,i){if(Object.is(n,t))return!0;let s=Pp(n),r=Pp(t);if(s===Rp&&(s=Qh),r===Rp&&(r=Qh),s!==r)return!1;switch(s){case T1:return n.toString()===t.toString();case E1:{const u=n.valueOf(),f=t.valueOf();return HP(u,f)}case A1:case AP:case EP:return Object.is(n.valueOf(),t.valueOf());case TP:return n.source===t.source&&n.flags===t.flags;case k$:return n===t}e=e??new Map;const o=e.get(n),l=e.get(t);if(o!=null&&l!=null)return o===t;e.set(n,t),e.set(t,n);try{switch(s){case PP:{if(n.size!==t.size)return!1;for(const[u,f]of n.entries())if(!t.has(u)||!Du(f,t.get(u),u,n,t,e,i))return!1;return!0}case RP:{if(n.size!==t.size)return!1;const u=Array.from(n.values()),f=Array.from(t.values());for(let h=0;h<u.length;h++){const m=u[h],b=f.findIndex(w=>Du(m,w,void 0,n,t,e,i));if(b===-1)return!1;f.splice(b,1)}return!0}case OP:case LP:case BP:case DP:case NP:case S$:case VP:case FP:case zP:case x$:case UP:case $P:{if(typeof Buffer<"u"&&Buffer.isBuffer(n)!==Buffer.isBuffer(t)||n.length!==t.length)return!1;for(let u=0;u<n.length;u++)if(!Du(n[u],t[u],u,n,t,e,i))return!1;return!0}case MP:return n.byteLength!==t.byteLength?!1:Gu(new Uint8Array(n),new Uint8Array(t),e,i);case IP:return n.byteLength!==t.byteLength||n.byteOffset!==t.byteOffset?!1:Gu(new Uint8Array(n),new Uint8Array(t),e,i);case C$:return n.name===t.name&&n.message===t.message;case Qh:{if(!(Gu(n.constructor,t.constructor,e,i)||ax(n)&&ax(t)))return!1;const f=[...Object.keys(n),...Ap(n)],h=[...Object.keys(t),...Ap(t)];if(f.length!==h.length)return!1;for(let m=0;m<f.length;m++){const b=f[m],w=n[b];if(!Object.hasOwn(t,b))return!1;const _=t[b];if(!Du(w,_,b,n,t,e,i))return!1}return!0}default:return!1}}finally{e.delete(n),e.delete(t)}}function lx(n,t){return jP(n,t,Ep)}function Op(n){return typeof n=="function"}function A$(n){return Number.isSafeInteger(n)&&n>=0}function P$(n){return n!=null&&typeof n!="function"&&A$(n.length)}function WP(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}function qP(n){return Object.is(n,-0)?"-0":n.toString()}function P1(n){const t=[],e=n.length;if(e===0)return t;let i=0,s="",r="",o=!1;for(n.charCodeAt(0)===46&&(t.push(""),i++);i<e;){const l=n[i];r?l==="\\"&&i+1<e?(i++,s+=n[i]):l===r?r="":s+=l:o?l==='"'||l==="'"?r=l:l==="]"?(o=!1,t.push(s),s=""):s+=l:l==="["?(o=!0,s&&(t.push(s),s="")):l==="."?s&&(t.push(s),s=""):s+=l,i++}return s&&t.push(s),t}function vo(n,t,e){if(n==null)return e;switch(typeof t){case"string":{const i=n[t];return i===void 0?WP(t)?vo(n,P1(t),e):e:i}case"number":case"symbol":{typeof t=="number"&&(t=qP(t));const i=n[t];return i===void 0?e:i}default:{if(Array.isArray(t))return R$(n,t,e);Object.is(t==null?void 0:t.valueOf(),-0)?t="-0":t=String(t);const i=n[t];return i===void 0?e:i}}}function R$(n,t,e){if(t.length===0)return e;let i=n;for(let s=0;s<t.length;s++){if(i==null)return e;i=i[t[s]]}return i===void 0?e:i}function O$(n){return function(t){return vo(t,n)}}function xr(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function Rm(n,t){return T$(n,(e,i,s,r)=>{const o=t==null?void 0:t(e,i,s,r);if(o!=null)return o;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case E1:case T1:case A1:{const l=new n.constructor(n==null?void 0:n.valueOf());return ia(l,n),l}case Rp:{const l={};return ia(l,n),l.length=n.length,l[Symbol.iterator]=n[Symbol.iterator],l}default:return}})}function Vi(n){return Rm(n)}const M$=/^(?:0|[1-9]\d*)$/;function I$(n,t=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<t;case"symbol":return!1;case"string":return M$.test(n)}}function cx(n){return n!==null&&typeof n=="object"&&Pp(n)==="[object Arguments]"}function L$(n){return typeof n=="symbol"||n instanceof Symbol}function B$(n){return L$(n)?NaN:Number(n)}function D$(n){return n?(n=B$(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}function N$(n){const t=D$(n),e=t%1;return e?t-e:t}function ux(n){return typeof n=="string"||n instanceof String}function GP(n,t,e){const i=Array.isArray(t)?t:typeof t=="string"?P1(t):[t];let s=n;for(let o=0;o<i.length-1;o++){const l=i[o],u=i[o+1];s[l]==null&&(s[l]=I$(u)?[]:{}),s=s[l]}const r=i[i.length-1];return s[r]=e,n}function V$(n,t,{signal:e,edges:i}={}){let s,r=null;const o=i!=null&&i.includes("leading"),l=i==null||i.includes("trailing"),u=()=>{r!==null&&(n.apply(s,r),s=void 0,r=null)},f=()=>{l&&u(),w()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},t)},b=()=>{h!==null&&(clearTimeout(h),h=null)},w=()=>{b(),s=void 0,r=null},_=()=>{b(),u()},k=function(...x){if(e!=null&&e.aborted)return;s=this,r=x;const A=h==null;m(),o&&A&&u()};return k.schedule=m,k.cancel=w,k.flush=_,e==null||e.addEventListener("abort",w,{once:!0}),k}function Tr(n,t=0,e={}){typeof e!="object"&&(e={});const{signal:i,leading:s=!1,trailing:r=!0,maxWait:o}=e,l=Array(2);s&&(l[0]="leading"),r&&(l[1]="trailing");let u,f=null;const h=V$(function(...w){u=n.apply(this,w),f=null},t,{signal:i,edges:l}),m=function(...w){if(o!=null){if(f===null)f=Date.now();else if(Date.now()-f>=o)return u=n.apply(this,w),f=Date.now(),h.cancel(),h.schedule(),u}return h.apply(this,w),u},b=()=>(h.flush(),u);return m.cancel=h.cancel,m.flush=b,m}function Mp(n,t=0,e={}){typeof e!="object"&&(e={});const{leading:i=!0,trailing:s=!0,signal:r}=e;return Tr(n,t,{leading:i,trailing:s,signal:r,maxWait:t})}function KP(n){if(n==null)return"";if(Array.isArray(n))return n.map(KP).join(",");const t=String(n);return t==="0"&&Object.is(Number(n),-0)?"-0":t}function F$(n){return typeof Buffer<"u"&&Buffer.isBuffer(n)}function z$(n){const t=n==null?void 0:n.constructor,e=typeof t=="function"?t.prototype:Object.prototype;return n===e}function YP(n){return S1(n)}function U$(n,t){if(n=N$(n),n<1||!Number.isSafeInteger(n))return[];const e=new Array(n);for(let i=0;i<n;i++)e[i]=typeof t=="function"?t(i):i;return e}function $$(n){if(n==null)return[];switch(typeof n){case"object":case"function":return P$(n)?j$(n):z$(n)?H$(n):Ip(n);default:return Ip(Object(n))}}function Ip(n){const t=[];for(const e in n)t.push(e);return t}function H$(n){return Ip(n).filter(e=>e!=="constructor")}function j$(n){const t=U$(n.length,i=>`${i}`),e=new Set(t);return F$(n)&&(e.add("offset"),e.add("parent")),YP(n)&&(e.add("buffer"),e.add("byteLength"),e.add("byteOffset")),[...t,...Ip(n).filter(i=>!e.has(i))]}function W$(n,...t){for(let e=0;e<t.length;e++)q$(n,t[e]);return n}function q$(n,t){const e=$$(t);for(let i=0;i<e.length;i++){const s=e[i];HP(n[s],t[s])||(n[s]=t[s])}}function dx(n,t){const e={},i=Object.keys(n);for(let s=0;s<i.length;s++){const r=i[s],o=n[r];e[r]=t(o,r,n)}return e}function G$(n,t){switch(t=t??_$,typeof t){case"string":case"symbol":case"number":case"object":return dx(n,O$(t));case"function":return dx(n,t)}}function vr(n){var e;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((e=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&e.writable)?!1:n.toString()===`[object ${i}]`}let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t}function K$(n,...t){const e=t.slice(0,-1),i=t[t.length-1];let s=n;for(let r=0;r<e.length;r++){const o=e[r];s=ep(s,o,i,new Map)}return s}function ep(n,t,e,i){if(C1(n)&&(n=Object(n)),t==null||typeof t!="object")return n;if(i.has(t))return x1(i.get(t));if(i.set(t,n),Array.isArray(t)){t=t.slice();for(let r=0;r<t.length;r++)t[r]=t[r]??void 0}const s=[...Object.keys(t),...Ap(t)];for(let r=0;r<s.length;r++){const o=s[r];let l=t[o],u=n[o];if(cx(l)&&(l={...l}),cx(u)&&(u={...u}),typeof Buffer<"u"&&Buffer.isBuffer(l)&&(l=Vi(l)),Array.isArray(l))if(typeof u=="object"&&u!=null){const h=[],m=Reflect.ownKeys(u);for(let b=0;b<m.length;b++){const w=m[b];h[w]=u[w]}u=h}else u=[];const f=e(u,l,o,n,t,i);f!=null?n[o]=f:Array.isArray(l)||Jy(u)&&Jy(l)?n[o]=ep(u,l,e,i):u==null&&vr(l)?n[o]=ep({},l,e,i):u==null&&YP(l)?n[o]=Vi(l):(u===void 0||l!==void 0)&&(n[o]=l)}return n}function R1(n,...t){return K$(n,...t,Ep)}function Y$(n,t){if(n==null)return!0;switch(typeof t){case"symbol":case"number":case"object":{if(Array.isArray(t))return fx(n,t);if(typeof t=="number"?t=qP(t):typeof t=="object"&&(Object.is(t==null?void 0:t.valueOf(),-0)?t="-0":t=String(t)),(n==null?void 0:n[t])===void 0)return!0;try{return delete n[t],!0}catch{return!1}}case"string":{if((n==null?void 0:n[t])===void 0&&WP(t))return fx(n,P1(t));try{return delete n[t],!0}catch{return!1}}}}function fx(n,t){const e=vo(n,t.slice(0,-1),n),i=t[t.length-1];if((e==null?void 0:e[i])===void 0)return!0;try{return delete e[i],!0}catch{return!1}}function wo(n){return Jy(n)&&n.nodeType===1&&!vr(n)}function hx(n,t){if(!Number.isInteger(n)||n<0)throw new Error("n must be a non-negative integer.");let e=0;return(...i)=>{if(++e>=n)return t(...i)}}function Zy(n,t,e=Ep){return typeof e!="function"&&(e=Ep),jP(n,t,(...i)=>{const s=e(...i);if(s!==void 0)return!!s;if(n instanceof Map&&t instanceof Map||n instanceof Set&&t instanceof Set)return Zy(Array.from(n),Array.from(t),hx(2,e))})}function X$(n){return n.substring(0,1).toUpperCase()+n.substring(1)}function J$(n){return X$(KP(n))}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */let Qy;try{Qy={window,document}}catch{/* istanbul ignore next -- @preserve */Qy={window:{},document:{}}}var ke=Qy;function Z$(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const Jo=Z$(),Ie={isMac:XP(Jo),isWindows:Q$(Jo),isGecko:eH(Jo),isSafari:tH(Jo),isiOS:nH(Jo),isAndroid:iH(Jo),isBlink:sH(Jo),get isMediaForcedColors(){return rH()}};function XP(n){return n.indexOf("macintosh")>-1}function Q$(n){return n.indexOf("windows")>-1}function eH(n){return!!n.match(/gecko\/\d+/)}function tH(n){return n.indexOf(" applewebkit/")>-1&&n.indexOf("chrome")===-1}function nH(n){return!!n.match(/iphone|ipad/i)||XP(n)&&navigator.maxTouchPoints>0}function iH(n){return n.indexOf("android")>-1}function sH(n){return n.indexOf("chrome/")>-1&&n.indexOf("edge/")<0}function rH(){return ke.window.matchMedia?ke.window.matchMedia("(forced-colors: active)").matches:!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function JP(n,t,e,i){e=e||function(u,f){return u===f};const s=Array.isArray(n)?n:Array.prototype.slice.call(n),r=Array.isArray(t)?t:Array.prototype.slice.call(t),o=oH(s,r,e);return i?lH(o,r.length):aH(r,o)}function oH(n,t,e){const i=px(n,t,e);if(i===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const s=mx(n,i),r=mx(t,i),o=px(s,r,e),l=n.length-o,u=t.length-o;return{firstIndex:i,lastIndexOld:l,lastIndexNew:u}}function px(n,t,e){for(let i=0;i<Math.max(n.length,t.length);i++)if(n[i]===void 0||t[i]===void 0||!e(n[i],t[i]))return i;return-1}function mx(n,t){return n.slice(t).reverse()}function aH(n,t){const e=[],{firstIndex:i,lastIndexOld:s,lastIndexNew:r}=t;return r-i>0&&e.push({index:i,type:"insert",values:n.slice(i,r)}),s-i>0&&e.push({index:i+(r-i),type:"delete",howMany:s-i}),e}function lH(n,t){const{firstIndex:e,lastIndexOld:i,lastIndexNew:s}=n;if(e===-1)return Array(t).fill("equal");let r=[];return e>0&&(r=r.concat(Array(e).fill("equal"))),s-e>0&&(r=r.concat(Array(s-e).fill("insert"))),i-e>0&&(r=r.concat(Array(i-e).fill("delete"))),s<t&&(r=r.concat(Array(t-s).fill("equal"))),r}function zl(n,t,e){e=e||function(k,x){return k===x};const i=n.length,s=t.length;if(i>200||s>200||i+s>300)return zl.fastDiff(n,t,e,!0);let r,o;if(s<i){const k=n;n=t,t=k,r="delete",o="insert"}else r="insert",o="delete";const l=n.length,u=t.length,f=u-l,h={},m={};function b(k){const x=(m[k-1]!==void 0?m[k-1]:-1)+1,A=m[k+1]!==void 0?m[k+1]:-1,L=x>A?-1:1;h[k+L]&&(h[k]=h[k+L].slice(0)),h[k]||(h[k]=[]),h[k].push(x>A?r:o);let E=Math.max(x,A),P=E-k;for(;P<l&&E<u&&e(n[P],t[E]);)P++,E++,h[k].push("equal");return E}let w=0,_;do{for(_=-w;_<f;_++)m[_]=b(_);for(_=f+w;_>f;_--)m[_]=b(_);m[f]=b(f),w++}while(m[f]!==u);return h[f].slice(1)}zl.fastDiff=JP;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function gx(){return function n(){n.called=!0}}class Er{constructor(t,e){y(this,"source");y(this,"name");y(this,"path");y(this,"stop");y(this,"off");y(this,"return");this.source=t,this.name=e,this.path=[],this.stop=gx(),this.off=gx()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Kn=new Array(256).fill("").map((n,t)=>("0"+t.toString(16)).slice(-2));function vi(){const[n,t,e,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+Kn[n>>0&255]+Kn[n>>8&255]+Kn[n>>16&255]+Kn[n>>24&255]+Kn[t>>0&255]+Kn[t>>8&255]+Kn[t>>16&255]+Kn[t>>24&255]+Kn[e>>0&255]+Kn[e>>8&255]+Kn[e>>16&255]+Kn[e>>24&255]+Kn[i>>0&255]+Kn[i>>8&255]+Kn[i>>16&255]+Kn[i>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const da={get(n="normal"){return typeof n!="number"?this[n]||this.normal:n},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function cH(n,t){const e=da.get(t.priority);let i=0,s=n.length;for(;i<s;){const r=i+s>>1;da.get(n[r].priority)<e?s=r:i=r+1}n.splice(i,0,t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const uH="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class j extends Error{constructor(e,i,s){super(fH(e,s));y(this,"context");y(this,"data");this.name="CKEditorError",this.context=i,this.data=s}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,i){if(e.is&&e.is("CKEditorError"))throw e;const s=new j(e.message,i);throw s.stack=e.stack,s}}function zt(n,t){console.warn(...QP(n,t))}function dH(n,t){console.error(...QP(n,t))}function ZP(n){return`
Read more: ${uH}#error-${n}`}function fH(n,t){const e=new WeakSet,s=t?` ${JSON.stringify(t,(o,l)=>{if(typeof l=="object"&&l!==null){if(e.has(l))return`[object ${l.constructor.name}]`;e.add(l)}return l})}`:"",r=ZP(n);return n+s+r}function QP(n,t){const e=ZP(n);return t?[n,t,e]:[n,e]}const hH="45.1.0",pH=new Date(2025,4,14);/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new j("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=hH;const Rl=Symbol("listeningTo"),ev=Symbol("emitterId"),hr=Symbol("delegations"),eR=Ct(Object);function Ct(n){if(!n)return eR;class t extends n{on(i,s,r){this.listenTo(this,i,s,r)}once(i,s,r){let o=!1;const l=(u,...f)=>{o||(o=!0,u.off(),s.call(this,u,...f))};this.listenTo(this,i,l,r)}off(i,s){this.stopListening(this,i,s)}listenTo(i,s,r,o={}){let l,u;this[Rl]||(this[Rl]={});const f=this[Rl];P0(i)||tR(i);const h=P0(i);(l=f[h])||(l=f[h]={emitter:i,callbacks:{}}),(u=l.callbacks[s])||(u=l.callbacks[s]=[]),u.push(r),vH(this,i,s,r,o)}stopListening(i,s,r){const o=this[Rl];let l=i&&P0(i);const u=o&&l?o[l]:void 0,f=u&&s?u.callbacks[s]:void 0;if(!(!o||i&&!u||s&&!f))if(r)R0(this,i,s,r),f.indexOf(r)!==-1&&(f.length===1?delete u.callbacks[s]:R0(this,i,s,r));else if(f){for(;r=f.pop();)R0(this,i,s,r);delete u.callbacks[s]}else if(u){for(s in u.callbacks)this.stopListening(i,s);delete o[l]}else{for(l in o)this.stopListening(o[l].emitter);delete this[Rl]}}fire(i,...s){try{const r=i instanceof Er?i:new Er(this,i),o=r.name;let l=yH(this,o);if(r.path.push(this),l){l=l.slice();for(let f=0;f<l.length;f++){const h=l[f].callback;if(h.call(this,r,...s),r.off.called&&(delete r.off.called,this._removeEventListener(o,h)),r.stop.called)break}}const u=this[hr];if(u){const f=u.get(o),h=u.get("*");f&&bx(f,r,s),h&&bx(h,r,s)}return r.return}catch(r){/* istanbul ignore next -- @preserve */j.rethrowUnexpectedError(r,this)}}delegate(...i){return{to:(s,r)=>{this[hr]||(this[hr]=new Map),i.forEach(o=>{const l=this[hr].get(o);l?l.set(s,r):this[hr].set(o,new Map([[s,r]]))})}}}stopDelegating(i,s){if(this[hr])if(!i)this[hr].clear();else if(!s)this[hr].delete(i);else{const r=this[hr].get(i);r&&r.delete(s)}}_addEventListener(i,s,r){bH(this,i);const o=tv(this,i),l=da.get(r.priority),u={callback:s,priority:l};for(const f of o)cH(f,u)}_removeEventListener(i,s){const r=tv(this,i);for(const o of r)for(let l=0;l<o.length;l++)o[l].callback==s&&(o.splice(l,1),l--)}}return t}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{Ct[n]=eR.prototype[n]});function mH(n,t){const e=n[Rl];return e&&e[t]?e[t].emitter:null}function tR(n,t){n[ev]||(n[ev]=t||vi())}function P0(n){return n[ev]}function nR(n){return n._events||Object.defineProperty(n,"_events",{value:{}}),n._events}function gH(){return{callbacks:[],childEvents:[]}}function bH(n,t){const e=nR(n);if(e[t])return;let i=t,s=null;const r=[];for(;i!==""&&!e[i];)e[i]=gH(),r.push(e[i]),s&&e[i].childEvents.push(s),s=i,i=i.substr(0,i.lastIndexOf(":"));if(i!==""){for(const o of r)o.callbacks=e[i].callbacks.slice();e[i].childEvents.push(s)}}function tv(n,t){const e=nR(n)[t];if(!e)return[];let i=[e.callbacks];for(let s=0;s<e.childEvents.length;s++){const r=tv(n,e.childEvents[s]);i=i.concat(r)}return i}function yH(n,t){if(!n._events)return null;let e=t;do{const i=n._events[e];if(i&&i.callbacks&&i.callbacks.length)return i.callbacks;const s=e.lastIndexOf(":");e=s>-1?e.substring(0,s):""}while(e);return null}function bx(n,t,e){for(let[i,s]of n){s?typeof s=="function"&&(s=s(t.name)):s=t.name;const r=new Er(t.source,s);r.path=[...t.path],i.fire(r,...e)}}function vH(n,t,e,i,s){t._addEventListener?t._addEventListener(e,i,s):n._addEventListener.call(t,e,i,s)}function R0(n,t,e,i){t._removeEventListener?t._removeEventListener(e,i):n._removeEventListener.call(t,e,i)}const Ku=Symbol("observableProperties"),wd=Symbol("boundObservables"),Yu=Symbol("boundProperties"),Zo=Symbol("decoratedMethods"),yx=Symbol("decoratedOriginal"),iR=jt(Ct());function jt(n){var e,i,s,r,o;if(!n)return iR;class t extends(o=n,r=Ku,s=Zo,i=Yu,e=wd,o){constructor(){super(...arguments);y(this,r);y(this,s);y(this,i);y(this,e)}set(f,h){if(xr(f)){Object.keys(f).forEach(b=>{this.set(b,f[b])},this);return}O0(this);const m=this[Ku];if(f in this&&!m.has(f))throw new j("observable-set-cannot-override",this);Object.defineProperty(this,f,{enumerable:!0,configurable:!0,get(){return m.get(f)},set(b){const w=m.get(f);let _=this.fire(`set:${f}`,f,b,w);_===void 0&&(_=b),(w!==_||!m.has(f))&&(m.set(f,_),this.fire(`change:${f}`,f,_,w))}}),this[f]=h}bind(...f){if(!f.length||!vx(f))throw new j("observable-bind-wrong-properties",this);if(new Set(f).size!==f.length)throw new j("observable-bind-duplicate-properties",this);O0(this);const h=this[Yu];f.forEach(b=>{if(h.has(b))throw new j("observable-bind-rebind",this)});const m=new Map;return f.forEach(b=>{const w={property:b,to:[]};h.set(b,w),m.set(b,w)}),{to:wH,toMany:_H,_observable:this,_bindProperties:f,_to:[],_bindings:m}}unbind(...f){if(!this[Ku])return;const h=this[Yu],m=this[wd];if(f.length){if(!vx(f))throw new j("observable-unbind-wrong-properties",this);f.forEach(b=>{const w=h.get(b);w&&(w.to.forEach(([_,k])=>{const x=m.get(_),A=x[k];A.delete(w),A.size||delete x[k],Object.keys(x).length||(m.delete(_),this.stopListening(_,"change"))}),h.delete(b))})}else m.forEach((b,w)=>{this.stopListening(w,"change")}),m.clear(),h.clear()}decorate(f){O0(this);const h=this[f];if(!h)throw new j("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:f});this.on(f,(m,b)=>{m.return=h.apply(this,b)}),this[f]=function(...m){return this.fire(f,m)},this[f][yx]=h,this[Zo]||(this[Zo]=[]),this[Zo].push(f)}stopListening(f,h,m){if(!f&&this[Zo]){for(const b of this[Zo])this[b]=this[b][yx];delete this[Zo]}super.stopListening(f,h,m)}}return t}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{jt[n]=iR.prototype[n]});function O0(n){n[Ku]||(Object.defineProperty(n,Ku,{value:new Map}),Object.defineProperty(n,wd,{value:new Map}),Object.defineProperty(n,Yu,{value:new Map}))}function wH(...n){const t=CH(...n),e=Array.from(this._bindings.keys()),i=e.length;if(!t.callback&&t.to.length>1)throw new j("observable-bind-to-no-callback",this);if(i>1&&t.callback)throw new j("observable-bind-to-extra-callback",this);t.to.forEach(s=>{if(s.properties.length&&s.properties.length!==i)throw new j("observable-bind-to-properties-length",this);s.properties.length||(s.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(e[0]).callback=t.callback),TH(this._observable,this._to),xH(this),this._bindProperties.forEach(s=>{sR(this._observable,s)})}function _H(n,t,e){if(this._bindings.size>1)throw new j("observable-bind-to-many-not-one-binding",this);this.to(...kH(n,t),e)}function kH(n,t){const e=n.map(i=>[i,t]);return Array.prototype.concat.apply([],e)}function vx(n){return n.every(t=>typeof t=="string")}function CH(...n){if(!n.length)throw new j("observable-bind-to-parse-error",null);const t={to:[]};let e;return typeof n[n.length-1]=="function"&&(t.callback=n.pop()),n.forEach(i=>{if(typeof i=="string")e.properties.push(i);else if(typeof i=="object")e={observable:i,properties:[]},t.to.push(e);else throw new j("observable-bind-to-parse-error",null)}),t}function SH(n,t,e,i){const s=n[wd],r=s.get(e),o=r||{};o[i]||(o[i]=new Set),o[i].add(t),r||s.set(e,o)}function xH(n){let t;n._bindings.forEach((e,i)=>{n._to.forEach(s=>{t=s.properties[e.callback?0:n._bindProperties.indexOf(i)],e.to.push([s.observable,t]),SH(n._observable,e,s.observable,t)})})}function sR(n,t){const i=n[Yu].get(t);let s;i.callback?s=i.callback.apply(n,i.to.map(r=>r[0][r[1]])):(s=i.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(n,t)?n[t]=s:n.set(t,s)}function TH(n,t){t.forEach(e=>{const i=n[wd];let s;i.get(e.observable)||n.listenTo(e.observable,"change",(r,o)=>{s=i.get(e.observable)[o],s&&s.forEach(l=>{sR(n,l.property)})})})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class EH{constructor(){y(this,"_replacedElements");this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:e})=>{t.style.display="",e&&e.remove()}),this._replacedElements=[]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function nv(n){let t=0;for(const e of n)t++;return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ti(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++)if(n[i]!=t[i])return i;return n.length==t.length?"same":n.length<t.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Fi(n){return!!(n&&n[Symbol.iterator])}function bs(n,t,e={},i=[]){const s=e&&e.xmlns,r=s?n.createElementNS(s,t):n.createElement(t);for(const o in e)r.setAttribute(o,e[o]);(ux(i)||!Fi(i))&&(i=[i]);for(let o of i)ux(o)&&(o=n.createTextNode(o)),r.appendChild(o);return r}class rR{constructor(t,e){y(this,"_config");this._config=Object.create(null),e&&this.define(wx(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,i,s=!1){if(vr(e)){this._setObjectToTarget(t,e,s);return}const r=e.split(".");e=r.pop();for(const o of r)vr(t[o])||(t[o]=Object.create(null)),t=t[o];if(vr(i)){vr(t[e])||(t[e]=Object.create(null)),t=t[e],this._setObjectToTarget(t,i,s);return}s&&typeof t[e]<"u"||(t[e]=i)}_getFromSource(t,e){const i=e.split(".");e=i.pop();for(const s of i){if(!vr(t[s])){t=null;break}t=t[s]}return t?wx(t[e]):void 0}_setObjectToTarget(t,e,i){Object.keys(e).forEach(s=>{this._setToTarget(t,s,e[s],i)})}}function wx(n){return Rm(n,AH)}function AH(n){return wo(n)||typeof n=="function"?n:void 0}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function _o(n){if(n){if(n.defaultView)return n instanceof n.defaultView.Document;if(n.ownerDocument&&n.ownerDocument.defaultView)return n instanceof n.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Lp(n){const t=Object.prototype.toString.apply(n);return t=="[object Window]"||t=="[object global]"}const oR=wi(Ct());function wi(n){if(!n)return oR;class t extends n{listenTo(i,s,r,o={}){if(_o(i)||Lp(i)||i instanceof ke.window.EventTarget){const l={capture:!!o.useCapture,passive:!!o.usePassive},u=this._getProxyEmitter(i,l)||new PH(i,l);this.listenTo(u,s,r,o)}else super.listenTo(i,s,r,o)}stopListening(i,s,r){if(_o(i)||Lp(i)||i instanceof ke.window.EventTarget){const o=this._getAllProxyEmitters(i);for(const l of o)this.stopListening(l,s,r)}else super.stopListening(i,s,r)}_getProxyEmitter(i,s){return mH(this,aR(i,s))}_getAllProxyEmitters(i){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(i,s)).filter(s=>!!s)}}return t}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{wi[n]=oR.prototype[n]});class PH extends Ct(){constructor(e,i){super();y(this,"_domNode");y(this,"_options");y(this,"_domListeners");tR(this,aR(e,i)),this._domNode=e,this._options=i}attach(e){if(this._domListeners&&this._domListeners[e])return;const i=this._createDomListener(e);this._domNode.addEventListener(e,i,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=i}detach(e){let i;this._domListeners[e]&&(!(i=this._events[e])||!i.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,i,s){this.attach(e),Ct().prototype._addEventListener.call(this,e,i,s)}_removeEventListener(e,i){Ct().prototype._removeEventListener.call(this,e,i),this.detach(e)}_createDomListener(e){const i=s=>{this.fire(e,s)};return i.removeListener=()=>{this._domNode.removeEventListener(e,i,this._options),delete this._domListeners[e]},i}}function RH(n){return n["data-ck-expando"]||(n["data-ck-expando"]=vi())}function aR(n,t){let e=RH(n);for(const i of Object.keys(t).sort())t[i]&&(e+="-"+i);return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function OH(n){const t=[];let e=n;for(;e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function MH(n){return n instanceof HTMLTextAreaElement?n.value:n.innerHTML}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function lR(n){const t=n.ownerDocument.defaultView.getComputedStyle(n);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function cR(n){if(!n.target)return null;const t=n.target.ownerDocument,e=n.clientX,i=n.clientY;let s=null;return t.caretRangeFromPoint&&t.caretRangeFromPoint(e,i)?s=t.caretRangeFromPoint(e,i):n.rangeParent&&(s=t.createRange(),s.setStart(n.rangeParent,n.rangeOffset),s.collapse(!0)),s}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Yt(n){return Object.prototype.toString.call(n)=="[object Text]"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Om(n){return Object.prototype.toString.apply(n)=="[object Range]"}function uR(n){return!n||!n.parentNode||n.offsetParent===ke.document.body?null:n.offsetParent}const dR=["top","right","bottom","left","width","height"];class Je{constructor(t){y(this,"top");y(this,"right");y(this,"bottom");y(this,"left");y(this,"width");y(this,"height");y(this,"_source");const e=Om(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),iv(t)||e)if(e){const i=Je.getDomRangeRects(t);Ah(this,Je.getBoundingRect(i))}else Ah(this,t.getBoundingClientRect());else if(Lp(t)){const{innerWidth:i,innerHeight:s}=t;Ah(this,{top:0,right:i,bottom:s,left:0,width:i,height:s})}else Ah(this,t)}clone(){return new Je(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};if(e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0)return null;{const i=new Je(e);return i._source=this._source,i}}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(_x(t))return e;let i=t,s=t.parentNode||t.commonAncestorContainer,r;for(;s&&!_x(s);){const o=IH(s)==="visible";i instanceof HTMLElement&&kx(i)==="absolute"&&(r=i);const l=kx(s);if(o||r&&(l==="relative"&&o||l!=="relative")){i=s,s=s.parentNode;continue}const u=new Je(s),f=e.getIntersection(u);if(f)f.getArea()<e.getArea()&&(e=f);else return null;i=s,s=s.parentNode}return e}isEqual(t){for(const e of dR)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!!(e&&e.isEqual(t))}toAbsoluteRect(){const{scrollX:t,scrollY:e}=ke.window,i=this.clone().moveBy(t,e);if(iv(i._source)){const s=uR(i._source);s&&LH(i,s)}return i}excludeScrollbarsAndBorders(){const t=this._source;let e,i,s;if(Lp(t))e=t.innerWidth-t.document.documentElement.clientWidth,i=t.innerHeight-t.document.documentElement.clientHeight,s=t.getComputedStyle(t.document.documentElement).direction;else{const r=lR(t);e=t.offsetWidth-t.clientWidth-r.left-r.right,i=t.offsetHeight-t.clientHeight-r.top-r.bottom,s=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=r.left,this.top+=r.top,this.right-=r.right,this.bottom-=r.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,s==="ltr"?this.right-=e:this.left+=e,this.height-=i,this.bottom-=i,this}static getDomRangeRects(t){const e=[],i=Array.from(t.getClientRects());if(i.length)for(const s of i)e.push(new Je(s));else{let s=t.startContainer;Yt(s)&&(s=s.parentNode);const r=new Je(s.getBoundingClientRect());r.right=r.left,r.width=0,e.push(r)}return e}static getBoundingRect(t){const e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let i=0;for(const s of t)i++,e.left=Math.min(e.left,s.left),e.top=Math.min(e.top,s.top),e.right=Math.max(e.right,s.right),e.bottom=Math.max(e.bottom,s.bottom);return i==0?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new Je(e))}}function Ah(n,t){for(const e of dR)n[e]=t[e]}function _x(n){return iv(n)?n===n.ownerDocument.body:!1}function iv(n){return n!==null&&typeof n=="object"&&n.nodeType===1&&typeof n.getBoundingClientRect=="function"}function kx(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).position:"static"}function IH(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).overflow:"visible"}function LH(n,t){const e=new Je(t),i=lR(t);let s=0,r=0;s-=e.left,r-=e.top,s+=t.scrollLeft,r+=t.scrollTop,s-=i.left,r-=i.top,n.moveBy(s,r)}var Lt;let O1=(Lt=class{constructor(t,e){y(this,"_element");y(this,"_callback");Lt._observerInstance||Lt._createObserver(),this._element=t,this._callback=e,Lt._addElementCallback(t,e),Lt._observerInstance.observe(t)}get element(){return this._element}destroy(){Lt._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){Lt._elementCallbacks||(Lt._elementCallbacks=new Map);let i=Lt._elementCallbacks.get(t);i||(i=new Set,Lt._elementCallbacks.set(t,i)),i.add(e)}static _deleteElementCallback(t,e){const i=Lt._getElementCallbacks(t);i&&(i.delete(e),i.size||(Lt._elementCallbacks.delete(t),Lt._observerInstance.unobserve(t))),Lt._elementCallbacks&&!Lt._elementCallbacks.size&&(Lt._observerInstance=null,Lt._elementCallbacks=null)}static _getElementCallbacks(t){return Lt._elementCallbacks?Lt._elementCallbacks.get(t):null}static _createObserver(){Lt._observerInstance=new ke.window.ResizeObserver(t=>{for(const e of t){const i=Lt._getElementCallbacks(e.target);if(i)for(const s of i)s(e)}})}},y(Lt,"_observerInstance",null),y(Lt,"_elementCallbacks",null),Lt);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Cx(n,t){n instanceof HTMLTextAreaElement&&(n.value=t),n.innerHTML=t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Gd(n){return t=>t+n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Nu(n){let t=0;for(;n.previousSibling;)n=n.previousSibling,t++;return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function fR(n,t,e){n.insertBefore(e,n.childNodes[t]||null)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Xu(n){return n&&n.nodeType===Node.COMMENT_NODE}function BH(n){try{ke.document.createAttribute(n)}catch{return!1}return!0}function Ar(n){return n?Yt(n)?Ar(n.parentElement):n.getClientRects?!!n.getClientRects().length:!1:!1}function M1({element:n,target:t,positions:e,limiter:i,fitInViewport:s,viewportOffsetConfig:r}){Op(t)&&(t=t()),Op(i)&&(i=i());const o=uR(n),l=DH(r),u=new Je(n),f=Sx(t,l);let h;if(!f||!l.getIntersection(f))return null;const m={targetRect:f,elementRect:u,positionedElementAncestor:o,viewportRect:l};if(!i&&!s)h=new hR(e[0],m);else{if(i){const b=Sx(i,l);b&&(m.limiterRect=b)}h=NH(e,m)}return h}function Sx(n,t){const e=new Je(n).getVisible();return e?e.getIntersection(t):null}function DH(n){n=Object.assign({top:0,bottom:0,left:0,right:0},n);const t=new Je(ke.window);return t.top+=n.top,t.height-=n.top,t.bottom-=n.bottom,t.height-=n.bottom,t}function NH(n,t){const{elementRect:e}=t,i=e.getArea(),s=n.map(l=>new hR(l,t)).filter(l=>!!l.name);let r=0,o=null;for(const l of s){const{limiterIntersectionArea:u,viewportIntersectionArea:f}=l;if(u===i)return l;const h=f**2+u**2;h>r&&(r=h,o=l)}return o}class hR{constructor(t,e){y(this,"name");y(this,"config");y(this,"_positioningFunctionCoordinates");y(this,"_options");y(this,"_cachedRect");y(this,"_cachedAbsoluteRect");const i=t(e.targetRect,e.elementRect,e.viewportRect,e.limiterRect);if(!i)return;const{left:s,top:r,name:o,config:l}=i;this.name=o,this.config=l,this._positioningFunctionCoordinates={left:s,top:r},this._options=e}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;return t?t.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function xx(n){const t=n.parentNode;t&&t.removeChild(n)}function tp(){const n=ke.window.visualViewport;if(!n||!(Ie.isiOS||Ie.isSafari))return{left:0,top:0};const t=Math.max(Math.round(n.offsetLeft),0),e=Math.max(Math.round(n.offsetTop),0);return{left:t,top:e}}function VH({target:n,viewportOffset:t=0,ancestorOffset:e=0,alignToTop:i,forceScroll:s}){const r=I1(n);let o=r,l=null;for(t=UH(t);o;){let u;o==r?u=Tx(n):u=Tx(l),zH({parent:u,getRect:()=>M0(n,o),alignToTop:i,ancestorOffset:e,forceScroll:s});let f=M0(n,o);const h=M0(u,o);if(f.height>h.height){const m=f.getIntersection(h);m&&(f=m)}if(FH({window:o,rect:f,viewportOffset:t,alignToTop:i,forceScroll:s}),o.parent!=o){if(l=o.frameElement,o=o.parent,!l)return}else o=null}}function FH({window:n,rect:t,alignToTop:e,forceScroll:i,viewportOffset:s}){const r=t.clone().moveBy(0,s.bottom),o=t.clone().moveBy(0,-s.top),l=new Je(n).excludeScrollbarsAndBorders(),u=[o,r],f=e&&i,h=u.every(k=>l.contains(k));let{scrollX:m,scrollY:b}=n;const w=m,_=b;f?b-=l.top-t.top+s.top:h||(mR(o,l)?b-=l.top-t.top+s.top:pR(r,l)&&(e?b+=t.top-l.top-s.top:b+=t.bottom-l.bottom+s.bottom)),h||(gR(t,l)?m-=l.left-t.left+s.left:bR(t,l)&&(m+=t.right-l.right+s.right)),(m!=w||b!==_)&&n.scrollTo(m,b)}function zH({parent:n,getRect:t,alignToTop:e,forceScroll:i,ancestorOffset:s=0,limiterElement:r}){const o=I1(n),l=e&&i;let u,f,h;const m=r||o.document.body;for(;n!=m;)f=t(),u=new Je(n).excludeScrollbarsAndBorders(),h=u.contains(f),l?n.scrollTop-=u.top-f.top+s:h||(mR(f,u)?n.scrollTop-=u.top-f.top+s:pR(f,u)&&(e?n.scrollTop+=f.top-u.top-s:n.scrollTop+=f.bottom-u.bottom+s)),h||(gR(f,u)?n.scrollLeft-=u.left-f.left+s:bR(f,u)&&(n.scrollLeft+=f.right-u.right+s)),n=n.parentNode}function pR(n,t){return n.bottom>t.bottom}function mR(n,t){return n.top<t.top}function gR(n,t){return n.left<t.left}function bR(n,t){return n.right>t.right}function I1(n){return Om(n)?n.startContainer.ownerDocument.defaultView:n.ownerDocument.defaultView}function Tx(n){if(Om(n)){let t=n.commonAncestorContainer;return Yt(t)&&(t=t.parentNode),t}else return n.parentNode}function M0(n,t){const e=I1(n),i=new Je(n);if(e===t)return i;{let s=e;for(;s!=t;){const r=s.frameElement,o=new Je(r).excludeScrollbarsAndBorders();i.moveBy(o.left,o.top),s=s.parent}}return i}function UH(n){return typeof n=="number"?{top:n,bottom:n,left:n,right:n}:n}const $H={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},HH={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Ex={37:"←",38:"↑",39:"→",40:"↓",9:"⇥",33:"Page Up",34:"Page Down"},Ke=KH(),jH=Object.fromEntries(Object.entries(Ke).map(([n,t])=>{let e;return t in Ex?e=Ex[t]:e=n.charAt(0).toUpperCase()+n.slice(1),[t,e]}));function ya(n){let t;if(typeof n=="string"){if(t=Ke[n.toLowerCase()],!t)throw new j("keyboard-unknown-key",null,{key:n})}else t=n.keyCode+(n.altKey?Ke.alt:0)+(n.ctrlKey?Ke.ctrl:0)+(n.shiftKey?Ke.shift:0)+(n.metaKey?Ke.cmd:0);return t}function Mm(n){return typeof n=="string"&&(n=YH(n)),n.map(t=>typeof t=="string"?qH(t):t).reduce((t,e)=>e+t,0)}function Bp(n,t){let e=Mm(n);const i=Ie.isMac||Ie.isiOS;return Object.entries(i?$H:HH).reduce((o,[l,u])=>((e&Ke[l])!=0&&(e&=~Ke[l],o+=u),o),"")+(e?jH[e]:"")}function WH(n){return n==Ke.arrowright||n==Ke.arrowleft||n==Ke.arrowup||n==Ke.arrowdown}function L1(n,t){const e=t==="ltr";switch(n){case Ke.arrowleft:return e?"left":"right";case Ke.arrowright:return e?"right":"left";case Ke.arrowup:return"up";case Ke.arrowdown:return"down"}}function qH(n){if(n.endsWith("!"))return ya(n.slice(0,-1));const t=ya(n);return(Ie.isMac||Ie.isiOS)&&t==Ke.ctrl?Ke.cmd:t}function GH(n,t){const e=L1(n,t);return e==="down"||e==="right"}function KH(){const n={pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++){const e=String.fromCharCode(t);n[e.toLowerCase()]=t}for(let t=48;t<=57;t++)n[t-48]=t;for(let t=112;t<=123;t++)n["f"+(t-111)]=t;return Object.assign(n,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),n}function YH(n){return n.split("+").map(t=>t.trim())}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const XH=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig","ur","urd"];function Ax(n){return XH.includes(n)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Wt(n){return Array.isArray(n)?n:[n]}/* istanbul ignore else -- @preserve */ke.window.CKEDITOR_TRANSLATIONS||(ke.window.CKEDITOR_TRANSLATIONS={});function JH(n,t,e=1,i){if(typeof e!="number")throw new j("translation-service-quantity-not-a-number",null,{quantity:e});const s=i||ke.window.CKEDITOR_TRANSLATIONS,r=ej(s);r===1&&(n=Object.keys(s)[0]);const o=t.id||t.string;if(r===0||!QH(n,o,s))return e!==1?t.plural:t.string;const l=s[n].dictionary,u=s[n].getPluralForm||(m=>m===1?0:1),f=l[o];if(typeof f=="string")return f;const h=Number(u(e));return f[h]}function ZH(n){return Array.isArray(n)?n.reduce((t,e)=>R1(t,e)):n}function QH(n,t,e){return!!e[n]&&!!e[n].dictionary[t]}function ej(n){return Object.keys(n).length}class tj{constructor({uiLanguage:t="en",contentLanguage:e,translations:i}={}){y(this,"uiLanguage");y(this,"uiLanguageDirection");y(this,"contentLanguage");y(this,"contentLanguageDirection");y(this,"t");y(this,"translations");this.uiLanguage=t,this.contentLanguage=e||this.uiLanguage,this.uiLanguageDirection=Ax(this.uiLanguage),this.contentLanguageDirection=Ax(this.contentLanguage),this.translations=ZH(i),this.t=(s,r)=>this._t(s,r)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e=[]){e=Wt(e),typeof t=="string"&&(t={string:t});const s=!!t.plural?e[0]:1,r=JH(this.uiLanguage,t,s,this.translations);return nj(r,e)}}function nj(n,t){return n.replace(/%(\d+)/g,(e,i)=>i<t.length?t[i]:e)}class Gs extends Ct(){constructor(e={},i={}){super();y(this,"_items");y(this,"_itemMap");y(this,"_idProperty");y(this,"_bindToCollection");y(this,"_bindToExternalToInternalMap");y(this,"_bindToInternalToExternalMap");y(this,"_skippedIndexesFromExternal");const s=Fi(e);if(s||(i=e),this._items=[],this._itemMap=new Map,this._idProperty=i.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],s)for(const r of e)this._items.push(r),this._itemMap.set(this._getItemIdBeforeAdding(r),r)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,i){return this.addMany([e],i)}addMany(e,i){if(i===void 0)i=this._items.length;else if(i>this._items.length||i<0)throw new j("collection-add-item-invalid-index",this);let s=0;for(const r of e){const o=this._getItemIdBeforeAdding(r),l=i+s;this._items.splice(l,0,r),this._itemMap.set(o,r),this.fire("add",r,l),s++}return this.fire("change",{added:e,removed:[],index:i}),this}get(e){let i;if(typeof e=="string")i=this._itemMap.get(e);else if(typeof e=="number")i=this._items[e];else throw new j("collection-get-invalid-arg",this);return i||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const i=this._idProperty,s=e[i];return s&&this._itemMap.has(s)}}getIndex(e){let i;return typeof e=="string"?i=this._itemMap.get(e):i=e,i?this._items.indexOf(i):-1}remove(e){const[i,s]=this._remove(e);return this.fire("change",{added:[],removed:[i],index:s}),i}map(e,i){return this._items.map(e,i)}forEach(e,i){this._items.forEach(e,i)}find(e,i){return this._items.find(e,i)}filter(e,i){return this._items.filter(e,i)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new j("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:i=>{this._setUpBindToBinding(s=>new i(s))},using:i=>{typeof i=="function"?this._setUpBindToBinding(i):this._setUpBindToBinding(s=>s[i])}}}_setUpBindToBinding(e){const i=this._bindToCollection,s=(r,o,l)=>{const u=i._bindToCollection==this,f=i._bindToInternalToExternalMap.get(o);if(u&&f)this._bindToExternalToInternalMap.set(o,f),this._bindToInternalToExternalMap.set(f,o);else{const h=e(o);if(!h){this._skippedIndexesFromExternal.push(l);return}let m=l;for(const b of this._skippedIndexesFromExternal)l>b&&m--;for(const b of i._skippedIndexesFromExternal)m>=b&&m++;this._bindToExternalToInternalMap.set(o,h),this._bindToInternalToExternalMap.set(h,o),this.add(h,m);for(let b=0;b<i._skippedIndexesFromExternal.length;b++)m<=i._skippedIndexesFromExternal[b]&&i._skippedIndexesFromExternal[b]++}};for(const r of i)s(null,r,i.getIndex(r));this.listenTo(i,"add",s),this.listenTo(i,"remove",(r,o,l)=>{const u=this._bindToExternalToInternalMap.get(o);u&&this.remove(u),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((f,h)=>(l<h&&f.push(h-1),l>h&&f.push(h),f),[])})}_getItemIdBeforeAdding(e){const i=this._idProperty;let s;if(i in e){if(s=e[i],typeof s!="string")throw new j("collection-add-invalid-id",this);if(this.get(s))throw new j("collection-add-item-already-exists",this)}else e[i]=s=vi();return s}_remove(e){let i,s,r,o=!1;const l=this._idProperty;if(typeof e=="string"?(s=e,r=this._itemMap.get(s),o=!r,r&&(i=this._items.indexOf(r))):typeof e=="number"?(i=e,r=this._items[i],o=!r,r&&(s=r[l])):(r=e,s=r[l],i=this._items.indexOf(r),o=i==-1||!this._itemMap.get(s)),o)throw new j("collection-remove-404",this);this._items.splice(i,1),this._itemMap.delete(s);const u=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(u),this.fire("remove",r,i),[r,i]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function $i(n){const t=n.next();return t.done?null:t.value}class Ln extends wi(jt()){constructor(){super();y(this,"_elements",new Set);y(this,"_externalViews",new Set);y(this,"_blurTimeout",null);this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}get externalViews(){return Array.from(this._externalViews.values())}add(e){if(Rx(e))this._addElement(e);else if(Px(e))this._addView(e);else{if(!e.element)throw new j("focustracker-add-view-missing-element",{focusTracker:this,view:e});this._addElement(e.element)}}remove(e){Rx(e)?this._removeElement(e):Px(e)?this._removeView(e):this._removeElement(e.element)}_addElement(e){if(this._elements.has(e))throw new j("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>{const i=this.externalViews.find(s=>ij(e,s));i?this._focus(i.element):this._focus(e)},{useCapture:!0}),this.listenTo(e,"blur",()=>{this._blur()},{useCapture:!0}),this._elements.add(e)}_removeElement(e){this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e)),e===this.focusedElement&&this._blur()}_addView(e){e.element&&this._addElement(e.element),this.listenTo(e.focusTracker,"change:focusedElement",()=>{e.focusTracker.focusedElement?e.element&&this._focus(e.element):this._blur()}),this._externalViews.add(e)}_removeView(e){e.element&&this._removeElement(e.element),this.stopListening(e.focusTracker),this._externalViews.delete(e)}destroy(){this.stopListening(),this._elements.clear(),this._externalViews.clear(),this.isFocused=!1,this.focusedElement=null}_focus(e){this._clearBlurTimeout(),this.focusedElement=e,this.isFocused=!0}_blur(){this.elements.find(s=>s.contains(document.activeElement))||this.externalViews.find(s=>s.focusTracker.isFocused&&!s.focusTracker._blurTimeout)||(this._clearBlurTimeout(),this._blurTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0))}_clearBlurTimeout(){clearTimeout(this._blurTimeout),this._blurTimeout=null}}function Px(n){return"focusTracker"in n&&n.focusTracker instanceof Ln}function Rx(n){return wo(n)}function ij(n,t){return Ox(n,t)?!0:!!t.focusTracker.externalViews.find(e=>Ox(n,e))}function Ox(n,t){return!!t.element&&t.element.contains(document.activeElement)&&n.contains(t.element)}class ii{constructor(){y(this,"_listener");this._listener=new(wi())}listenTo(t){this._listener.listenTo(t,"keydown",(e,i)=>{this._listener.fire("_keydown:"+ya(i),i)})}set(t,e,i={}){const s=Mm(t),r=i.priority;this._listener.listenTo(this._listener,"_keydown:"+s,(o,l)=>{i.filter&&!i.filter(l)||(e(l,()=>{l.preventDefault(),l.stopPropagation(),o.stop()}),o.return=!0)},{priority:r})}press(t){return!!this._listener.fire("_keydown:"+ya(t),t)}stopListening(t){this._listener.stopListening(t)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function sj(n){const t=new Map;for(const e in n)t.set(e,n[e]);return t}function Pr(n){return Fi(n)?new Map(n):sj(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Mx(n,t,e){const i=n.length,s=t.length;for(let r=i-1;r>=e;r--)n[r+s]=n[r];for(let r=0;r<s;r++)n[e+r]=t[r]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function B1(n,t){let e;function i(...s){i.cancel(),e=setTimeout(()=>n(...s),t)}return i.cancel=()=>{clearTimeout(e)},i}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function D1(n){try{if(!n.startsWith("ey"))return null;const t=atob(n.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(t)}catch{return null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function rj(){const n=[];for(let t=0;t<256;t++){let e=t;for(let i=0;i<8;i++)e&1?e=3988292384^e>>>1:e=e>>>1;n[t]=e}return n}function oj(n){const t=Array.isArray(n)?n:[n],e=rj();let i=-1;const s=t.map(r=>Array.isArray(r)?r.join(""):String(r)).join("");for(let r=0;r<s.length;r++){const o=s.charCodeAt(r);i=i>>>8^e[(i^o)&255]}return i=(i^-1)>>>0,i.toString(16).padStart(8,"0")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function aj(n){return!!n&&n.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n)}function lj(n){return!!n&&n.length==1&&/[\ud800-\udbff]/.test(n)}function cj(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}function N1(n,t){return lj(n.charAt(t-1))&&cj(n.charAt(t))}function V1(n,t){return aj(n.charAt(t))}const uj=dj();function yR(n,t){const e=String(n).matchAll(uj);return Array.from(e).some(i=>i.index<t&&t<i.index+i[0].length)}function dj(){const n=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],t=new RegExp("\\p{Regional_Indicator}{2}","u").source,e="(?:"+n.map(s=>s.source).join("|")+")",i=`${t}|${e}(?:‍${e})*`;return new RegExp(i,"ug")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const wu=new WeakMap;let Ix=!1;function fj({view:n,element:t,text:e,isDirectHost:i=!0,keepOnFocus:s=!1}){const r=n.document;wu.has(r)||(wu.set(r,new Map),r.registerPostFixer(l=>I0(wu.get(r),l)),r.on("change:isComposing",()=>{n.change(l=>I0(wu.get(r),l))},{priority:"high"})),t.is("editableElement")&&t.on("change:placeholder",(l,u,f)=>o(f)),t.placeholder?o(t.placeholder):e&&o(e),e&&yj();function o(l){const u={text:l,isDirectHost:i,keepOnFocus:s,hostElement:i?t:null};wu.get(r).set(t,u),n.change(f=>I0([[t,u]],f))}}function hj(n,t){return t.hasClass("ck-placeholder")?!1:(n.addClass("ck-placeholder",t),!0)}function pj(n,t){return t.hasClass("ck-placeholder")?(n.removeClass("ck-placeholder",t),!0):!1}function mj(n,t){if(!n.isAttached()||gj(n))return!1;const e=n.document,s=e.selection.anchor;return e.isComposing&&s&&s.parent===n?!1:t||!e.isFocused?!0:!!s&&s.parent!==n}function gj(n){for(const t of n.getChildren())if(!t.is("uiElement"))return!0;return!1}function I0(n,t){const e=[];let i=!1;for(const[s,r]of n)r.isDirectHost&&(e.push(s),Lx(t,s,r)&&(i=!0));for(const[s,r]of n){if(r.isDirectHost)continue;const o=bj(s);o&&(e.includes(o)||(r.hostElement=o,Lx(t,s,r)&&(i=!0)))}return i}function Lx(n,t,e){const{text:i,isDirectHost:s,hostElement:r}=e;let o=!1;return r.getAttribute("data-placeholder")!==i&&(n.setAttribute("data-placeholder",i,r),o=!0),(s||t.childCount==1)&&mj(r,e.keepOnFocus)?hj(n,r)&&(o=!0):pj(n,r)&&(o=!0),o}function bj(n){if(n.childCount){const t=n.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}function yj(){Ix||zt("enableplaceholder-deprecated-text-option"),Ix=!0}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */let Ta=class{is(){throw new Error("is() method is abstract")}},Ea=class extends Ct(Ta){constructor(e){super();y(this,"document");y(this,"parent");this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new j("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.index),i=i.parent;return e}getAncestors(e={}){const i=[];let s=e.includeSelf?this:this.parent;for(;s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}getCommonAncestor(e,i={}){const s=this.getAncestors(i),r=e.getAncestors(i);let o=0;for(;s[o]==r[o]&&s[o];)o++;return o===0?null:s[o-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),s=e.getPath(),r=ti(i,s);switch(r){case"prefix":return!0;case"extension":return!1;default:return i[r]<s[r]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,i,s){this.fire(`change:${e}`,i,s),this.parent&&this.parent._fireChange(e,i,s)}toJSON(){const e=x1(this);return delete e.parent,e}};Ea.prototype.is=function(n){return n==="node"||n==="view:node"};let Qn=class sv extends Ea{constructor(e,i){super(e);y(this,"_textData");this._textData=i}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof sv?this===e||this.data===e.data:!1}_clone(){return new sv(this.document,this.data)}};Qn.prototype.is=function(n){return n==="$text"||n==="view:$text"||n==="text"||n==="view:text"||n==="node"||n==="view:node"};let yr=class extends Ta{constructor(e,i,s){super();y(this,"textNode");y(this,"data");y(this,"offsetInText");if(this.textNode=e,i<0||i>e.data.length)throw new j("view-textproxy-wrong-offsetintext",this);if(s<0||i+s>e.data.length)throw new j("view-textproxy-wrong-length",this);this.data=e.data.substring(i,i+s),this.offsetInText=i}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const i=[];let s=e.includeSelf?this.textNode:this.parent;for(;s!==null;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}};yr.prototype.is=function(n){return n==="$textProxy"||n==="view:$textProxy"||n==="textProxy"||n==="view:textProxy"};class Dp{constructor(){y(this,"_consumables",new Map)}add(t,e){let i;if(t.is("$text")||t.is("documentFragment")){this._consumables.set(t,!0);return}this._consumables.has(t)?i=this._consumables.get(t):(i=new vj(t),this._consumables.set(t,i)),i.add(e?Vu(e):t._getConsumables())}test(t,e){const i=this._consumables.get(t);return i===void 0?null:t.is("$text")||t.is("documentFragment")?i:i.test(Vu(e))}consume(t,e){if(t.is("$text")||t.is("documentFragment"))return this.test(t,e)?(this._consumables.set(t,!1),!0):!1;const i=this._consumables.get(t);return i===void 0?!1:i.consume(Vu(e))}revert(t,e){const i=this._consumables.get(t);i!==void 0&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):i.revert(Vu(e)))}static createFrom(t,e){if(e||(e=new Dp),t.is("$text"))e.add(t);else if(t.is("element")||t.is("documentFragment")){e.add(t);for(const i of t.getChildren())Dp.createFrom(i,e)}return e}}class vj{constructor(t){y(this,"element");y(this,"_canConsumeName",null);y(this,"_attributes",new Map);this.element=t}add(t){t.name&&(this._canConsumeName=!0);for(const[e,i]of t.attributes)if(i){let s=this._attributes.get(e);(!s||typeof s=="boolean")&&(s=new Map,this._attributes.set(e,s)),s.set(i,!0)}else{if(e=="style"||e=="class")throw new j("viewconsumable-invalid-attribute",this);this._attributes.set(e,!0)}}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const[e,i]of t.attributes){const s=this._attributes.get(e);if(s===void 0)return null;if(s===!1)return!1;if(s!==!0){if(i){const r=s.get(i);if(r===void 0)return null;if(!r)return!1}else for(const r of s.values())if(!r)return!1}}return!0}consume(t){if(!this.test(t))return!1;t.name&&(this._canConsumeName=!1);for(const[e,i]of t.attributes){const s=this._attributes.get(e);if(typeof s=="boolean")for(const[r]of this.element._getConsumables(e,i).attributes)this._attributes.set(r,!1);else if(i)for(const[,r]of this.element._getConsumables(e,i).attributes)s.set(r,!1);else for(const r of s.keys())s.set(r,!1)}return!0}revert(t){t.name&&(this._canConsumeName=!0);for(const[e,i]of t.attributes){const s=this._attributes.get(e);if(s===!1){this._attributes.set(e,!0);continue}if(!(s===void 0||s===!0))if(i)s.get(i)===!1&&s.set(i,!0);else for(const r of s.keys())s.set(r,!0)}}}function Vu(n){const t=[];return"attributes"in n&&n.attributes&&L0(t,n.attributes),"classes"in n&&n.classes&&L0(t,n.classes,"class"),"styles"in n&&n.styles&&L0(t,n.styles,"style"),{name:n.name||!1,attributes:t}}function L0(n,t,e){if(typeof t=="string"){n.push(e?[e,t]:[t]);return}for(const i of t)Array.isArray(i)?n.push(i):n.push(e?[e,i]:[i])}class va{constructor(...t){y(this,"_patterns",[]);this.add(...t)}add(...t){for(let e of t)(typeof e=="string"||e instanceof RegExp)&&(e={name:e}),this._patterns.push(e)}match(...t){for(const e of t)for(const i of this._patterns){const s=this._isElementMatching(e,i);if(s)return{element:e,pattern:i,match:s}}return null}matchAll(...t){const e=[];for(const i of t)for(const s of this._patterns){const r=this._isElementMatching(i,s);r&&e.push({element:i,pattern:s,match:r})}return e.length>0?e:null}getElementName(){if(this._patterns.length!==1)return null;const t=this._patterns[0],e=t.name;return typeof t!="function"&&e&&!(e instanceof RegExp)?e:null}_isElementMatching(t,e){if(typeof e=="function"){const r=e(t);return!r||typeof r!="object"?r:Vu(r)}const i={};if(e.name&&(i.name=wj(e.name,t.name),!i.name))return null;const s=[];return e.attributes&&!_j(e.attributes,t,s)||e.classes&&!kj(e.classes,t,s)||e.styles&&!Cj(e.styles,t,s)?null:(s.length&&(i.attributes=s),i)}}function Np(n,t){return n===!0||n===t||n instanceof RegExp&&!!String(t).match(n)}function wj(n,t){return n instanceof RegExp?!!t.match(n):n===t}function F1(n,t){if(Array.isArray(n))return n.map(i=>typeof i!="object"||i instanceof RegExp?t?[t,i,!0]:[i,!0]:((i.key===void 0||i.value===void 0)&&zt("matcher-pattern-missing-key-or-value",i),t?[t,i.key,i.value]:[i.key,i.value]));if(typeof n!="object"||n instanceof RegExp)return[t?[t,n,!0]:[n,!0]];const e=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.push(t?[t,i,n[i]]:[i,n[i]]);return e}function _j(n,t,e){let i;return typeof n=="object"&&!(n instanceof RegExp)&&!Array.isArray(n)?(n.style!==void 0&&zt("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&zt("matcher-pattern-deprecated-attributes-class-key",n)):i=["class","style"],t._collectAttributesMatch(F1(n),e,i)}function kj(n,t,e){return t._collectAttributesMatch(F1(n,"class"),e)}function Cj(n,t,e){return t._collectAttributesMatch(F1(n,"style"),e)}class Ju{constructor(t){y(this,"_styles");y(this,"_cachedStyleNames",null);y(this,"_cachedExpandedStyleNames",null);y(this,"_styleProcessor");this._styles={},this._styleProcessor=t}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const e=xj(t);for(const[i,s]of e)this._styleProcessor.toNormalizedForm(i,s,this._styles);return this}has(t){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(t,this._styles).find(([s])=>s===t);return Array.isArray(i)}set(t,e){if(this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,xr(t))for(const[i,s]of Object.entries(t))this._styleProcessor.toNormalizedForm(i,s,this._styles);else this._styleProcessor.toNormalizedForm(t,e,this._styles)}remove(t){for(const e of Wt(t)){this._cachedStyleNames=null,this._cachedExpandedStyleNames=null;const i=rv(e);Y$(this._styles,i),delete this._styles[e],this._cleanEmptyObjectsOnPath(i)}}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(t=>t.join(":")).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!xr(this._styles[t]))return this._styles[t];const i=this._styleProcessor.getReducedForm(t,this._styles).find(([s])=>s===t);if(Array.isArray(i))return i[1]}getStyleNames(t=!1){return this.isEmpty?[]:t?(this._cachedExpandedStyleNames||(this._cachedExpandedStyleNames=this._styleProcessor.getStyleNames(this._styles)),this._cachedExpandedStyleNames):(this._cachedStyleNames||(this._cachedStyleNames=this.getStylesEntries().map(([e])=>e)),this._cachedStyleNames)}keys(){return this.getStyleNames()}clear(){this._styles={},this._cachedStyleNames=null,this._cachedExpandedStyleNames=null}isSimilar(t){if(this.size!==t.size)return!1;for(const e of this.getStyleNames())if(!t.has(e)||t.getAsString(e)!==this.getAsString(e))return!1;return!0}getStylesEntries(){const t=[],e=Object.keys(this._styles);for(const i of e)t.push(...this._styleProcessor.getReducedForm(i,this._styles));return t}_clone(){const t=new this.constructor(this._styleProcessor);return t.set(this.getNormalized()),t}_getTokensMatch(t,e){const i=[];for(const s of this.getStyleNames(!0))if(Np(t,s)){if(e===!0){i.push(s);continue}const r=this.getAsString(s);Np(e,r)&&i.push(s)}return i.length?i:void 0}_getConsumables(t){const e=[];if(t){e.push(t);for(const i of this._styleProcessor.getRelatedStyles(t))e.push(i)}else for(const i of this.getStyleNames()){for(const s of this._styleProcessor.getRelatedStyles(i))e.push(s);e.push(i)}return e}_canMergeFrom(t){for(const e of t.getStyleNames())if(this.has(e)&&this.getAsString(e)!==t.getAsString(e))return!1;return!0}_mergeFrom(t){for(const e of t.getStyleNames())this.has(e)||this.set(e,t.getAsString(e))}_isMatching(t){for(const e of t.getStyleNames())if(!this.has(e)||this.getAsString(e)!==t.getAsString(e))return!1;return!0}_cleanEmptyObjectsOnPath(t){const e=t.split(".");if(!(e.length>1))return;const s=e.splice(0,e.length-1).join("."),r=vo(this._styles,s);if(!r)return;!Object.keys(r).length&&this.remove(s)}}class Sj{constructor(){y(this,"_normalizers");y(this,"_extractors");y(this,"_reducers");y(this,"_consumables");this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,e,i){if(xr(e)){B0(i,rv(t),e);return}if(this._normalizers.has(t)){const s=this._normalizers.get(t),{path:r,value:o}=s(e);B0(i,r,o)}else B0(i,t,e)}getNormalized(t,e){if(!t)return R1({},e);if(e[t]!==void 0)return e[t];if(this._extractors.has(t)){const i=this._extractors.get(t);if(typeof i=="string")return vo(e,i);const s=i(t,e);if(s)return s}return vo(e,rv(t))}getReducedForm(t,e){const i=this.getNormalized(t,e);return i===void 0?[]:this._reducers.has(t)?this._reducers.get(t)(i):[[t,i]]}getStyleNames(t){const e=new Set;for(const i of this._consumables.keys()){const s=this.getNormalized(i,t);s&&(typeof s!="object"||Object.keys(s).length)&&e.add(i)}for(const i of Object.keys(t))e.add(i);return Array.from(e)}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,e){this._normalizers.set(t,e)}setExtractor(t,e){this._extractors.set(t,e)}setReducer(t,e){this._reducers.set(t,e)}setStyleRelation(t,e){this._mapStyleNames(t,e);for(const i of e)this._mapStyleNames(i,[t])}_mapStyleNames(t,e){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...e)}}function xj(n){let t=null,e=0,i=0,s=null;const r=new Map;if(n==="")return r;n.charAt(n.length-1)!=";"&&(n=n+";");for(let o=0;o<n.length;o++){const l=n.charAt(o);if(t===null)switch(l){case":":s||(s=n.substr(e,o-e),i=o+1);break;case'"':case"'":t=l;break;case";":{const u=n.substr(i,o-i);s&&r.set(s.trim(),u.trim()),s=null,e=o+1;break}}else l===t&&(t=null)}return r}function rv(n){return n.replace("-",".")}function B0(n,t,e){let i=e;xr(e)&&(i=R1({},vo(n,t),e)),GP(n,t,i)}class D0{constructor(){y(this,"_set",new Set)}get isEmpty(){return this._set.size==0}get size(){return this._set.size}has(t){return this._set.has(t)}keys(){return Array.from(this._set.keys())}setTo(t){this.clear();for(const e of t.split(/\s+/))e&&this._set.add(e);return this}set(t){for(const e of Wt(t))e&&this._set.add(e)}remove(t){for(const e of Wt(t))this._set.delete(e)}clear(){this._set.clear()}toString(){return Array.from(this._set).join(" ")}isSimilar(t){if(this.size!==t.size)return!1;for(const e of this.keys())if(!t.has(e))return!1;return!0}_clone(){const t=new this.constructor;return t._set=new Set(this._set),t}_getTokensMatch(t){const e=[];if(t===!0){for(const i of this._set.keys())e.push(i);return e}if(typeof t=="string"){for(const i of t.split(/\s+/))if(this._set.has(i))e.push(i);else return;return e}for(const i of this._set.keys())i.match(t)&&e.push(i);return e.length?e:void 0}_getConsumables(t){return t?[t]:this.keys()}_canMergeFrom(){return!0}_mergeFrom(t){for(const e of t._set.keys())this._set.has(e)||this._set.add(e)}_isMatching(t){for(const e of t._set.keys())if(!this._set.has(e))return!1;return!0}}let Aa=class vR extends Ea{constructor(e,i,s,r){super(e);y(this,"name");y(this,"_unsafeAttributesToRender",[]);y(this,"_attrs");y(this,"_children");y(this,"_customProperties",new Map);this.name=i,this._attrs=this._parseAttributes(s),this._children=[],r&&this._insertChild(0,r)}get _classes(){return this._attrs.get("class")}get _styles(){return this._attrs.get("style")}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes&&(yield"class"),this._styles&&(yield"style");for(const e of this._attrs.keys())e!="class"&&e!="style"&&(yield e)}*getAttributes(){for(const[e,i]of this._attrs.entries())yield[e,String(i)]}getAttribute(e){return this._attrs.has(e)?String(this._attrs.get(e)):void 0}hasAttribute(e,i){return this._attrs.has(e)?i!==void 0?Cl(this.name,e)||_u(this.name,e)?this._attrs.get(e).has(i):this._attrs.get(e)===i:!0:!1}isSimilar(e){if(!(e instanceof vR))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size)return!1;for(const[i,s]of this._attrs){const r=e._attrs.get(i);if(r===void 0)return!1;if(typeof s=="string"||typeof r=="string"){if(r!==s)return!1}else if(!s.isSimilar(r))return!1}return!0}hasClass(...e){for(const i of e)if(!this._classes||!this._classes.has(i))return!1;return!0}getClassNames(){const e=this._classes?this._classes.keys():[],i=e[Symbol.iterator]();return Object.assign(e,{next:i.next.bind(i)})}getStyle(e){return this._styles&&this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles&&this._styles.getNormalized(e)}getStyleNames(e){return this._styles?this._styles.getStyleNames(e):[]}hasStyle(...e){for(const i of e)if(!this._styles||!this._styles.has(i))return!1;return!0}findAncestor(...e){const i=new va(...e);let s=this.parent;for(;s&&!s.is("documentFragment");){if(i.match(s))return s;s=s.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=this._classes?this._classes.keys().sort().join(","):"",i=this._styles&&String(this._styles),s=Array.from(this._attrs).filter(([r])=>r!="style"&&r!="class").map(r=>`${r[0]}="${r[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(i?` style="${i}"`:"")+(s==""?"":` ${s}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const i=[];if(e)for(const r of this.getChildren())i.push(r._clone(e));const s=new this.constructor(this.document,this.name,this._attrs,i);return s._customProperties=new Map(this._customProperties),s.getFillerOffset=this.getFillerOffset,s._unsafeAttributesToRender=this._unsafeAttributesToRender,s}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,i){this._fireChange("children",this,{index:e});let s=0;const r=Tj(this.document,i);for(const o of r)o.parent!==null&&o._remove(),o.parent=this,o.document=this.document,this._children.splice(e,0,o),e++,s++;return s}_removeChildren(e,i=1){this._fireChange("children",this,{index:e});for(let s=e;s<e+i;s++)this._children[s].parent=null;return this._children.splice(e,i)}_setAttribute(e,i,s=!0){if(this._fireChange("attributes",this),Cl(this.name,e)||_u(this.name,e)){let r=this._attrs.get(e);r||(r=Cl(this.name,e)?new Ju(this.document.stylesProcessor):new D0,this._attrs.set(e,r)),s?r.setTo(String(i)):Cl(this.name,e)?Array.isArray(i)?r.set(i[0],i[1]):r.set(i):r.set(typeof i=="string"?i.split(/\s+/):i)}else this._attrs.set(e,String(i))}_removeAttribute(e,i){if(this._fireChange("attributes",this),i!==void 0&&(Cl(this.name,e)||_u(this.name,e))){const s=this._attrs.get(e);return s?(_u(this.name,e)&&typeof i=="string"&&(i=i.split(/\s+/)),s.remove(i),s.isEmpty?this._attrs.delete(e):!1):!1}return this._attrs.delete(e)}_addClass(e){this._setAttribute("class",e,!1)}_removeClass(e){this._removeAttribute("class",e)}_setStyle(e,i){typeof e!="string"?this._setAttribute("style",e,!1):this._setAttribute("style",[e,i],!1)}_removeStyle(e){this._removeAttribute("style",e)}_collectAttributesMatch(e,i,s){for(const[r,o,l]of e){let u=!1,f=!1;for(const[h,m]of this._attrs)if(!(s&&s.includes(h)||!Np(r,h)))if(u=!0,typeof m=="string"){if(Np(o,m))i.push([h]),f=!0;else if(!(r instanceof RegExp))return!1}else{const b=m._getTokensMatch(o,l||!0);if(b){f=!0;for(const w of b)i.push([h,w])}else if(!(r instanceof RegExp))return!1}if(!u||!f)return!1}return!0}_getConsumables(e,i){const s=[];if(e){const r=this._attrs.get(e);if(r!==void 0)if(typeof r=="string")s.push([e]);else for(const o of r._getConsumables(i))s.push([e,o])}else for(const[r,o]of this._attrs)if(typeof o=="string")s.push([r]);else for(const l of o._getConsumables())s.push([r,l]);return{name:!e,attributes:s}}_canMergeAttributesFrom(e){if(this.name!=e.name)return!1;for(const[i,s]of e._attrs){const r=this._attrs.get(i);if(r!==void 0){if(typeof r=="string"||typeof s=="string"){if(r!==s)return!1}else if(!r._canMergeFrom(s))return!1}}return!0}_mergeAttributesFrom(e){this._fireChange("attributes",this);for(const[i,s]of e._attrs){const r=this._attrs.get(i);r===void 0||typeof r=="string"||typeof s=="string"?this._setAttribute(i,s):r._mergeFrom(s)}}_canSubtractAttributesOf(e){if(this.name!=e.name)return!1;for(const[i,s]of e._attrs){const r=this._attrs.get(i);if(r===void 0)return!1;if(typeof r=="string"||typeof s=="string"){if(r!==s)return!1}else if(!r._isMatching(s))return!1}return!0}_subtractAttributesOf(e){this._fireChange("attributes",this);for(const[i,s]of e._attrs){const r=this._attrs.get(i);typeof r=="string"||typeof s=="string"?this._attrs.delete(i):(r.remove(s.keys()),r.isEmpty&&this._attrs.delete(i))}}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}_parseAttributes(e){const i=Pr(e);for(const[s,r]of i)if(r===null)i.delete(s);else if(Cl(this.name,s)){const o=r instanceof Ju?r._clone():new Ju(this.document.stylesProcessor).setTo(String(r));i.set(s,o)}else if(_u(this.name,s)){const o=r instanceof D0?r._clone():new D0().setTo(String(r));i.set(s,o)}else typeof r!="string"&&i.set(s,String(r));return i}};Aa.prototype.is=function(n,t){return t?t===this.name&&(n==="element"||n==="view:element"):n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Tj(n,t){if(typeof t=="string")return[new Qn(n,t)];Fi(t)||(t=[t]);const e=[];for(const i of t)typeof i=="string"?e.push(new Qn(n,i)):i instanceof yr?e.push(new Qn(n,i.data)):e.push(i);return e}function _u(n,t){return t=="class"||n=="a"&&t=="rel"}function Cl(n,t){return t=="style"}class _d extends Aa{constructor(t,e,i,s){super(t,e,i,s),this.getFillerOffset=Ej}}_d.prototype.is=function(n,t){return t?t===this.name&&(n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Ej(){const n=[...this.getChildren()],t=n[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const e of n)if(!e.is("uiElement"))return null;return this.childCount}class Im extends jt(_d){constructor(t,e,i,s){super(t,e,i,s),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",r=>r&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}destroy(){this.stopListening()}}Im.prototype.is=function(n,t){return t?t===this.name&&(n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};const Bx=Symbol("rootName");class wR extends Im{constructor(t,e){super(t,e),this.rootName="main"}get rootName(){return this.getCustomProperty(Bx)}set rootName(t){this._setCustomProperty(Bx,t)}set _name(t){this.name=t}}wR.prototype.is=function(n,t){return t?t===this.name&&(n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};let aa=class{constructor(t={}){y(this,"direction");y(this,"boundaries");y(this,"singleCharacters");y(this,"shallow");y(this,"ignoreElementEnd");y(this,"_position");y(this,"_boundaryStartParent");y(this,"_boundaryEndParent");if(!t.boundaries&&!t.startPosition)throw new j("view-tree-walker-no-start-position",null);if(t.direction&&t.direction!="forward"&&t.direction!="backward")throw new j("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this._position=we._createAt(t.startPosition):this._position=we._createAt(t.boundaries[t.direction=="backward"?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,i;do i=this.position,e=this.next();while(!e.done&&t(e.value));e.done||(this._position=i)}jumpTo(t){this._boundaryStartParent&&t.isBefore(this.boundaries.start)?t=this.boundaries.start:this._boundaryEndParent&&t.isAfter(this.boundaries.end)&&(t=this.boundaries.end),this._position=t.clone()}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,i=t.parent;if(i.parent===null&&t.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let s;if(i&&i.is("view:$text")){if(t.isAtEnd)return this._position=we._createAfter(i),this._next();s=i.data[t.offset]}else s=i.getChild(t.offset);if(typeof s=="string"){let r;this.singleCharacters?r=1:r=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-t.offset;const o=new yr(i,t.offset,r);return t.offset+=r,this._position=t,this._formatReturnValue("text",o,e,t,r)}if(s&&s.is("view:element")){if(!this.shallow)t=new we(s,0);else{if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}return this._position=t,this._formatReturnValue("elementStart",s,e,t,1)}if(s&&s.is("view:$text")){if(this.singleCharacters)return t=new we(s,0),this._position=t,this._next();let r=s.data.length,o;return s==this._boundaryEndParent?(r=this.boundaries.end.offset,o=new yr(s,0,r),t=we._createAfter(o)):(o=new yr(s,0,s.data.length),t.offset++),this._position=t,this._formatReturnValue("text",o,e,t,r)}return t=we._createAfter(i),this._position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,e,t)}_previous(){let t=this.position.clone();const e=this.position,i=t.parent;if(i.parent===null&&t.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let s;if(i.is("view:$text")){if(t.isAtStart)return this._position=we._createBefore(i),this._previous();s=i.data[t.offset-1]}else s=i.getChild(t.offset-1);if(typeof s=="string"){let r;if(this.singleCharacters)r=1;else{const l=i===this._boundaryStartParent?this.boundaries.start.offset:0;r=t.offset-l}t.offset-=r;const o=new yr(i,t.offset,r);return this._position=t,this._formatReturnValue("text",o,e,t,r)}if(s&&s.is("view:element"))return this.shallow?(t.offset--,this._position=t,this._formatReturnValue("elementStart",s,e,t,1)):(t=new we(s,s.childCount),this._position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,e,t));if(s&&s.is("view:$text")){if(this.singleCharacters)return t=new we(s,s.data.length),this._position=t,this._previous();let r=s.data.length,o;if(s==this._boundaryStartParent){const l=this.boundaries.start.offset;o=new yr(s,l,s.data.length-l),r=o.data.length,t=we._createBefore(o)}else o=new yr(s,0,s.data.length),t.offset--;return this._position=t,this._formatReturnValue("text",o,e,t,r)}return t=we._createBefore(i),this._position=t,this._formatReturnValue("elementStart",i,e,t,1)}_formatReturnValue(t,e,i,s,r){return e.is("view:$textProxy")&&(e.offsetInText+e.data.length==e.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(s=we._createAfter(e.textNode),this._position=s):i=we._createAfter(e.textNode)),e.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(s=we._createBefore(e.textNode),this._position=s):i=we._createBefore(e.textNode))),{done:!1,value:{type:t,item:e,previousPosition:i,nextPosition:s,length:r}}}},we=class gr extends Ta{constructor(e,i){super();y(this,"parent");y(this,"offset");this.parent=e,this.offset=i}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Im);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const i=gr._createAt(this),s=i.offset+e;return i.offset=s<0?0:s,i}getLastMatchingPosition(e,i={}){i.startPosition=this;const s=new aa(i);return s.skip(e),s.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const i=this.getAncestors(),s=e.getAncestors();let r=0;for(;i[r]==s[r]&&i[r];)r++;return r===0?null:i[r-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const i=this.parent.is("node")?this.parent.getPath():[],s=e.parent.is("node")?e.parent.getPath():[];i.push(this.offset),s.push(e.offset);const r=ti(i,s);switch(r){case"prefix":return"before";case"extension":return"after";default:return i[r]<s[r]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new aa(e)}clone(){return new gr(this.parent,this.offset)}static _createAt(e,i){if(e instanceof gr)return new this(e.parent,e.offset);{const s=e;if(i=="end")i=s.is("$text")?s.data.length:s.childCount;else{if(i=="before")return this._createBefore(s);if(i=="after")return this._createAfter(s);if(i!==0&&!i)throw new j("view-createpositionat-offset-required",s)}return new gr(s,i)}}static _createAfter(e){if(e.is("$textProxy"))return new gr(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new j("view-position-after-root",e,{root:e});return new gr(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new gr(e.textNode,e.offsetInText);if(!e.parent)throw new j("view-position-before-root",e,{root:e});return new gr(e.parent,e.index)}};we.prototype.is=function(n){return n==="position"||n==="view:position"};let nt=class ao extends Ta{constructor(e,i=null){super();y(this,"start");y(this,"end");this.start=e.clone(),this.end=i?i.clone():e.clone()}*[Symbol.iterator](){yield*new aa({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Ph,{direction:"backward"}),i=this.end.getLastMatchingPosition(Ph);return e.parent.is("$text")&&e.isAtStart&&(e=we._createBefore(e.parent)),i.parent.is("$text")&&i.isAtEnd&&(i=we._createAfter(i.parent)),new ao(e,i)}getTrimmed(){let e=this.start.getLastMatchingPosition(Ph);if(e.isAfter(this.end)||e.isEqual(this.end))return new ao(e,e);let i=this.end.getLastMatchingPosition(Ph,{direction:"backward"});const s=e.nodeAfter,r=i.nodeBefore;return s&&s.is("$text")&&(e=new we(s,0)),r&&r.is("$text")&&(i=new we(r,r.data.length)),new ao(e,i)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const s=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return s&&r}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new ao(this.start,e.start)),this.containsPosition(e.end)&&i.push(new ao(e.end,this.end))):i.push(this.clone()),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,s=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(s=e.end),new ao(i,s)}return null}getWalker(e={}){return e.boundaries=this,new aa(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,i=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(i=this.end.parent.previousSibling),e&&e.is("element")&&e===i?e:null}clone(){return new ao(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new aa(e);for(const s of i)yield s.item}*getPositions(e={}){e.boundaries=this;const i=new aa(e);yield i.position;for(const s of i)yield s.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,i,s,r){return new this(new we(e,i),new we(s,r))}static _createFromPositionAndShift(e,i){const s=e,r=e.getShiftedBy(i);return i>0?new this(s,r):new this(r,s)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const i=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(we._createBefore(e),i)}};nt.prototype.is=function(n){return n==="range"||n==="view:range"};function Ph(n){return!!(n.item.is("attributeElement")||n.item.is("uiElement"))}let mo=class _R extends Ct(Ta){constructor(...e){super();y(this,"_ranges");y(this,"_lastRangeBackward");y(this,"_isFake");y(this,"_fakeSelectionLabel");this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const i of this._ranges)(!e||i.start.isBefore(e.start))&&(e=i);return e?e.clone():null}getLastRange(){let e=null;for(const i of this._ranges)(!e||i.end.isAfter(e.end))&&(e=i);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let s=!1;for(const r of e._ranges)if(i.isEqual(r)){s=!0;break}if(!s)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const i=nv(this.getRanges()),s=nv(e.getRanges());if(i!=s)return!1;if(i==0)return!0;for(let r of this.getRanges()){r=r.getTrimmed();let o=!1;for(let l of e.getRanges())if(l=l.getTrimmed(),r.start.isEqual(l.start)&&r.end.isEqual(l.end)){o=!0;break}if(!o)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[i,s,r]=e;if(typeof s=="object"&&(r=s,s=void 0),i===null)this._setRanges([]),this._setFakeOptions(r);else if(i instanceof _R||i instanceof z1)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof nt)this._setRanges([i],r&&r.backward),this._setFakeOptions(r);else if(i instanceof we)this._setRanges([new nt(i)]),this._setFakeOptions(r);else if(i instanceof Ea){const o=!!r&&!!r.backward;let l;if(s===void 0)throw new j("view-selection-setto-required-second-parameter",this);s=="in"?l=nt._createIn(i):s=="on"?l=nt._createOn(i):l=new nt(we._createAt(i,s)),this._setRanges([l],o),this._setFakeOptions(r)}else if(Fi(i))this._setRanges(i,r&&r.backward),this._setFakeOptions(r);else throw new j("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,i){if(this.anchor===null)throw new j("view-selection-setfocus-no-ranges",this);const s=we._createAt(e,i);if(s.compareWith(this.focus)=="same")return;const r=this.anchor;this._ranges.pop(),s.compareWith(r)=="before"?this._addRange(new nt(s,r),!0):this._addRange(new nt(r,s)),this.fire("change")}_setRanges(e,i=!1){e=Array.from(e),this._ranges=[];for(const s of e)this._addRange(s);this._lastRangeBackward=!!i}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,i=!1){if(!(e instanceof nt))throw new j("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!i}_pushRange(e){for(const i of this._ranges)if(e.isIntersecting(i))throw new j("view-selection-range-intersects",this,{addedRange:e,intersectingRange:i});this._ranges.push(new nt(e.start,e.end))}};mo.prototype.is=function(n){return n==="selection"||n==="view:selection"};let z1=class extends Ct(Ta){constructor(...e){super();y(this,"_selection");this._selection=new mo,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,i){this._selection.setFocus(e,i)}};z1.prototype.is=function(n){return n==="selection"||n=="documentSelection"||n=="view:selection"||n=="view:documentSelection"};class Pa extends Er{constructor(e,i,s){super(e,i);y(this,"startRange");y(this,"_eventPhase");y(this,"_currentTarget");this.startRange=s,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const N0=Symbol("bubbling contexts");function ov(n){class t extends n{fire(i,...s){try{const r=i instanceof Er?i:new Er(this,i),o=V0(this);if(!o.size)return;if(ku(r,"capturing",this),Sl(o,"$capture",r,...s))return r.return;const l=r.startRange||this.selection.getFirstRange(),u=l?l.getContainedElement():null,f=u?!!kR(o,u):!1;let h=u||Aj(l);if(ku(r,"atTarget",h),!f){if(Sl(o,"$text",r,...s))return r.return;ku(r,"bubbling",h)}for(;h;){if(h.is("rootElement")){if(Sl(o,"$root",r,...s))return r.return}else if(h.is("element")&&Sl(o,h.name,r,...s))return r.return;if(Sl(o,h,r,...s))return r.return;h=h.parent,ku(r,"bubbling",h)}return ku(r,"bubbling",this),Sl(o,"$document",r,...s),r.return}catch(r){/* istanbul ignore next -- @preserve */j.rethrowUnexpectedError(r,this)}}_addEventListener(i,s,r){const o=Wt(r.context||"$document"),l=V0(this);for(const u of o){let f=l.get(u);f||(f=new(Ct()),l.set(u,f)),this.listenTo(f,i,s,r)}}_removeEventListener(i,s){const r=V0(this);for(const o of r.values())this.stopListening(o,i,s)}}return t}{const n=ov(Object);["fire","_addEventListener","_removeEventListener"].forEach(t=>{ov[t]=n.prototype[t]})}function ku(n,t,e){n instanceof Pa&&(n._eventPhase=t,n._currentTarget=e)}function Sl(n,t,e,...i){const s=typeof t=="string"?n.get(t):kR(n,t);return s?(s.fire(e,...i),e.stop.called):!1}function kR(n,t){for(const[e,i]of n)if(typeof e=="function"&&e(t))return i;return null}function V0(n){return n[N0]||(n[N0]=new Map),n[N0]}function Aj(n){if(!n)return null;const t=n.start.parent,e=n.end.parent,i=t.getPath(),s=e.getPath();return i.length>s.length?t:e}let CR=class extends ov(jt()){constructor(e){super();y(this,"selection");y(this,"roots");y(this,"stylesProcessor");y(this,"_postFixers",new Set);this.selection=new z1,this.roots=new Gs({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let i=!1;do for(const s of this._postFixers)if(i=s(e),i)break;while(i)}};const Dx=10;class fa extends Aa{constructor(e,i,s,r){super(e,i,s,r);y(this,"_priority",Dx);y(this,"_id",null);y(this,"_clonesGroup",null);this.getFillerOffset=Pj}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new j("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const i=super._clone(e);return i._priority=this._priority,i._id=this._id,i}_canMergeAttributesFrom(e){return this.id!==null||e.id!==null||this.priority!==e.priority?!1:super._canMergeAttributesFrom(e)}_canSubtractAttributesOf(e){return this.id!==null||e.id!==null||this.priority!==e.priority?!1:super._canSubtractAttributesOf(e)}}y(fa,"DEFAULT_PRIORITY",Dx);fa.prototype.is=function(n,t){return t?t===this.name&&(n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"):n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Pj(){if(F0(this))return null;let n=this.parent;for(;n&&n.is("attributeElement");){if(F0(n)>1)return null;n=n.parent}return!n||F0(n)>1?null:this.childCount}function F0(n){return Array.from(n.getChildren()).filter(t=>!t.is("uiElement")).length}class U1 extends Aa{constructor(t,e,i,s){super(t,e,i,s),this.getFillerOffset=Rj}_insertChild(t,e){if(e&&(e instanceof Ea||Array.from(e).length>0))throw new j("view-emptyelement-cannot-add",[this,e]);return 0}}U1.prototype.is=function(n,t){return t?t===this.name&&(n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"):n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Rj(){return null}class Lm extends Aa{constructor(t,e,i,s){super(t,e,i,s),this.getFillerOffset=Mj}_insertChild(t,e){if(e&&(e instanceof Ea||Array.from(e).length>0))throw new j("view-uielement-cannot-add",[this,e]);return 0}render(t,e){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const i of this.getAttributeKeys())e.setAttribute(i,this.getAttribute(i));return e}}Lm.prototype.is=function(n,t){return t?t===this.name&&(n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"):n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Oj(n){n.document.on("arrowKey",(t,e)=>Ij(t,e,n.domConverter),{priority:"low"})}function Mj(){return null}function Ij(n,t,e){if(t.keyCode==Ke.arrowright){const i=t.domTarget.ownerDocument.defaultView.getSelection(),s=i.rangeCount==1&&i.getRangeAt(0).collapsed;if(s||t.shiftKey){const r=i.focusNode,o=i.focusOffset,l=e.domPositionToView(r,o);if(l===null)return;let u=!1;const f=l.getLastMatchingPosition(h=>(h.item.is("uiElement")&&(u=!0),!!(h.item.is("uiElement")||h.item.is("attributeElement"))));if(u){const h=e.viewPositionToDom(f);s?i.collapse(h.parent,h.offset):i.extend(h.parent,h.offset)}}}}class $1 extends Aa{constructor(t,e,i,s){super(t,e,i,s),this.getFillerOffset=Lj}_insertChild(t,e){if(e&&(e instanceof Ea||Array.from(e).length>0))throw new j("view-rawelement-cannot-add",[this,e]);return 0}render(t,e){}}$1.prototype.is=function(n,t){return t?t===this.name&&(n==="rawElement"||n==="view:rawElement"||n==="element"||n==="view:element"):n==="rawElement"||n==="view:rawElement"||n===this.name||n==="view:"+this.name||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function Lj(){return null}let Ul=class extends Ct(Ta){constructor(e,i){super();y(this,"document");y(this,"_children",[]);y(this,"_customProperties",new Map);this.document=e,i&&this._insertChild(0,i)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,i){this._fireChange("children",this,{index:e});let s=0;const r=Bj(this.document,i);for(const o of r)o.parent!==null&&o._remove(),o.parent=this,this._children.splice(e,0,o),e++,s++;return s}_removeChildren(e,i=1){this._fireChange("children",this,{index:e});for(let s=e;s<e+i;s++)this._children[s].parent=null;return this._children.splice(e,i)}_fireChange(e,i,s){this.fire(`change:${e}`,i,s)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}};Ul.prototype.is=function(n){return n==="documentFragment"||n==="view:documentFragment"};function Bj(n,t){return typeof t=="string"?[new Qn(n,t)]:(Fi(t)||(t=[t]),Array.from(t).map(e=>typeof e=="string"?new Qn(n,e):e instanceof yr?new Qn(n,e.data):e))}class SR{constructor(t){y(this,"document");y(this,"_cloneGroups",new Map);y(this,"_slotFactory",null);this.document=t}setSelection(...t){this.document.selection._setTo(...t)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createDocumentFragment(t){return new Ul(this.document,t)}createText(t){return new Qn(this.document,t)}createAttributeElement(t,e,i={}){const s=new fa(this.document,t,e);return typeof i.priority=="number"&&(s._priority=i.priority),i.id&&(s._id=i.id),i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createContainerElement(t,e,i={},s={}){let r=null;vr(i)?s=i:r=i;const o=new _d(this.document,t,e,r);return s.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),o}createEditableElement(t,e,i={}){const s=new Im(this.document,t,e);return i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createEmptyElement(t,e,i={}){const s=new U1(this.document,t,e);return i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createUIElement(t,e,i){const s=new Lm(this.document,t,e);return i&&(s.render=i),s}createRawElement(t,e,i,s={}){const r=new $1(this.document,t,e);return i&&(r.render=i),s.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),r}setAttribute(t,e,i,s){s!==void 0?s._setAttribute(t,e,i):i._setAttribute(t,e)}removeAttribute(t,e,i){i!==void 0?i._removeAttribute(t,e):e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,i){vr(t)&&i===void 0?e._setStyle(t):i._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,i){i._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof we?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new j("view-writer-break-non-container-element",this.document);if(!e.parent)throw new j("view-writer-break-root",this.document);if(t.isAtStart)return we._createBefore(e);if(!t.isAtEnd){const i=e._clone(!1);this.insert(we._createAfter(e),i);const s=new nt(t,we._createAt(e,"end")),r=new we(i,0);this.move(s,r)}return we._createAfter(e)}mergeAttributes(t){const e=t.offset,i=t.parent;if(i.is("$text"))return t;if(i.is("attributeElement")&&i.childCount===0){const o=i.parent,l=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new we(o,l))}const s=i.getChild(e-1),r=i.getChild(e);if(!s||!r)return t;if(s.is("$text")&&r.is("$text"))return Vx(s,r);if(s.is("attributeElement")&&r.is("attributeElement")&&s.isSimilar(r)){const o=s.childCount;return s._appendChild(r.getChildren()),r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new we(s,o))}return t}mergeContainers(t){const e=t.nodeBefore,i=t.nodeAfter;if(!e||!i||!e.is("containerElement")||!i.is("containerElement"))throw new j("view-writer-merge-containers-invalid-position",this.document);const s=e.getChild(e.childCount-1),r=s instanceof Qn?we._createAt(s,"end"):we._createAt(e,"end");return this.move(nt._createIn(i),we._createAt(e,"end")),this.remove(nt._createOn(i)),r}insert(t,e){e=Fi(e)?[...e]:[e],xR(e,this.document);const i=e.reduce((o,l)=>{const u=o[o.length-1],f=!l.is("uiElement");return!u||u.breakAttributes!=f?o.push({breakAttributes:f,nodes:[l]}):u.nodes.push(l),o},[]);let s=null,r=t;for(const{nodes:o,breakAttributes:l}of i){const u=this._insertNodes(r,o,l);s||(s=u.start),r=u.end}return s?new nt(s,r):new nt(t)}remove(t){const e=t instanceof nt?t:nt._createOn(t);if(Cu(e,this.document),e.isCollapsed)return new Ul(this.document);const{start:i,end:s}=this._breakAttributesRange(e,!0),r=i.parent,o=s.offset-i.offset,l=r._removeChildren(i.offset,o);for(const f of l)this._removeFromClonedElementsGroup(f);const u=this.mergeAttributes(i);return e.start=u,e.end=u.clone(),new Ul(this.document,l)}clear(t,e){Cu(t,this.document);const i=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const s of i){const r=s.item;let o;if(r.is("element")&&e.isSimilar(r))o=nt._createOn(r);else if(!s.nextPosition.isAfter(t.start)&&r.is("$textProxy")){const l=r.getAncestors().find(u=>u.is("element")&&e.isSimilar(u));l&&(o=nt._createIn(l))}o&&(o.end.isAfter(t.end)&&(o.end=t.end),o.start.isBefore(t.start)&&(o.start=t.start),this.remove(o))}}move(t,e){let i;if(e.isAfter(t.end)){e=this._breakAttributes(e,!0);const s=e.parent,r=s.childCount;t=this._breakAttributesRange(t,!0),i=this.remove(t),e.offset+=s.childCount-r}else i=this.remove(t);return this.insert(e,i)}wrap(t,e){if(!(e instanceof fa))throw new j("view-writer-wrap-invalid-attribute",this.document);if(Cu(t,this.document),t.isCollapsed){let i=t.start;i.parent.is("element")&&!Dj(i.parent)&&(i=i.getLastMatchingPosition(r=>r.item.is("uiElement"))),i=this._wrapPosition(i,e);const s=this.document.selection;return s.isCollapsed&&s.getFirstPosition().isEqual(t.start)&&this.setSelection(i),new nt(i)}else return this._wrapRange(t,e)}unwrap(t,e){if(!(e instanceof fa))throw new j("view-writer-unwrap-invalid-attribute",this.document);if(Cu(t,this.document),t.isCollapsed)return t;const{start:i,end:s}=this._breakAttributesRange(t,!0),r=i.parent,o=this._unwrapChildren(r,i.offset,s.offset,e),l=this.mergeAttributes(o.start);l.isEqual(o.start)||o.end.offset--;const u=this.mergeAttributes(o.end);return new nt(l,u)}rename(t,e){const i=new _d(this.document,t,e.getAttributes());return this.insert(we._createAfter(e),i),this.move(nt._createIn(e),we._createAt(i,0)),this.remove(nt._createOn(e)),i}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return we._createAt(t,e)}createPositionAfter(t){return we._createAfter(t)}createPositionBefore(t){return we._createBefore(t)}createRange(t,e){return new nt(t,e)}createRangeOn(t){return nt._createOn(t)}createRangeIn(t){return nt._createIn(t)}createSelection(...t){return new mo(...t)}createSlot(t="children"){if(!this._slotFactory)throw new j("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,t)}_registerSlotFactory(t){this._slotFactory=t}_clearSlotFactory(){this._slotFactory=null}_insertNodes(t,e,i){let s;if(i?s=av(t):s=t.parent.is("$text")?t.parent.parent:t.parent,!s)throw new j("view-writer-invalid-position-container",this.document);let r;i?r=this._breakAttributes(t,!0):r=t.parent.is("$text")?z0(t):t;const o=s._insertChild(r.offset,e);for(const h of e)this._addToClonedElementsGroup(h);const l=r.getShiftedBy(o),u=this.mergeAttributes(r);u.isEqual(r)||l.offset--;const f=this.mergeAttributes(l);return new nt(u,f)}_wrapChildren(t,e,i,s){let r=e;const o=[];for(;r<i;){const u=t.getChild(r),f=u.is("$text"),h=u.is("attributeElement");if(h&&u._canMergeAttributesFrom(s))u._mergeAttributesFrom(s),o.push(new we(t,r));else if(f||!h||Nj(s,u)){const m=s._clone();u._remove(),m._appendChild(u),t._insertChild(r,m),this._addToClonedElementsGroup(m),o.push(new we(t,r))}else this._wrapChildren(u,0,u.childCount,s);r++}let l=0;for(const u of o){if(u.offset-=l,u.offset==e)continue;this.mergeAttributes(u).isEqual(u)||(l++,i--)}return nt._createFromParentsAndOffsets(t,e,t,i)}_unwrapChildren(t,e,i,s){let r=e;const o=[];for(;r<i;){const u=t.getChild(r);if(!u.is("attributeElement")){r++;continue}if(u.isSimilar(s)){const f=u.getChildren(),h=u.childCount;u._remove(),t._insertChild(r,f),this._removeFromClonedElementsGroup(u),o.push(new we(t,r),new we(t,r+h)),r+=h,i+=h-1;continue}if(u._canSubtractAttributesOf(s)){u._subtractAttributesOf(s),o.push(new we(t,r),new we(t,r+1)),r++;continue}this._unwrapChildren(u,0,u.childCount,s),r++}let l=0;for(const u of o){if(u.offset-=l,u.offset==e||u.offset==i)continue;this.mergeAttributes(u).isEqual(u)||(l++,i--)}return nt._createFromParentsAndOffsets(t,e,t,i)}_wrapRange(t,e){const{start:i,end:s}=this._breakAttributesRange(t,!0),r=i.parent,o=this._wrapChildren(r,i.offset,s.offset,e),l=this.mergeAttributes(o.start);l.isEqual(o.start)||o.end.offset--;const u=this.mergeAttributes(o.end);return new nt(l,u)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return Nx(t.clone());t.parent.is("$text")&&(t=z0(t));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,t.parent._insertChild(t.offset,i);const s=new nt(t,t.getShiftedBy(1));this.wrap(s,e);const r=new we(i.parent,i.index);i._remove();const o=r.nodeBefore,l=r.nodeAfter;return o&&o.is("view:$text")&&l&&l.is("view:$text")?Vx(o,l):Nx(r)}_breakAttributesRange(t,e=!1){const i=t.start,s=t.end;if(Cu(t,this.document),t.isCollapsed){const u=this._breakAttributes(t.start,e);return new nt(u,u)}const r=this._breakAttributes(s,e),o=r.parent.childCount,l=this._breakAttributes(i,e);return r.offset+=r.parent.childCount-o,new nt(l,r)}_breakAttributes(t,e=!1){const i=t.offset,s=t.parent;if(t.parent.is("emptyElement"))throw new j("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new j("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new j("view-writer-cannot-break-raw-element",this.document);if(!e&&s.is("$text")&&lv(s.parent)||lv(s))return t.clone();if(s.is("$text"))return this._breakAttributes(z0(t),e);const r=s.childCount;if(i==r){const o=new we(s.parent,s.index+1);return this._breakAttributes(o,e)}else if(i===0){const o=new we(s.parent,s.index);return this._breakAttributes(o,e)}else{const o=s.index+1,l=s._clone();s.parent._insertChild(o,l),this._addToClonedElementsGroup(l);const u=s.childCount-i,f=s._removeChildren(i,u);l._appendChild(f);const h=new we(s.parent,o);return this._breakAttributes(h,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const s of t.getChildren())this._addToClonedElementsGroup(s);const e=t.id;if(!e)return;let i=this._cloneGroups.get(e);i||(i=new Set,this._cloneGroups.set(e,i)),i.add(t),t._clonesGroup=i}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const s of t.getChildren())this._removeFromClonedElementsGroup(s);const e=t.id;if(!e)return;const i=this._cloneGroups.get(e);i&&i.delete(t)}}function Dj(n){return Array.from(n.getChildren()).some(t=>!t.is("uiElement"))}function av(n){let t=n.parent;for(;!lv(t);){if(!t)return;t=t.parent}return t}function Nj(n,t){return n.priority<t.priority?!0:n.priority>t.priority?!1:n.getIdentity()<t.getIdentity()}function Nx(n){const t=n.nodeBefore;if(t&&t.is("$text"))return new we(t,t.data.length);const e=n.nodeAfter;return e&&e.is("$text")?new we(e,0):n}function z0(n){if(n.offset==n.parent.data.length)return new we(n.parent.parent,n.parent.index+1);if(n.offset===0)return new we(n.parent.parent,n.parent.index);const t=n.parent.data.slice(n.offset);return n.parent._data=n.parent.data.slice(0,n.offset),n.parent.parent._insertChild(n.parent.index+1,new Qn(n.root.document,t)),new we(n.parent.parent,n.parent.index+1)}function Vx(n,t){const e=n.data.length;return n._data+=t.data,t._remove(),new we(n,e)}const Vj=[Qn,fa,_d,U1,$1,Lm];function xR(n,t){for(const e of n){if(!Vj.some(i=>e instanceof i))throw new j("view-writer-insert-invalid-node-type",t);e.is("$text")||xR(e.getChildren(),t)}}function lv(n){return n&&(n.is("containerElement")||n.is("documentFragment"))}function Cu(n,t){const e=av(n.start),i=av(n.end);if(!e||!i||e!==i)throw new j("view-writer-invalid-range-container",t)}const TR=n=>n.createTextNode(" "),ER=n=>{const t=n.createElement("span");return t.dataset.ckeFiller="true",t.innerText=" ",t},AR=n=>{const t=n.createElement("br");return t.dataset.ckeFiller="true",t},Li=7,kd="⁠".repeat(Li);function fi(n){return typeof n=="string"?n.substr(0,Li)===kd:Yt(n)&&n.data.substr(0,Li)===kd}function Bl(n){return n.data.length==Li&&fi(n)}function Fx(n){const t=typeof n=="string"?n:n.data;return fi(n)?t.slice(Li):t}function Fj(n){n.document.on("arrowKey",zj,{priority:"low"})}function zj(n,t){if(t.keyCode==Ke.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(e.rangeCount==1&&e.getRangeAt(0).collapsed){const i=e.getRangeAt(0).startContainer,s=e.getRangeAt(0).startOffset;fi(i)&&s<=Li&&e.collapse(i,0)}}}class Uj extends jt(){constructor(e,i){super();y(this,"domDocuments",new Set);y(this,"domConverter");y(this,"markedAttributes",new Set);y(this,"markedChildren",new Set);y(this,"markedTexts",new Set);y(this,"selection");y(this,"_inlineFiller",null);y(this,"_fakeSelectionContainer",null);this.domConverter=e,this.selection=i,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),Ie.isBlink&&!Ie.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()})}markToSync(e,i){if(e==="text")this.domConverter.mapViewToDom(i.parent)&&this.markedTexts.add(i);else{if(!this.domConverter.mapViewToDom(i))return;if(e==="attributes")this.markedAttributes.add(i);else if(e==="children")this.markedChildren.add(i);else throw new j("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!Ie.isAndroid)return;let e=null;const i=Ie.isBlink&&!Ie.isAndroid?!this.isSelecting:!0;for(const s of this.markedChildren)this._updateChildrenMappings(s);i?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=we._createBefore(e.parent)));for(const s of this.markedAttributes)this._updateAttrs(s);for(const s of this.markedChildren)this._updateChildren(s,{inlineFillerPosition:e});for(const s of this.markedTexts)!this.markedChildren.has(s.parent)&&this.domConverter.mapViewToDom(s.parent)&&this._updateText(s,{inlineFillerPosition:e});if(i)if(e){const s=this.domConverter.viewPositionToDom(e),r=s.parent.ownerDocument;fi(s.parent)?this._inlineFiller=s.parent:this._inlineFiller=zx(r,s.parent,s.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const i=this.domConverter.mapViewToDom(e);if(!i)return;const s=Array.from(i.childNodes),r=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),o=this._diffNodeLists(s,r),l=this._findUpdateActions(o,s,r,Hj);if(l.indexOf("update")!==-1){const u={equal:0,insert:0,delete:0};for(const f of l)if(f==="update"){const h=u.equal+u.insert,m=u.equal+u.delete,b=e.getChild(h);b&&!b.is("uiElement")&&!b.is("rawElement")&&this._updateElementMappings(b,s[m]),xx(r[h]),u.equal++}else u[f]++}}_updateElementMappings(e,i){this.domConverter.unbindDomElement(i),this.domConverter.bindElements(i,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?we._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=this.domConverter.viewPositionToDom(e);return!!(i&&Yt(i.parent)&&fi(i.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!fi(e))throw new j("view-renderer-filler-was-lost",this);Bl(e)?e.remove():e.data=e.data.substr(Li),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=e.parent,s=e.offset;if(!this.domConverter.mapViewToDom(i.root)||!i.is("element")||!$j(i))return!1;const r=e.nodeBefore,o=e.nodeAfter;return!(r instanceof Qn||o instanceof Qn||s===i.getFillerOffset()&&(!r||!r.is("element","br"))||Ie.isAndroid&&(r||o))}_updateText(e,i){const s=this.domConverter.findCorrespondingDomText(e);let o=this.domConverter.viewToDom(e).data;const l=i.inlineFillerPosition;l&&l.parent==e.parent&&l.offset==e.index&&(o=kd+o),this._updateTextNode(s,o)}_updateAttrs(e){const i=this.domConverter.mapViewToDom(e);if(i){for(const s of Array.from(i.attributes)){const r=s.name;e.hasAttribute(r)||this.domConverter.removeDomElementAttribute(i,r)}for(const s of e.getAttributeKeys())this.domConverter.setDomElementAttribute(i,s,e.getAttribute(s),e)}}_updateChildren(e,i){const s=this.domConverter.mapViewToDom(e);if(!s)return;if(Ie.isAndroid){let b=null;for(const w of Array.from(s.childNodes)){if(b&&Yt(b)&&Yt(w)){s.normalize();break}b=w}}const r=i.inlineFillerPosition,o=s.childNodes,l=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));r&&r.parent===e&&zx(s.ownerDocument,l,r.offset);const u=this._diffNodeLists(o,l),f=this._findUpdateActions(u,o,l,jj);let h=0;const m=new Set;for(const b of f)b==="delete"?(m.add(o[h]),xx(o[h])):(b==="equal"||b==="update")&&h++;h=0;for(const b of f)b==="insert"?(fR(s,h,l[h]),h++):b==="update"?(this._updateTextNode(o[h],l[h].data),h++):b==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(l[h])),h++);for(const b of m)b.parentNode||this.domConverter.unbindDomElement(b)}_diffNodeLists(e,i){return e=Gj(e,this._fakeSelectionContainer),zl(e,i,Wj.bind(null,this.domConverter))}_findUpdateActions(e,i,s,r){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let o=[],l=[],u=[];const f={equal:0,insert:0,delete:0};for(const h of e)h==="insert"?u.push(s[f.equal+f.insert]):h==="delete"?l.push(i[f.equal+f.delete]):(o=o.concat(zl(l,u,r).map(m=>m==="equal"?"update":m)),o.push("equal"),l=[],u=[]),f[h]++;return o.concat(zl(l,u,r).map(h=>h==="equal"?"update":h))}_updateTextNode(e,i){const s=e.data;s!=i&&(Ie.isAndroid&&this.isComposing&&s.replace(/\u00A0/g," ")==i.replace(/\u00A0/g," ")||this._updateTextNodeInternal(e,i))}_updateTextNodeInternal(e,i){const s=JP(e.data,i);for(const r of s)r.type==="insert"?e.insertData(r.index,r.values.join("")):e.deleteData(r.index,r.howMany)}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const i of e.getChildren())this._markDescendantTextToSync(i)}}_updateSelection(){if(Ie.isBlink&&!Ie.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!e||(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&Ie.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const i=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=Kj(i));const s=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(s,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!s.parentElement||s.parentElement!=e)&&e.appendChild(s),s.textContent=this.selection.fakeSelectionLabel||" ";const r=i.getSelection(),o=i.createRange();r.removeAllRanges(),o.selectNodeContents(s),r.addRange(o)}_updateDomSelection(e){const i=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(i))return;const s=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus);i.setBaseAndExtent(s.parent,s.offset,r.parent,r.offset),Ie.isGecko&&qj(r,i)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const i=e&&this.domConverter.domSelectionToView(e);return!(i&&this.selection.isEqual(i)||!this.selection.isCollapsed&&this.selection.isSimilar(i))}_fakeSelectionNeedsUpdate(e){const i=this._fakeSelectionContainer,s=e.ownerDocument.getSelection();return!i||i.parentElement!==e||s.anchorNode!==i&&!i.contains(s.anchorNode)?!0:i.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const i=e.getSelection();if(i.rangeCount){const s=e.activeElement,r=this.domConverter.mapDomToView(s);s&&r&&i.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function $j(n){if(n.getAttribute("contenteditable")=="false")return!1;const t=n.findAncestor(e=>e.hasAttribute("contenteditable"));return!t||t.getAttribute("contenteditable")=="true"}function zx(n,t,e){const i=t instanceof Array?t:t.childNodes,s=i[e];if(Yt(s))return s.data=kd+s.data,s;{const r=n.createTextNode(kd);return Array.isArray(t)?i.splice(e,0,r):fR(t,e,r),r}}function Hj(n,t){return _o(n)&&_o(t)&&!Yt(n)&&!Yt(t)&&!Xu(n)&&!Xu(t)&&n.tagName.toLowerCase()===t.tagName.toLowerCase()}function jj(n,t){return _o(n)&&_o(t)&&Yt(n)&&Yt(t)}function Wj(n,t,e){return t===e?!0:Yt(t)&&Yt(e)?t.data===e.data:!!(n.isBlockFiller(t)&&n.isBlockFiller(e))}function qj(n,t){let e=n.parent,i=n.offset;if(Yt(e)&&Bl(e)&&(i=Nu(e)+1,e=e.parentNode),e.nodeType!=Node.ELEMENT_NODE||i!=e.childNodes.length-1)return;const s=e.childNodes[i];s&&s.tagName=="BR"&&t.addRange(t.getRangeAt(0))}function Gj(n,t){const e=Array.from(n);return e.length==0||!t||e[e.length-1]==t&&e.pop(),e}function Kj(n){const t=n.createElement("div");return t.className="ck-fake-selection-container",Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),t.textContent=" ",t}const Yj=AR(ke.document),Xj=TR(ke.document),Jj=ER(ke.document),Rh="data-ck-unsafe-attribute-",Ux="data-ck-unsafe-element";class PR{constructor(t,{blockFillerMode:e,renderingMode:i="editing"}={}){y(this,"document");y(this,"renderingMode");y(this,"blockFillerMode");y(this,"preElements");y(this,"blockElements");y(this,"inlineObjectElements");y(this,"unsafeElements");y(this,"_domDocument");y(this,"_domToViewMapping",new WeakMap);y(this,"_viewToDomMapping",new WeakMap);y(this,"_fakeSelectionMapping",new WeakMap);y(this,"_rawContentElementMatcher",new va);y(this,"_inlineObjectElementMatcher",new va);y(this,"_elementsWithTemporaryCustomProperties",new Set);this.document=t,this.renderingMode=i,this.blockFillerMode=e||(i==="editing"?"br":"nbsp"),this.preElements=["pre","textarea"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?ke.document:ke.document.implementation.createHTMLDocument("")}get domDocument(){return this._domDocument}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new mo(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const i of t.children)this.unbindDomElement(i)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}shouldRenderAttribute(t,e,i){return this.renderingMode==="data"?!0:(t=t.toLowerCase(),t.startsWith("on")||t==="srcdoc"&&e.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:i==="img"&&(t==="src"||t==="srcset")||i==="source"&&t==="srcset"?!0:!e.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(t,e){if(this.renderingMode==="data"){t.innerHTML=e;return}const i=new DOMParser().parseFromString(e,"text/html"),s=i.createDocumentFragment(),r=i.body.childNodes;for(;r.length>0;)s.appendChild(r[0]);const o=i.createTreeWalker(s,NodeFilter.SHOW_ELEMENT),l=[];let u;for(;u=o.nextNode();)l.push(u);for(const f of l){for(const m of f.getAttributeNames())this.setDomElementAttribute(f,m,f.getAttribute(m));const h=f.tagName.toLowerCase();this._shouldRenameElement(h)&&(Wx(h),f.replaceWith(this._createReplacementDomElement(h,f)))}for(;t.firstChild;)t.firstChild.remove();t.append(s)}viewToDom(t,e={}){if(t.is("$text")){const i=this._processDataFromViewText(t);return this._domDocument.createTextNode(i)}else{const i=t;if(this.mapViewToDom(i))if(i.getCustomProperty("editingPipeline:doNotReuseOnce"))this._elementsWithTemporaryCustomProperties.add(i);else return this.mapViewToDom(i);let s;if(i.is("documentFragment"))s=this._domDocument.createDocumentFragment(),e.bind&&this.bindDocumentFragments(s,i);else{if(i.is("uiElement"))return i.name==="$comment"?s=this._domDocument.createComment(i.getCustomProperty("$rawContent")):s=i.render(this._domDocument,this),e.bind&&this.bindElements(s,i),s;this._shouldRenameElement(i.name)?(Wx(i.name),s=this._createReplacementDomElement(i.name)):i.hasAttribute("xmlns")?s=this._domDocument.createElementNS(i.getAttribute("xmlns"),i.name):s=this._domDocument.createElement(i.name),i.is("rawElement")&&i.render(s,this),e.bind&&this.bindElements(s,i);for(const r of i.getAttributeKeys())this.setDomElementAttribute(s,r,i.getAttribute(r),i)}if(e.withChildren!==!1)for(const r of this.viewChildrenToDom(i,e))s instanceof HTMLTemplateElement?s.content.appendChild(r):s.appendChild(r);return s}}setDomElementAttribute(t,e,i,s){const r=this.shouldRenderAttribute(e,i,t.tagName.toLowerCase())||s&&s.shouldRenderUnsafeAttribute(e);if(r||zt("domconverter-unsafe-attribute-detected",{domElement:t,key:e,value:i}),!BH(e)){zt("domconverter-invalid-attribute-detected",{domElement:t,key:e,value:i});return}t.hasAttribute(e)&&!r?t.removeAttribute(e):t.hasAttribute(Rh+e)&&r&&t.removeAttribute(Rh+e),t.setAttribute(r?e:Rh+e,i)}removeDomElementAttribute(t,e){e!=Ux&&(t.removeAttribute(e),t.removeAttribute(Rh+e))}*viewChildrenToDom(t,e={}){const i=t.getFillerOffset&&t.getFillerOffset();let s=0;for(const r of t.getChildren()){i===s&&(yield this._getBlockFiller());const o=r.is("element")&&!!r.getCustomProperty("dataPipeline:transparentRendering")&&!$i(r.getAttributes());if(o&&this.renderingMode=="data")if(r.is("rawElement")){const l=this._domDocument.createElement(r.name);r.render(l,this),yield*[...l.childNodes]}else yield*this.viewChildrenToDom(r,e);else o&&zt("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:r}),yield this.viewToDom(r,e);s++}i===s&&(yield this._getBlockFiller())}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),i=this.viewPositionToDom(t.end),s=this._domDocument.createRange();return s.setStart(e.parent,e.offset),s.setEnd(i.parent,i.offset),s}viewPositionToDom(t){const e=t.parent;if(e.is("$text")){const i=this.findCorrespondingDomText(e);if(!i)return null;let s=t.offset;return fi(i)&&(s+=Li),{parent:i,offset:s}}else{let i,s,r;if(t.offset===0){if(i=this.mapViewToDom(e),!i)return null;r=i.childNodes[0]}else{const l=t.nodeBefore;if(s=l.is("$text")?this.findCorrespondingDomText(l):this.mapViewToDom(l),!s)return null;i=s.parentNode,r=s.nextSibling}if(Yt(r)&&fi(r))return{parent:r,offset:Li};const o=s?Nu(s)+1:0;return{parent:i,offset:o}}}domToView(t,e={}){const i=[],s=this._domToView(t,e,i),r=s.next().value;return!r||(s.next(),this._processDomInlineNodes(null,i,e),this.blockFillerMode=="br"&&Hx(r))||r.is("$text")&&r.data.length==0?null:r}*domChildrenToView(t,e={},i=[]){let s=[];t instanceof HTMLTemplateElement?s=[...t.content.childNodes]:s=[...t.childNodes];for(let r=0;r<s.length;r++){const o=s[r],l=this._domToView(o,e,i),u=l.next().value;u!==null&&(this._isBlockViewElement(u)&&this._processDomInlineNodes(t,i,e),this.blockFillerMode=="br"&&Hx(u)||(yield u),l.next())}this._processDomInlineNodes(t,i,e)}domSelectionToView(t){if(nW(t))return new mo([]);if(t.rangeCount===1){let s=t.getRangeAt(0).startContainer;Yt(s)&&(s=s.parentNode);const r=this.fakeSelectionToView(s);if(r)return r}const e=this.isDomSelectionBackward(t),i=[];for(let s=0;s<t.rangeCount;s++){const r=t.getRangeAt(s),o=this.domRangeToView(r);o&&i.push(o)}return new mo(i,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),i=this.domPositionToView(t.endContainer,t.endOffset);return e&&i?new nt(e,i):null}domPositionToView(t,e=0){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,Nu(t));const i=this.mapDomToView(t);if(i&&(i.is("uiElement")||i.is("rawElement")))return we._createBefore(i);if(Yt(t)){if(Bl(t))return this.domPositionToView(t.parentNode,Nu(t));const s=this.findCorrespondingViewText(t);let r=e;return s?(fi(t)&&(r-=Li,r=r<0?0:r),new we(s,r)):null}else{if(e===0){const s=this.mapDomToView(t);if(s)return new we(s,0)}else{const s=t.childNodes[e-1];if(Yt(s)&&Bl(s)||s&&this.isBlockFiller(s))return this.domPositionToView(s.parentNode,Nu(s));const r=Yt(s)?this.findCorrespondingViewText(s):this.mapDomToView(s);if(r&&r.parent)return new we(r.parent,r.index+1)}return null}}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(Bl(t))return null;const e=this.getHostViewElement(t);if(e)return e;const i=t.previousSibling;if(i){if(!this.isElement(i))return null;const s=this.mapDomToView(i);if(s){const r=s.nextSibling;return r instanceof Qn?r:null}}else{const s=this.mapDomToView(t.parentNode);if(s){const r=s.getChild(0);return r instanceof Qn?r:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(!e||e.ownerDocument.activeElement===e)return;const{scrollX:i,scrollY:s}=ke.window,r=[];$x(e,o=>{const{scrollLeft:l,scrollTop:u}=o;r.push([l,u])}),e.focus(),$x(e,o=>{const[l,u]=r.shift();o.scrollLeft=l,o.scrollTop=u}),ke.window.scrollTo(i,s)}_clearDomSelection(){const t=this.mapViewToDom(this.document.selection.editableElement);if(!t)return;const e=t.ownerDocument.defaultView.getSelection(),i=this.domSelectionToView(e);i&&i.rangeCount>0&&e.removeAllRanges()}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(t){return this.blockFillerMode=="br"?t.isEqualNode(Yj):jx(t,this.blockElements)?!0:t.isEqualNode(Jj)||Qj(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=this._domDocument.createRange();try{e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset)}catch{return!1}const i=e.collapsed;return e.detach(),i}getHostViewElement(t){const e=OH(t);for(e.pop();e.length;){const i=e.pop(),s=this._domToViewMapping.get(i);if(s&&(s.is("uiElement")||s.is("rawElement")))return s}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}registerInlineObjectMatcher(t){this._inlineObjectElementMatcher.add(t)}_clearTemporaryCustomProperties(){for(const t of this._elementsWithTemporaryCustomProperties)t._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return TR(this._domDocument);case"markedNbsp":return ER(this._domDocument);case"br":return AR(this._domDocument)}}_isDomSelectionPositionCorrect(t,e){if(Yt(t)&&fi(t)&&e<Li||this.isElement(t)&&fi(t.childNodes[e]))return!1;const i=this.mapDomToView(t);return!(i&&(i.is("uiElement")||i.is("rawElement")))}*_domToView(t,e,i){if(this.blockFillerMode!="br"&&jx(t,this.blockElements))return null;const s=this.getHostViewElement(t);if(s)return s;if(Xu(t)&&e.skipComments)return null;if(Yt(t)){if(Bl(t))return null;{const r=t.data;if(r==="")return null;const o=new Qn(this.document,r);return i.push(o),o}}else{let r=this.mapDomToView(t);if(r)return this._isInlineObjectElement(r)&&i.push(r),r;if(this.isDocumentFragment(t))r=new Ul(this.document),e.bind&&this.bindDocumentFragments(t,r);else{r=this._createViewElement(t,e),e.bind&&this.bindElements(t,r);const l=t.attributes;if(l)for(let u=l.length,f=0;f<u;f++)r._setAttribute(l[f].name,l[f].value);if(this._isViewElementWithRawContent(r,e))return r._setCustomProperty("$rawContent",t.innerHTML),this._isBlockViewElement(r)||i.push(r),r;if(Xu(t))return r._setCustomProperty("$rawContent",t.data),r}yield r;const o=[];if(e.withChildren!==!1)for(const l of this.domChildrenToView(t,e,o))r._appendChild(l);if(this._isInlineObjectElement(r))i.push(r),this._processDomInlineNodes(null,o,e);else for(const l of o)i.push(l)}}_processDomInlineNodes(t,e,i){if(!e.length||t&&!this.isDocumentFragment(t)&&!this._isBlockDomElement(t))return;let s=!1;for(let r=0;r<e.length;r++){const o=e[r];if(!o.is("$text")){s=!1;continue}let l,u=!1;if(this._isPreFormatted(o))l=Fx(o.data);else{l=o.data.replace(/[ \n\t\r]{1,}/g," "),u=/[^\S\u00A0]/.test(l.charAt(l.length-1));const f=r>0?e[r-1]:null,h=r+1<e.length?e[r+1]:null,m=!f||f.is("element")&&f.name=="br"||s,b=h?!1:!fi(o.data);i.withChildren!==!1&&(m&&(l=l.replace(/^ /,"")),b&&(l=l.replace(/ $/,""))),l=Fx(l),this.blockFillerMode!="br"&&o.parent&&(tW(o.parent,l)?(l="",o.parent.parent&&(o.parent.parent._setCustomProperty("$hasBlockFiller",!0),o.parent._remove())):eW(o.parent,l,this.blockElements)&&(l="",o.parent._setCustomProperty("$hasBlockFiller",!0))),l=l.replace(/ \u00A0/g,"  ");const w=h&&h.is("element")&&h.name!="br",_=h&&h.is("$text")&&h.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(l)||!h||w||_)&&(l=l.replace(/\u00A0$/," ")),(m||f&&f.is("element")&&f.name!="br")&&(l=l.replace(/^\u00A0/," "))}l.length==0&&o.parent?(o._remove(),e.splice(r,1),r--):(o._data=l,s=u)}e.length=0}_processDataFromViewText(t){let e=t.data;if(this._isPreFormatted(t))return e;if(e.charAt(0)==" "){const i=this._getTouchingInlineViewNode(t,!1);(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i)||!i)&&(e=" "+e.substr(1))}if(e.charAt(e.length-1)==" "){const i=this._getTouchingInlineViewNode(t,!0),s=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";(e.charAt(e.length-2)==" "||!i||s)&&(e=e.substr(0,e.length-1)+" ")}return e.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(t){if(this._isPreFormatted(t))return!1;const e=this._processDataFromViewText(t);return e.charAt(e.length-1)==" "}_isPreFormatted(t){if(Zj(t,this.preElements))return!0;for(const e of t.getAncestors({parentFirst:!0}))if(!(!e.is("element")||!e.hasStyle("white-space")||e.getStyle("white-space")==="inherit"))return["pre","pre-wrap","break-spaces"].includes(e.getStyle("white-space"));return!1}_getTouchingInlineViewNode(t,e){const i=new aa({startPosition:e?we._createAfter(t):we._createBefore(t),direction:e?"forward":"backward"});for(const{item:s}of i){if(s.is("$textProxy"))return s;if(s.is("element")&&s.getCustomProperty("dataPipeline:transparentRendering"))continue;if(s.is("element","br"))return null;if(this._isInlineObjectElement(s))return s;if(s.is("containerElement"))return null}return null}_isBlockDomElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isBlockViewElement(t){return t.is("element")&&this.blockElements.includes(t.name)}_isInlineObjectElement(t){return t.is("element")?t.name=="br"||this.inlineObjectElements.includes(t.name)||!!this._inlineObjectElementMatcher.match(t):!1}_createViewElement(t,e){if(Xu(t))return new Lm(this.document,"$comment");const i=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new Aa(this.document,i)}_isViewElementWithRawContent(t,e){return e.withChildren!==!1&&t.is("element")&&!!this._rawContentElementMatcher.match(t)}_shouldRenameElement(t){const e=t.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(e)}_createReplacementDomElement(t,e){const i=this._domDocument.createElement("span");if(i.setAttribute(Ux,t),e){for(;e.firstChild;)i.appendChild(e.firstChild);for(const s of e.getAttributeNames())i.setAttribute(s,e.getAttribute(s))}return i}}function Zj(n,t){return n.getAncestors().some(e=>e.is("element")&&t.includes(e.name))}function $x(n,t){let e=n;for(;e;)t(e),e=e.parentElement}function Qj(n,t){return n.isEqualNode(Xj)&&RR(n,t)&&n.parentNode.childNodes.length===1}function RR(n,t){const e=n.parentNode;return!!e&&!!e.tagName&&t.includes(e.tagName.toLowerCase())}function eW(n,t,e){return t==" "&&n&&n.is("element")&&n.childCount==1&&e.includes(n.name)}function tW(n,t){return t==" "&&n&&n.is("element","span")&&n.childCount==1&&n.hasAttribute("data-cke-filler")}function Hx(n){return n.is("element","br")&&n.hasAttribute("data-cke-filler")}function jx(n,t){return n.tagName==="BR"&&RR(n,t)&&n.parentNode.childNodes.length===1}function Wx(n){n==="script"&&zt("domconverter-unsafe-script-element-detected"),n==="style"&&zt("domconverter-unsafe-style-element-detected")}function nW(n){if(!Ie.isGecko||!n.rangeCount)return!1;const t=n.getRangeAt(0).startContainer;try{Object.prototype.toString.call(t)}catch{return!0}return!1}class Ks extends wi(){constructor(e){super();y(this,"view");y(this,"document");y(this,"_isEnabled",!1);this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}class wa{constructor(t,e,i){y(this,"view");y(this,"document");y(this,"domEvent");y(this,"domTarget");this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,W$(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Mr extends Ks{constructor(){super(...arguments);y(this,"useCapture",!1);y(this,"usePassive",!1)}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(s=>{this.listenTo(e,s,(r,o)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(o.target)&&this.onDomEvent(o)},{useCapture:this.useCapture,usePassive:this.usePassive})})}stopObserving(e){this.stopListening(e)}fire(e,i,s){this.isEnabled&&this.document.fire(e,new wa(this.view,i,s))}}class iW extends Mr{constructor(){super(...arguments);y(this,"domEventType",["keydown","keyup"])}onDomEvent(e){const i={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return ya(this)}};this.fire(e.type,e,i)}}class sW extends Ks{constructor(e){super(e);y(this,"_fireSelectionChangeDoneDebounced");this._fireSelectionChangeDoneDebounced=Tr(i=>{this.document.fire("selectionChangeDone",i)},200)}observe(){const e=this.document;e.on("arrowKey",(i,s)=>{e.selection.isFake&&this.isEnabled&&s.preventDefault()},{context:"$capture"}),e.on("arrowKey",(i,s)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(s.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const i=this.document.selection,s=new mo(i.getRanges(),{backward:i.isBackward,fake:!1});(e==Ke.arrowleft||e==Ke.arrowup)&&s.setTo(s.getFirstPosition()),(e==Ke.arrowright||e==Ke.arrowdown)&&s.setTo(s.getLastPosition());const r={oldSelection:i,newSelection:s,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}let OR=class extends Ks{constructor(e){super(e);y(this,"domConverter");y(this,"_config");y(this,"_domElements");y(this,"_mutationObserver");this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const i=this.domConverter,s=new Set,r=new Set;for(const l of e){const u=i.mapDomToView(l.target);u&&(u.is("uiElement")||u.is("rawElement")||l.type==="childList"&&!this._isBogusBrMutation(l)&&r.add(u))}for(const l of e){const u=i.mapDomToView(l.target);if(!(u&&(u.is("uiElement")||u.is("rawElement")))&&l.type==="characterData"){const f=i.findCorrespondingViewText(l.target);f&&!r.has(f.parent)?s.add(f):!f&&fi(l.target)&&r.add(i.mapDomToView(l.target.parentNode))}}const o=[];for(const l of s)o.push({type:"text",node:l});for(const l of r){const u=i.mapViewToDom(l),f=Array.from(l.getChildren()),h=Array.from(i.domChildrenToView(u,{withChildren:!1}));Zy(f,h,rW)||o.push({type:"children",node:l})}o.length&&this.document.fire("mutations",{mutations:o})}_isBogusBrMutation(e){let i=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(i=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}};function rW(n,t){if(!Array.isArray(n))return n===t?!0:n.is("$text")&&t.is("$text")?n.data===t.data:!1}class Vp extends Mr{constructor(e){super(e);y(this,"_renderTimeoutId",null);y(this,"_isFocusChanging",!1);y(this,"domEventType",["focus","blur"]);this.useCapture=!0;const i=this.document;i.on("focus",()=>this._handleFocus()),i.on("blur",(s,r)=>this._handleBlur(r)),i.on("beforeinput",()=>{i.isFocused||this._handleFocus()},{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this._renderTimeoutId=null,this.flush(),this.view.change(()=>{})},50)}_handleBlur(e){const i=this.document.selection.editableElement;(i===null||i===e.target)&&(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change(()=>{}))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}}class oW extends Ks{constructor(e){super(e);y(this,"mutationObserver");y(this,"focusObserver");y(this,"selection");y(this,"domConverter");y(this,"_documents",new WeakSet);y(this,"_fireSelectionChangeDoneDebounced");y(this,"_clearInfiniteLoopInterval");y(this,"_documentIsSelectingInactivityTimeoutDebounced");y(this,"_loopbackCounter",0);y(this,"_pendingSelectionChange",new Set);this.mutationObserver=e.getObserver(OR),this.focusObserver=e.getObserver(Vp),this.selection=this.document.selection,this.domConverter=e.domConverter,this._fireSelectionChangeDoneDebounced=Tr(i=>{this.document.fire("selectionChangeDone",i)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Tr(()=>this.document.isSelecting=!1,5e3),this.view.document.on("change:isFocused",(i,s,r)=>{if(r&&this._pendingSelectionChange.size){for(const o of Array.from(this._pendingSelectionChange))this._handleSelectionChange(o);this._pendingSelectionChange.clear()}})}observe(e){const i=e.ownerDocument,s=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},r=()=>{this.document.isSelecting&&(this._handleSelectionChange(i),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",s,{priority:"highest"}),this.listenTo(e,"keydown",r,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",r,{priority:"highest",useCapture:!0}),!this._documents.has(i)&&(this.listenTo(i,"mouseup",r,{priority:"highest",useCapture:!0}),this.listenTo(i,"selectionchange",()=>{this.document.isComposing&&!Ie.isAndroid||(this._handleSelectionChange(i),this._documentIsSelectingInactivityTimeoutDebounced())}),this.listenTo(this.view.document,"compositionstart",()=>{this._handleSelectionChange(i)},{priority:"lowest"}),this._documents.add(i))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e){if(!this.isEnabled)return;const i=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(i.anchorNode))return;this.mutationObserver.flush();const s=this.domConverter.domSelectionToView(i);if(s.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.view.document.isFocused){this._pendingSelectionChange.add(e);return}if(this._pendingSelectionChange.delete(e),!(this.selection.isEqual(s)&&this.domConverter.isDomSelectionCorrect(i))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.selection.isSimilar(s))this.view.forceRender();else{const r={oldSelection:this.selection,newSelection:s,domSelection:i};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}class aW extends Mr{constructor(e){super(e);y(this,"domEventType",["compositionstart","compositionupdate","compositionend"]);const i=this.document;i.on("compositionstart",()=>{i.isComposing=!0}),i.on("compositionend",()=>{i.isComposing=!1})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class MR{constructor(t,e={}){y(this,"_files");y(this,"_native");this._files=e.cacheFiles?qx(t):null,this._native=t}get files(){return this._files||(this._files=qx(this._native)),this._files}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}setDragImage(t,e,i){this._native.setDragImage(t,e,i)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function qx(n){const t=Array.from(n.files||[]),e=Array.from(n.items||[]);return t.length?t:e.filter(i=>i.kind==="file").map(i=>i.getAsFile())}class lW extends Mr{constructor(){super(...arguments);y(this,"domEventType","beforeinput")}onDomEvent(e){const i=e.getTargetRanges(),s=this.view,r=s.document;let o=null,l=null,u=[];if(e.dataTransfer&&(o=new MR(e.dataTransfer)),e.data!==null?l=e.data:o&&(l=o.getData("text/plain")),r.selection.isFake)u=Array.from(r.selection.getRanges()),e.preventDefault();else if(i.length)u=i.map(f=>{let h=s.domConverter.domPositionToView(f.startContainer,f.startOffset);const m=s.domConverter.domPositionToView(f.endContainer,f.endOffset);if(h&&fi(f.startContainer)&&f.startOffset<Li){e.preventDefault();let b=Li-f.startOffset;h=h.getLastMatchingPosition(w=>!!(w.item.is("attributeElement")||w.item.is("uiElement")||w.item.is("$textProxy")&&b--),{direction:"backward",singleCharacters:!0})}if(h)return s.createRange(h,m);if(m)return s.createRange(m)}).filter(f=>!!f);else if(Ie.isAndroid){const f=e.target.ownerDocument.defaultView.getSelection();u=Array.from(s.domConverter.domSelectionToView(f).getRanges())}if(Ie.isAndroid&&e.inputType=="insertCompositionText"&&l&&l.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[s.createRange(u[0].end)]});return}if(["insertText","insertReplacementText"].includes(e.inputType)&&l&&l.includes(`
`)){const f=l.split(/\n{1,2}/g);let h=u;for(let m=0;m<f.length;m++){const b=f[m];b!=""&&(this.fire(e.type,e,{data:b,dataTransfer:o,targetRanges:h,inputType:e.inputType,isComposing:e.isComposing}),h=[r.selection.getFirstRange()]),m+1<f.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:h}),h=[r.selection.getFirstRange()])}return}this.fire(e.type,e,{data:l,dataTransfer:o,targetRanges:u,inputType:e.inputType,isComposing:e.isComposing})}}class cW extends Ks{constructor(t){super(t),this.document.on("keydown",(e,i)=>{if(this.isEnabled&&WH(i.keyCode)){const s=new Pa(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(s,i),s.stop.called&&e.stop()}})}observe(){}stopObserving(){}}class uW extends Ks{constructor(t){super(t);const e=this.document;e.on("keydown",(i,s)=>{if(!this.isEnabled||s.keyCode!=Ke.tab||s.ctrlKey)return;const r=new Pa(e,"tab",e.selection.getFirstRange());e.fire(r,s),r.stop.called&&i.stop()})}observe(){}stopObserving(){}}let dW=class extends jt(){constructor(e){super();y(this,"document");y(this,"domConverter");y(this,"domRoots",new Map);y(this,"_renderer");y(this,"_initialDomRootAttributes",new WeakMap);y(this,"_observers",new Map);y(this,"_writer");y(this,"_ongoingChange",!1);y(this,"_postFixersInProgress",!1);y(this,"_renderingDisabled",!1);y(this,"_hasChangedSinceTheLastRendering",!1);this.document=new CR(e),this.domConverter=new PR(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Uj(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new SR(this.document),this.addObserver(OR),this.addObserver(Vp),this.addObserver(oW),this.addObserver(iW),this.addObserver(sW),this.addObserver(aW),this.addObserver(cW),this.addObserver(lW),this.addObserver(uW),Fj(this),Oj(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),Ie.isiOS&&this.listenTo(this.document,"blur",(i,s)=>{this.domConverter.mapDomToView(s.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}),this.listenTo(this.document,"mutations",(i,{mutations:s})=>{s.forEach(r=>this._renderer.markToSync(r.type,r.node))},{priority:"low"}),this.listenTo(this.document,"mutations",()=>{this.forceRender()},{priority:"lowest"})}attachDomRoot(e,i="main"){const s=this.document.getRoot(i);s._name=e.tagName.toLowerCase();const r={};for(const{name:l,value:u}of Array.from(e.attributes))r[l]=u,l==="class"?this._writer.addClass(u.split(" "),s):s.hasAttribute(l)||this._writer.setAttribute(l,u,s);this._initialDomRootAttributes.set(e,r);const o=()=>{this._writer.setAttribute("contenteditable",(!s.isReadOnly).toString(),s),s.isReadOnly?this._writer.addClass("ck-read-only",s):this._writer.removeClass("ck-read-only",s)};o(),this.domRoots.set(i,e),this.domConverter.bindElements(e,s),this._renderer.markToSync("children",s),this._renderer.markToSync("attributes",s),this._renderer.domDocuments.add(e.ownerDocument),s.on("change:children",(l,u)=>this._renderer.markToSync("children",u)),s.on("change:attributes",(l,u)=>this._renderer.markToSync("attributes",u)),s.on("change:text",(l,u)=>this._renderer.markToSync("text",u)),s.on("change:isReadOnly",()=>this.change(o)),s.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const l of this._observers.values())l.observe(e,i)}detachDomRoot(e){const i=this.domRoots.get(e);Array.from(i.attributes).forEach(({name:r})=>i.removeAttribute(r));const s=this._initialDomRootAttributes.get(i);for(const r in s)i.setAttribute(r,s[r]);this.domRoots.delete(e),this.domConverter.unbindDomElement(i);for(const r of this._observers.values())r.stopObserving(i)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let i=this._observers.get(e);if(i)return i;i=new e(this),this._observers.set(e,i);for(const[s,r]of this.domRoots)i.observe(r,s);return i.enable(),i}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:i,viewportOffset:s=20,ancestorOffset:r=20}={}){const o=this.document.selection.getFirstRange();if(!o)return;const l=Vi({alignToTop:e,forceScroll:i,viewportOffset:s,ancestorOffset:r});typeof s=="number"&&(s={top:s,bottom:s,left:s,right:s});const u={target:this.domConverter.viewRangeToDom(o),viewportOffset:s,ancestorOffset:r,alignToTop:e,forceScroll:i};this.fire("scrollToTheSelection",u,l),VH(u)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new j("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const i=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),i}catch(i){/* istanbul ignore next -- @preserve */j.rethrowUnexpectedError(i,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Vp).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,i){return we._createAt(e,i)}createPositionAfter(e){return we._createAfter(e)}createPositionBefore(e){return we._createBefore(e)}createRange(e,i){return new nt(e,i)}createRangeOn(e){return nt._createOn(e)}createRangeIn(e){return nt._createIn(e)}createSelection(...e){return new mo(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}};/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Po{is(){throw new Error("is() method is abstract")}}class ws extends Po{constructor(e,i,s){super();y(this,"textNode");y(this,"data");y(this,"offsetInText");if(this.textNode=e,i<0||i>e.offsetSize)throw new j("model-textproxy-wrong-offsetintext",this);if(s<0||i+s>e.offsetSize)throw new j("model-textproxy-wrong-length",this);this.data=e.data.substring(i,i+s),this.offsetInText=i}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const i=[];let s=e.includeSelf?this:this.parent;for(;s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}ws.prototype.is=function(n){return n==="$textProxy"||n==="model:$textProxy"||n==="textProxy"||n==="model:textProxy"};class wr{constructor(t){y(this,"direction");y(this,"boundaries");y(this,"singleCharacters");y(this,"shallow");y(this,"ignoreElementEnd");y(this,"_position");y(this,"_boundaryStartParent");y(this,"_boundaryEndParent");y(this,"_visitedParent");if(!t||!t.boundaries&&!t.startPosition)throw new j("model-tree-walker-no-start-position",null);const e=t.direction||"forward";if(e!="forward"&&e!="backward")throw new j("model-tree-walker-unknown-direction",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this._position=t.startPosition.clone():this._position=be._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,i,s,r;do s=this.position,r=this._visitedParent,{done:e,value:i}=this.next();while(!e&&t(i));e||(this._position=s,this._visitedParent=r)}jumpTo(t){this._boundaryStartParent&&t.isBefore(this.boundaries.start)?t=this.boundaries.start:this._boundaryEndParent&&t.isAfter(this.boundaries.end)&&(t=this.boundaries.end),this._position=t.clone(),this._visitedParent=t.parent}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),i=this._visitedParent;if(i.parent===null&&e.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const s=Zu(e,i),r=s||IR(e,i,s);if(r&&r.is("model:element")){if(!this.shallow)e.path.push(0),this._visitedParent=r;else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,Qo("elementStart",r,t,e,1)}if(r&&r.is("model:$text")){let o;if(this.singleCharacters)o=1;else{let f=r.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<f&&(f=this.boundaries.end.offset),o=f-e.offset}const l=e.offset-r.startOffset,u=new ws(r,l,o);return e.offset+=o,this._position=e,Qo("text",u,t,e,o)}return e.path.pop(),e.offset++,this._position=e,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():Qo("elementEnd",i,t,e)}_previous(){const t=this.position,e=this.position.clone(),i=this._visitedParent;if(i.parent===null&&e.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const s=e.parent,r=Zu(e,s),o=r||LR(e,s,r);if(o&&o.is("model:element"))return e.offset--,this.shallow?(this._position=e,Qo("elementStart",o,t,e,1)):(e.path.push(o.maxOffset),this._position=e,this._visitedParent=o,this.ignoreElementEnd?this._previous():Qo("elementEnd",o,t,e));if(o&&o.is("model:$text")){let l;if(this.singleCharacters)l=1;else{let h=o.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>h&&(h=this.boundaries.start.offset),l=e.offset-h}const u=e.offset-o.startOffset,f=new ws(o,u-l,l);return e.offset-=l,this._position=e,Qo("text",f,t,e,l)}return e.path.pop(),this._position=e,this._visitedParent=i.parent,Qo("elementStart",i,t,e,1)}}function Qo(n,t,e,i,s){return{done:!1,value:{type:n,item:t,previousPosition:e,nextPosition:i,length:s}}}class be extends Po{constructor(e,i,s="toNone"){super();y(this,"root");y(this,"path");y(this,"stickiness");if(!e.is("element")&&!e.is("documentFragment"))throw new j("model-position-root-invalid",e);if(!Array.isArray(i)||i.length===0)throw new j("model-position-path-incorrect-format",e,{path:i});e.is("rootElement")?i=i.slice():(i=[...e.getPath(),...i],e=e.root),this.root=e,this.path=i,this.stickiness=s}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let i=0;i<this.path.length-1;i++)if(e=e.getChildAtOffset(this.path[i]),!e)throw new j("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new j("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Zu(this,this.parent)}get nodeAfter(){const e=this.parent;return IR(this,e,Zu(this,e))}get nodeBefore(){const e=this.parent;return LR(this,e,Zu(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}isValid(){if(this.offset<0)return!1;let e=this.root;for(let i=0;i<this.path.length-1;i++)if(e=e.getChildAtOffset(this.path[i]),!e)return!1;return this.offset<=e.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const i=ti(this.path,e.path);switch(i){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[i]<e.path[i]?"before":"after"}}getLastMatchingPosition(e,i={}){i.startPosition=this;const s=new wr(i);return s.skip(e),s.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const i=this.parent;return i.is("element")?i.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const i=ti(this.path,e.path),s=typeof i=="string"?Math.min(this.path.length,e.path.length):i;return this.path.slice(0,s)}getCommonAncestor(e){const i=this.getAncestors(),s=e.getAncestors();let r=0;for(;i[r]==s[r]&&i[r];)r++;return r===0?null:i[r-1]}getShiftedBy(e){const i=this.clone(),s=i.offset+e;return i.offset=s<0?0:s,i}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const i=Math.min(this.path.length,e.path.length);for(let s=0;s<i;s++){const r=this.path[s]-e.path[s];if(r<-1||r>1)return!1;if(r===1)return Gx(e,this,s);if(r===-1)return Gx(this,e,s)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?cv(this.path,i):cv(e.path,i)}hasSameParentAs(e){if(this.root!==e.root)return!1;const i=this.getParentPath(),s=e.getParentPath();return ti(i,s)=="same"}getTransformedByOperation(e){let i;switch(e.type){case"insert":i=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":i=this._getTransformedByMoveOperation(e);break;case"split":i=this._getTransformedBySplitOperation(e);break;case"merge":i=this._getTransformedByMergeOperation(e);break;default:i=be._createAt(this);break}return i}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const i=e.movedRange;return i.containsPosition(this)||i.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const i=e.movedRange,s=i.containsPosition(this)||i.start.isEqual(this);let r;return s?(r=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(r=r._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?r=be._createAt(e.deletionPosition):r=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),r}_getTransformedByDeletion(e,i){const s=be._createAt(this);if(this.root!=e.root)return s;if(ti(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+i>this.offset)return null;s.offset-=i}}else if(ti(e.getParentPath(),this.getParentPath())=="prefix"){const r=e.path.length-1;if(e.offset<=this.path[r]){if(e.offset+i>this.path[r])return null;s.path[r]-=i}}return s}_getTransformedByInsertion(e,i){const s=be._createAt(this);if(this.root!=e.root)return s;if(ti(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(s.offset+=i);else if(ti(e.getParentPath(),this.getParentPath())=="prefix"){const r=e.path.length-1;e.offset<=this.path[r]&&(s.path[r]+=i)}return s}_getTransformedByMove(e,i,s){if(i=i._getTransformedByDeletion(e,s),e.isEqual(i))return be._createAt(this);const r=this._getTransformedByDeletion(e,s);return r===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(s).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,i):r._getTransformedByInsertion(i,s)}_getCombined(e,i){const s=e.path.length-1,r=be._createAt(i);return r.stickiness=this.stickiness,r.offset=r.offset+this.path[s]-e.offset,r.path=[...r.path,...this.path.slice(s+1)],r}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,i,s="toNone"){if(e.is("model:position"))return new be(e.root,e.path,e.stickiness);{const r=e;if(i=="end")i=r.maxOffset;else{if(i=="before")return this._createBefore(r,s);if(i=="after")return this._createAfter(r,s);if(i!==0&&!i)throw new j("model-createpositionat-offset-required",[this,e])}if(!r.is("element")&&!r.is("documentFragment"))throw new j("model-position-parent-incorrect",[this,e]);const o=r.getPath();return o.push(i),new this(r.root,o,s)}}static _createAfter(e,i){if(!e.parent)throw new j("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,i)}static _createBefore(e,i){if(!e.parent)throw new j("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,i)}static fromJSON(e,i){if(e.root==="$graveyard"){const s=new be(i.graveyard,e.path);return s.stickiness=e.stickiness,s}if(!i.getRoot(e.root))throw new j("model-position-fromjson-no-root",i,{rootName:e.root});return new be(i.getRoot(e.root),e.path,e.stickiness)}}be.prototype.is=function(n){return n==="position"||n==="model:position"};function Zu(n,t){const e=t.getChildAtOffset(n.offset);return e&&e.is("$text")&&e.startOffset<n.offset?e:null}function IR(n,t,e){return e!==null?null:t.getChildAtOffset(n.offset)}function LR(n,t,e){return e!==null?null:t.getChild(t.offsetToIndex(n.offset)-1)}function Gx(n,t,e){return!(e+1===n.path.length||!cv(t.path,e+1)||!fW(n,e+1))}function cv(n,t){for(;t<n.length;){if(n[t]!==0)return!1;t++}return!0}function fW(n,t){let e=n.parent,i=n.path.length-1,s=0;for(;i>=t;){if(n.path[i]+s!==e.maxOffset)return!1;s=1,i--,e=e.parent}return!0}class ie extends Po{constructor(e,i){super();y(this,"start");y(this,"end");this.start=be._createAt(e),this.end=i?be._createAt(i):be._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new wr({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),i=this.end.getParentPath();return ti(e,i)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const s=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return s&&r}containsItem(e){const i=be._createBefore(e);return this.containsPosition(i)||this.start.isEqual(i)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new ie(this.start,e.start)),this.containsPosition(e.end)&&i.push(new ie(e.end,this.end))):i.push(new ie(this.start,this.end)),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,s=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(s=e.end),new ie(i,s)}return null}getJoined(e,i=!1){let s=this.isIntersecting(e);if(s||(this.start.isBefore(e.start)?s=i?this.end.isTouching(e.start):this.end.isEqual(e.start):s=i?e.end.isTouching(this.start):e.end.isEqual(this.start)),!s)return null;let r=this.start,o=this.end;return e.start.isBefore(r)&&(r=e.start),e.end.isAfter(o)&&(o=e.end),new ie(r,o)}getMinimalFlatRanges(){const e=[],i=this.start.getCommonPath(this.end).length,s=be._createAt(this.start);let r=s.parent;for(;s.path.length>i+1;){const o=r.maxOffset-s.offset;o!==0&&e.push(new ie(s,s.getShiftedBy(o))),s.path=s.path.slice(0,-1),s.offset++,r=r.parent}for(;s.path.length<=this.end.path.length;){const o=this.end.path[s.path.length-1],l=o-s.offset;l!==0&&e.push(new ie(s,s.getShiftedBy(l))),s.offset=o,s.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new wr(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new wr(e);for(const s of i)yield s.item}*getPositions(e={}){e.boundaries=this;const i=new wr(e);yield i.position;for(const s of i)yield s.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new ie(this.start,this.end)]}getTransformedByOperations(e){const i=[new ie(this.start,this.end)];for(const s of e)for(let r=0;r<i.length;r++){const o=i[r].getTransformedByOperation(s);i.splice(r,1,...o),r+=o.length-1}for(let s=0;s<i.length;s++){const r=i[s];for(let o=s+1;o<i.length;o++){const l=i[o];(r.containsRange(l)||l.containsRange(r)||r.isEqual(l))&&i.splice(o,1)}}return i}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,i=this.end.nodeBefore;return e&&e.is("element")&&e===i?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,i=!1){return this._getTransformedByInsertion(e.position,e.howMany,i)}_getTransformedByMoveOperation(e,i=!1){const s=e.sourcePosition,r=e.howMany,o=e.targetPosition;return this._getTransformedByMove(s,o,r,i)}_getTransformedBySplitOperation(e){const i=this.start._getTransformedBySplitOperation(e);let s=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(s=this.end.getShiftedBy(1)),i.root!=s.root&&(s=this.end.getShiftedBy(-1)),new ie(i,s)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new ie(this.start);let i=this.start._getTransformedByMergeOperation(e),s=this.end._getTransformedByMergeOperation(e);return i.root!=s.root&&(s=this.end.getShiftedBy(-1)),i.isAfter(s)?(e.sourcePosition.isBefore(e.targetPosition)?(i=be._createAt(s),i.offset=0):(e.deletionPosition.isEqual(i)||(s=e.deletionPosition),i=e.targetPosition),new ie(i,s)):new ie(i,s)}_getTransformedByInsertion(e,i,s=!1){if(s&&this.containsPosition(e))return[new ie(this.start,e),new ie(e.getShiftedBy(i),this.end._getTransformedByInsertion(e,i))];{const r=new ie(this.start,this.end);return r.start=r.start._getTransformedByInsertion(e,i),r.end=r.end._getTransformedByInsertion(e,i),[r]}}_getTransformedByMove(e,i,s,r=!1){if(this.isCollapsed){const b=this.start._getTransformedByMove(e,i,s);return[new ie(b)]}const o=ie._createFromPositionAndShift(e,s),l=i._getTransformedByDeletion(e,s);if(this.containsPosition(i)&&!r&&(o.containsPosition(this.start)||o.containsPosition(this.end))){const b=this.start._getTransformedByMove(e,i,s),w=this.end._getTransformedByMove(e,i,s);return[new ie(b,w)]}let u;const f=this.getDifference(o);let h=null;const m=this.getIntersection(o);if(f.length==1?h=new ie(f[0].start._getTransformedByDeletion(e,s),f[0].end._getTransformedByDeletion(e,s)):f.length==2&&(h=new ie(this.start,this.end._getTransformedByDeletion(e,s))),h?u=h._getTransformedByInsertion(l,s,m!==null||r):u=[],m){const b=new ie(m.start._getCombined(o.start,l),m.end._getCombined(o.start,l));u.length==2?u.splice(1,0,b):u.push(b)}return u}_getTransformedByDeletion(e,i){let s=this.start._getTransformedByDeletion(e,i),r=this.end._getTransformedByDeletion(e,i);return s==null&&r==null?null:(s==null&&(s=e),r==null&&(r=e),new ie(s,r))}static _createFromPositionAndShift(e,i){const s=e,r=e.getShiftedBy(i);return i>0?new this(s,r):new this(r,s)}static _createIn(e){return new this(be._createAt(e,0),be._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(be._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new j("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const i=e[0];e.sort((o,l)=>o.start.isAfter(l.start)?1:-1);const s=e.indexOf(i),r=new this(i.start,i.end);for(let o=s-1;o>=0&&e[o].end.isEqual(r.start);o--)r.start=be._createAt(e[o].start);for(let o=s+1;o<e.length&&e[o].start.isEqual(r.end);o++)r.end=be._createAt(e[o].end);return r}static fromJSON(e,i){return new this(be.fromJSON(e.start,i),be.fromJSON(e.end,i))}}ie.prototype.is=function(n){return n==="range"||n==="model:range"};class BR extends Ct(){constructor(){super();y(this,"_modelToViewMapping",new WeakMap);y(this,"_viewToModelMapping",new WeakMap);y(this,"_viewToModelLengthCallbacks",new Map);y(this,"_markerNameToElements",new Map);y(this,"_elementToMarkerNames",new Map);y(this,"_deferredBindingRemovals",new Map);y(this,"_unboundMarkerNames",new Set);y(this,"_cache",new hW);this.on("modelToViewPosition",(e,i)=>{if(i.viewPosition)return;const s=this._modelToViewMapping.get(i.modelPosition.parent);if(!s)throw new j("mapping-model-position-view-parent-not-found",this,{modelPosition:i.modelPosition});i.viewPosition=this.findPositionIn(s,i.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,i)=>{if(i.modelPosition)return;const s=this.findMappedViewAncestor(i.viewPosition),r=this._viewToModelMapping.get(s),o=this._toModelOffset(i.viewPosition.parent,i.viewPosition.offset,s);i.modelPosition=be._createAt(r,o)},{priority:"low"})}bindElements(e,i){this._modelToViewMapping.set(e,i),this._viewToModelMapping.set(i,e)}unbindViewElement(e,i={}){const s=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const r of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(r);i.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e)&&this._cache.stopTracking(e),this._modelToViewMapping.get(s)==e&&this._modelToViewMapping.delete(s))}unbindModelElement(e){const i=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(i)==e&&this._viewToModelMapping.delete(i)&&this._cache.stopTracking(i)}bindElementToMarker(e,i){const s=this._markerNameToElements.get(i)||new Set;s.add(e);const r=this._elementToMarkerNames.get(e)||new Set;r.add(i),this._markerNameToElements.set(i,s),this._elementToMarkerNames.set(e,r)}unbindElementFromMarkerName(e,i){const s=this._markerNameToElements.get(i);s&&(s.delete(e),s.size==0&&this._markerNameToElements.delete(i));const r=this._elementToMarkerNames.get(e);r&&(r.delete(i),r.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,i]of this._deferredBindingRemovals)e.root==i&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new ie(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new nt(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const i={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",i),i.modelPosition}toViewPosition(e,i={}){const s={modelPosition:e,mapper:this,isPhantom:i.isPhantom};return this.fire("modelToViewPosition",s),s.viewPosition}markerNameToElements(e){const i=this._markerNameToElements.get(e);if(!i)return null;const s=new Set;for(const r of i)if(r.is("attributeElement"))for(const o of r.getElementsWithSameId())s.add(o);else s.add(r);return s}registerViewToModelLength(e,i){this._viewToModelLengthCallbacks.set(e,i)}findMappedViewAncestor(e){let i=e.parent;for(;!this._viewToModelMapping.has(i);)i=i.parent;return i}_toModelOffset(e,i,s){if(s!=e){const o=this._toModelOffset(e.parent,e.index,s),l=this._toModelOffset(e,i,e);return o+l}if(e.is("$text"))return i;let r=0;for(let o=0;o<i;o++)r+=this.getModelLength(e.getChild(o));return r}getModelLength(e){const i=[e];let s=0;for(;i.length>0;){const r=i.pop(),o=r.name&&this._viewToModelLengthCallbacks.size>0&&this._viewToModelLengthCallbacks.get(r.name);if(o)s+=o(r);else if(this._viewToModelMapping.has(r))s+=1;else if(r.is("$text"))s+=r.data.length;else{if(r.is("uiElement"))continue;for(const l of r.getChildren())i.push(l)}}return s}findPositionIn(e,i){if(i===0)return this._moveViewPositionToTextNode(new we(e,0));if(this._viewToModelLengthCallbacks.size==0&&this._viewToModelMapping.has(e)){const r=this._cache.getClosest(e,i);return this._findPositionStartingFrom(r.viewPosition,r.modelOffset,i,e,!0)}else return this._findPositionStartingFrom(new we(e,0),0,i,e,!1)}_findPositionStartingFrom(e,i,s,r,o){let l=e.parent,u=e.offset;if(l.is("$text"))return new we(l,s-i);let f,h=i,m=0;for(;h<s;){if(f=l.getChild(u),!f){if(l==r)throw new j("mapping-model-offset-not-found",this,{modelOffset:s,viewContainer:r});u=l.parent.getChildIndex(l)+1,l=l.parent;continue}m=this.getModelLength(f),h+=m,u++,o&&this._cache.save(l,u,r,h)}return h==s?this._moveViewPositionToTextNode(new we(l,u)):this._findPositionStartingFrom(new we(f,0),h-m,s,r,o)}_moveViewPositionToTextNode(e){const i=e.nodeBefore,s=e.nodeAfter;return i&&i.is("view:$text")?new we(i,i.data.length):s&&s.is("view:$text")?new we(s,0):e}}class hW extends Ct(){constructor(){super(...arguments);y(this,"_cachedMapping",new WeakMap);y(this,"_nodeToCacheListIndex",new WeakMap);y(this,"_invalidateOnChildrenChangeCallback",(e,i,s)=>{this._clearCacheInsideParent(i,s.index)});y(this,"_invalidateOnTextChangeCallback",(e,i)=>{this._clearCacheStartingBefore(i)})}save(e,i,s,r){const o=this._cachedMapping.get(s),l=o.cacheMap.get(r);if(l){const m=e.getChild(i-1),b=l.viewPosition.nodeBefore?this._nodeToCacheListIndex.get(l.viewPosition.nodeBefore):0;this._nodeToCacheListIndex.set(m,b);return}const f={viewPosition:new we(e,i),modelOffset:r};o.maxModelOffset=r>o.maxModelOffset?r:o.maxModelOffset,o.cacheMap.set(r,f);let h=o.cacheList.length-1;for(;h>=0&&o.cacheList[h].modelOffset>r;)h--;if(o.cacheList.splice(h+1,0,f),i>0){const m=e.getChild(i-1);this._nodeToCacheListIndex.set(m,h+1)}}getClosest(e,i){const s=this._cachedMapping.get(e);let r;if(s)if(i>s.maxModelOffset)r=s.cacheList[s.cacheList.length-1];else{const l=s.cacheMap.get(i);l?r=l:r=this._findInCacheList(s.cacheList,i)}else r=this.startTracking(e);const o=this._hoistViewPosition(r.viewPosition);return{modelOffset:r.modelOffset,viewPosition:o}}_hoistViewPosition(e){for(;e.parent.parent&&!this._cachedMapping.has(e.parent)&&e.isAtEnd;){const i=e.parent.parent,s=i.getChildIndex(e.parent)+1;e=new we(i,s)}return e}startTracking(e){const s={viewPosition:new we(e,0),modelOffset:0},r={maxModelOffset:0,cacheList:[s],cacheMap:new Map([[0,s]])};return this._cachedMapping.set(e,r),e.on("change:children",this._invalidateOnChildrenChangeCallback),e.on("change:text",this._invalidateOnTextChangeCallback),s}stopTracking(e){e.off("change:children",this._invalidateOnChildrenChangeCallback),e.off("change:text",this._invalidateOnTextChangeCallback),this._cachedMapping.delete(e)}_clearCacheInsideParent(e,i){if(i==0)this._cachedMapping.has(e)?this._clearCacheAll(e):this._clearCacheStartingBefore(e);else{const s=e.getChild(i-1);this._clearCacheStartingBefore(s)}}_clearCacheAll(e){const i=this._cachedMapping.get(e);i.maxModelOffset>0&&(i.maxModelOffset=0,i.cacheList.length=1,i.cacheMap.clear(),i.cacheMap.set(0,i.cacheList[0]))}_clearCacheStartingBefore(e){const i=this._nodeToCacheListIndex.get(e);if(i===void 0){const r=e.parent;this._cachedMapping.has(r)||this._clearCacheStartingBefore(r);return}let s=e.parent;for(;!this._cachedMapping.has(s);)s=s.parent;this._clearCacheFromIndex(s,i)}_clearCacheFromIndex(e,i){i===0&&(i=1);const s=this._cachedMapping.get(e),r=s.cacheList[i-1];if(!r)return;s.maxModelOffset=r.modelOffset;const o=s.cacheList.splice(i);for(const l of o){s.cacheMap.delete(l.modelOffset);const u=l.viewPosition.nodeBefore;this._nodeToCacheListIndex.delete(u)}}_findInCacheList(e,i){let s=0,r=e.length-1,o=r-s>>1,l=e[o];for(;s<r;)l.modelOffset<i?s=o+1:r=o-1,o=s+(r-s>>1),l=e[o];return l.modelOffset<=i?l:e[o-1]}}class pW{constructor(){y(this,"_consumable",new Map);y(this,"_textProxyRegistry",new Map)}add(t,e){e=Oh(e),t instanceof ws&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=Oh(e),t instanceof ws&&(t=this._getSymbolForTextProxy(t)),this.test(t,e)?(this._consumable.get(t).set(e,!1),!0):!1}test(t,e){e=Oh(e),t instanceof ws&&(t=this._getSymbolForTextProxy(t));const i=this._consumable.get(t);if(i===void 0)return null;const s=i.get(e);return s===void 0?null:s}revert(t,e){e=Oh(e),t instanceof ws&&(t=this._getSymbolForTextProxy(t));const i=this.test(t,e);return i===!1?(this._consumable.get(t).set(e,!0),!0):i===!0?!1:null}verifyAllConsumed(t){const e=[];for(const[i,s]of this._consumable)for(const[r,o]of s){const l=r.split(":")[0];o&&t==l&&e.push({event:r,item:i.name||i.description})}if(e.length)throw new j("conversion-model-consumable-not-consumed",null,{items:e})}_getSymbolForTextProxy(t){let e=null;const i=this._textProxyRegistry.get(t.startOffset);if(i){const s=i.get(t.endOffset);s&&(e=s.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t)),e}_addSymbolForTextProxy(t){const e=t.startOffset,i=t.endOffset,s=t.parent,r=Symbol("$textProxy:"+t.data);let o,l;return o=this._textProxyRegistry.get(e),o||(o=new Map,this._textProxyRegistry.set(e,o)),l=o.get(i),l||(l=new Map,o.set(i,l)),l.set(s,r),r}}function Oh(n){const t=n.split(":");return t[0]=="insert"?t[0]:t[0]=="addMarker"||t[0]=="removeMarker"?n:t.length>1?t[0]+":"+t[1]:t[0]}class DR extends Ct(){constructor(e){super();y(this,"_conversionApi");y(this,"_firedEventsMap");this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,i,s){const r=this._createConversionApi(s,e.getRefreshedItems());for(const l of e.getMarkersToRemove())this._convertMarkerRemove(l.name,l.range,r);const o=this._reduceChanges(e.getChanges());for(const l of o)l.type==="insert"?this._convertInsert(ie._createFromPositionAndShift(l.position,l.length),r):l.type==="reinsert"?this._convertReinsert(ie._createFromPositionAndShift(l.position,l.length),r):l.type==="remove"?this._convertRemove(l.position,l.length,l.name,r):this._convertAttribute(l.range,l.attributeKey,l.attributeOldValue,l.attributeNewValue,r);r.mapper.flushDeferredBindings();for(const l of r.mapper.flushUnboundMarkerNames()){const u=i.get(l).getRange();this._convertMarkerRemove(l,u,r),this._convertMarkerAdd(l,u,r)}for(const l of e.getMarkersToAdd())this._convertMarkerAdd(l.name,l.range,r);r.consumable.verifyAllConsumed("insert")}convert(e,i,s,r={}){const o=this._createConversionApi(s,void 0,r);this._convertInsert(e,o);for(const[l,u]of i)this._convertMarkerAdd(l,u,o);o.consumable.verifyAllConsumed("insert")}convertSelection(e,i,s){const r=this._createConversionApi(s);this.fire("cleanSelection",{selection:e},r);const o=e.getFirstPosition().root;if(!r.mapper.toViewElement(o))return;const l=Array.from(i.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(r.consumable,e,l),this.fire("selection",{selection:e},r),!!e.isCollapsed){for(const u of l)if(r.consumable.test(e,"addMarker:"+u.name)){const f=u.getRange();if(!mW(e.getFirstPosition(),u,r.mapper))continue;const h={item:e,markerName:u.name,markerRange:f};this.fire(`addMarker:${u.name}`,h,r)}for(const u of e.getAttributeKeys())if(r.consumable.test(e,"attribute:"+u)){const f={item:e,range:e.getFirstRange(),attributeKey:u,attributeOldValue:null,attributeNewValue:e.getAttribute(u)};this.fire(`attribute:${u}:$text`,f,r)}}}_convertInsert(e,i,s={}){s.doNotAddConsumables||this._addConsumablesForInsert(i.consumable,e);for(const r of e.getWalker({shallow:!0}))this._testAndFire("insert",Kx(r),i)}_convertRemove(e,i,s,r){this.fire(`remove:${s}`,{position:e,length:i},r)}_convertAttribute(e,i,s,r,o){this._addConsumablesForRange(o.consumable,e,`attribute:${i}`);for(const l of e){const u={item:l.item,range:ie._createFromPositionAndShift(l.previousPosition,l.length),attributeKey:i,attributeOldValue:s,attributeNewValue:r};this._testAndFire(`attribute:${i}`,u,o)}}_convertReinsert(e,i){const s=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(i.consumable,s);for(const r of s.map(Kx))this._testAndFire("insert",{...r,reconversion:!0},i)}_convertMarkerAdd(e,i,s){if(i.root.rootName=="$graveyard")return;const r=`addMarker:${e}`;if(s.consumable.add(i,r),this.fire(r,{markerName:e,markerRange:i},s),!!s.consumable.consume(i,r)){this._addConsumablesForRange(s.consumable,i,r);for(const o of i.getItems()){if(!s.consumable.test(o,r))continue;const l={item:o,range:ie._createOn(o),markerName:e,markerRange:i};this.fire(r,l,s)}}}_convertMarkerRemove(e,i,s){i.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:i},s)}_reduceChanges(e){const i={changes:e};return this.fire("reduceChanges",i),i.changes}_addConsumablesForInsert(e,i){for(const s of i){const r=s.item;if(e.test(r,"insert")===null){e.add(r,"insert");for(const o of r.getAttributeKeys())e.add(r,"attribute:"+o)}}return e}_addConsumablesForRange(e,i,s){for(const r of i.getItems())e.add(r,s);return e}_addConsumablesForSelection(e,i,s){e.add(i,"selection");for(const r of s)e.add(i,"addMarker:"+r.name);for(const r of i.getAttributeKeys())e.add(i,"attribute:"+r);return e}_testAndFire(e,i,s){const r=gW(e,i),o=i.item.is("$textProxy")?s.consumable._getSymbolForTextProxy(i.item):i.item,l=this._firedEventsMap.get(s),u=l.get(o);if(!u)l.set(o,new Set([r]));else if(!u.has(r))u.add(r);else return;this.fire(r,i,s)}_testAndFireAddAttributes(e,i){const s={item:e,range:ie._createOn(e)};for(const r of s.item.getAttributeKeys())s.attributeKey=r,s.attributeOldValue=null,s.attributeNewValue=s.item.getAttribute(r),this._testAndFire(`attribute:${r}`,s,i)}_createConversionApi(e,i=new Set,s={}){const r={...this._conversionApi,consumable:new pW,writer:e,options:s,convertItem:o=>this._convertInsert(ie._createOn(o),r),convertChildren:o=>this._convertInsert(ie._createIn(o),r,{doNotAddConsumables:!0}),convertAttributes:o=>this._testAndFireAddAttributes(o,r),canReuseView:o=>!i.has(r.mapper.toModelElement(o))};return this._firedEventsMap.set(r,new Map),r}}function mW(n,t,e){const i=t.getRange(),s=Array.from(n.getAncestors());return s.shift(),s.reverse(),!s.some(o=>{if(i.containsItem(o))return!!e.toViewElement(o).getCustomProperty("addHighlight")})}function gW(n,t){const e=t.item.is("element")?t.item.name:"$text";return`${n}:${e}`}function Kx(n){return{item:n.item,range:ie._createFromPositionAndShift(n.previousPosition,n.length)}}let Ra=class extends Po{constructor(e){super();y(this,"parent",null);y(this,"_attrs");y(this,"_index",null);y(this,"_startOffset",null);this._attrs=Pr(e)}get document(){return null}get index(){return this._index}get startOffset(){return this._startOffset}get offsetSize(){return 1}get endOffset(){return this.startOffset===null?null:this.startOffset+this.offsetSize}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.startOffset),i=i.parent;return e}getAncestors(e={}){const i=[];let s=e.includeSelf?this:this.parent;for(;s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}getCommonAncestor(e,i={}){const s=this.getAncestors(i),r=e.getAncestors(i);let o=0;for(;s[o]==r[o]&&s[o];)o++;return o===0?null:s[o-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),s=e.getPath(),r=ti(i,s);switch(r){case"prefix":return!0;case"extension":return!1;default:return i[r]<s[r]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((i,s)=>(i[s[0]]=s[1],i),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,i){this._attrs.set(e,i)}_setAttributesTo(e){this._attrs=Pr(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}};Ra.prototype.is=function(n){return n==="node"||n==="model:node"};class Ii extends Ct(Po){constructor(...e){super();y(this,"_lastRangeBackward",!1);y(this,"_attrs",new Map);y(this,"_ranges",[]);e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let s=!1;for(const r of e._ranges)if(i.isEqual(r)){s=!0;break}if(!s)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new ie(e.start,e.end)}getFirstRange(){let e=null;for(const i of this._ranges)(!e||i.start.isBefore(e.start))&&(e=i);return e?new ie(e.start,e.end):null}getLastRange(){let e=null;for(const i of this._ranges)(!e||i.end.isAfter(e.end))&&(e=i);return e?new ie(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[i,s,r]=e;if(typeof s=="object"&&(r=s,s=void 0),i===null)this._setRanges([]);else if(i instanceof Ii)this._setRanges(i.getRanges(),i.isBackward);else if(i&&typeof i.getRanges=="function")this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof ie)this._setRanges([i],!!r&&!!r.backward);else if(i instanceof be)this._setRanges([new ie(i)]);else if(i instanceof Ra){const o=!!r&&!!r.backward;let l;if(s=="in")l=ie._createIn(i);else if(s=="on")l=ie._createOn(i);else if(s!==void 0)l=new ie(be._createAt(i,s));else throw new j("model-selection-setto-required-second-parameter",[this,i]);this._setRanges([l],o)}else if(Fi(i))this._setRanges(i,r&&!!r.backward);else throw new j("model-selection-setto-not-selectable",[this,i])}_setRanges(e,i=!1){const s=Array.from(e),r=s.some(o=>{if(!(o instanceof ie))throw new j("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(l=>!l.isEqual(o))});s.length===this._ranges.length&&!r||(this._replaceAllRanges(s),this._lastRangeBackward=!!i,this.fire("change:range",{directChange:!0}))}setFocus(e,i){if(this.anchor===null)throw new j("model-selection-setfocus-no-ranges",[this,e]);const s=be._createAt(e,i);if(s.compareWith(this.focus)=="same")return;const r=this.anchor;this._ranges.length&&this._popRange(),s.compareWith(r)=="before"?(this._pushRange(new ie(s,r)),this._lastRangeBackward=!0):(this._pushRange(new ie(r,s)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,i){this.getAttribute(e)!==i&&(this._attrs.set(e,i),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const i of this.getRanges()){const s=Yx(i.start,e);yW(s,i)&&(yield s);const r=i.getWalker();for(const l of r){const u=l.item;l.type=="elementEnd"&&bW(u,e,i)?yield u:l.type=="elementStart"&&u.is("model:element")&&u.root.document.model.schema.isBlock(u)&&r.jumpTo(be._createAt(u,"end"))}const o=Yx(i.end,e);vW(o,i)&&(yield o)}}containsEntireContent(e=this.anchor.root){const i=be._createAt(e,0),s=be._createAt(e,"end");return i.isTouching(this.getFirstPosition())&&s.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new ie(e.start,e.end))}_checkRange(e){for(let i=0;i<this._ranges.length;i++)if(e.isIntersecting(this._ranges[i]))throw new j("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[i]})}_replaceAllRanges(e){this._removeAllRanges();for(const i of e)this._pushRange(i)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}Ii.prototype.is=function(n){return n==="selection"||n==="model:selection"};function NR(n,t){return t.has(n)?!1:(t.add(n),n.root.document.model.schema.isBlock(n)&&!!n.parent)}function bW(n,t,e){return NR(n,t)&&H1(n,e)}function Yx(n,t){const i=n.parent.root.document.model.schema,s=n.parent.getAncestors({parentFirst:!0,includeSelf:!0});let r=!1;const o=s.find(l=>r?!1:(r=i.isLimit(l),!r&&NR(l,t)));return s.forEach(l=>t.add(l)),o}function H1(n,t){const e=wW(n);return e?!t.containsRange(ie._createOn(e),!0):!0}function yW(n,t){return n?t.isCollapsed||n.isEmpty?!0:t.start.isTouching(be._createAt(n,n.maxOffset))?!1:H1(n,t):!1}function vW(n,t){return n?t.isCollapsed||n.isEmpty?!0:t.end.isTouching(be._createAt(n,0))?!1:H1(n,t):!1}function wW(n){const t=n.root.document.model.schema;let e=n.parent;for(;e;){if(t.isBlock(e))return e;e=e.parent}}class is extends Ct(ie){constructor(t,e){super(t,e),_W.call(this)}detach(){this.stopListening()}toRange(){return new ie(this.start,this.end)}static fromRange(t){return new is(t.start,t.end)}}is.prototype.is=function(n){return n==="liveRange"||n==="model:liveRange"||n=="range"||n==="model:range"};function _W(){this.listenTo(this.root.document.model,"applyOperation",(n,t)=>{const e=t[0];e.isDocumentOperation&&kW.call(this,e)},{priority:"low"})}function kW(n){const t=this.getTransformedByOperation(n),e=ie._createFromRanges(t),i=!e.isEqual(this),s=CW(this,n);let r=null;if(i){e.root.rootName=="$graveyard"&&(n.type=="remove"?r=n.sourcePosition:r=n.deletionPosition);const o=this.toRange();this.start=e.start,this.end=e.end,this.fire("change:range",o,{deletionPosition:r})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:r})}function CW(n,t){switch(t.type){case"insert":return n.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return n.containsPosition(t.sourcePosition)||n.start.isEqual(t.sourcePosition)||n.containsPosition(t.targetPosition);case"split":return n.containsPosition(t.splitPosition)||n.containsPosition(t.insertionPosition)}return!1}class Ft extends Ra{constructor(e,i){super(i);y(this,"_data");this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Ft(this.data,this.getAttributes())}static fromJSON(e){return new Ft(e.data,e.attributes)}}Ft.prototype.is=function(n){return n==="$text"||n==="model:$text"||n==="text"||n==="model:text"||n==="node"||n==="model:node"};const Cd="selection:";class Cs extends Ct(Po){constructor(e){super();y(this,"_selection");this._selection=new SW(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,i){this._selection.setFocus(e,i)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,i){this._selection.setAttribute(e,i)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Cd+e}static _isStoreAttributeKey(e){return e.startsWith(Cd)}}Cs.prototype.is=function(n){return n==="selection"||n=="model:selection"||n=="documentSelection"||n=="model:documentSelection"};class SW extends Ii{constructor(e){super();y(this,"markers",new Gs({idProperty:"name"}));y(this,"_model");y(this,"_document");y(this,"_attributePriority",new Map);y(this,"_selectionRestorePosition",null);y(this,"_hasChangedRange",!1);y(this,"_overriddenGravityRegister",new Set);y(this,"_observedMarkers",new Set);this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(i,s)=>{const r=s[0];!r.isDocumentOperation||r.type=="marker"||r.type=="rename"||r.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(i,s,r,o)=>{this._updateMarker(s,o)}),this.listenTo(this._document,"change",(i,s)=>{xW(this._model,s)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,i){super.setFocus(e,i),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,i){if(this._setAttribute(e,i)){const s=[e];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}overrideGravity(){const e=vi();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new j("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const i=this._prepareRange(e);i&&this._ranges.push(i)}_validateSelectionRanges(e){for(const i of e)if(!this._document._validateSelectionRange(i))throw new j("document-selection-wrong-position",this,{range:i})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const i=is.fromRange(e);return i.on("change:range",(s,r,o)=>{if(this._hasChangedRange=!0,i.root==this._document.graveyard){this._selectionRestorePosition=o.deletionPosition;const l=this._ranges.indexOf(i);this._ranges.splice(l,1),i.detach()}}),i}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let i=!1;for(const r of this._model.markers){const o=r.name.split(":",1)[0];if(!this._observedMarkers.has(o))continue;const l=r.getRange();for(const u of this.getRanges())l.containsRange(u,!u.isCollapsed)&&e.push(r)}const s=Array.from(this.markers);for(const r of e)this.markers.has(r)||(this.markers.add(r),i=!0);for(const r of Array.from(this.markers))e.includes(r)||(this.markers.remove(r),i=!0);i&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateMarker(e,i){const s=e.name.split(":",1)[0];if(!this._observedMarkers.has(s))return;let r=!1;const o=Array.from(this.markers),l=this.markers.has(e);if(!i)l&&(this.markers.remove(e),r=!0);else{let u=!1;for(const f of this.getRanges())if(i.containsRange(f,!f.isCollapsed)){u=!0;break}u&&!l?(this.markers.add(e),r=!0):!u&&l&&(this.markers.remove(e),r=!0)}r&&this.fire("change:marker",{oldMarkers:o,directChange:!1})}_updateAttributes(e){const i=Pr(this._getSurroundingAttributes()),s=Pr(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[o,l]of this._attributePriority)l=="low"&&(this._attrs.delete(o),this._attributePriority.delete(o));this._setAttributesTo(i);const r=[];for(const[o,l]of this.getAttributes())(!s.has(o)||s.get(o)!==l)&&r.push(o);for(const[o]of s)this.hasAttribute(o)||r.push(o);r.length>0&&this.fire("change:attribute",{attributeKeys:r,directChange:!1})}_setAttribute(e,i,s=!0){const r=s?"normal":"low";return r=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===i?!1:(this._attrs.set(e,i),this._attributePriority.set(e,r),!0)}_removeAttribute(e,i=!0){const s=i?"normal":"low";return s=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,s),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const i=new Set;for(const[s,r]of this.getAttributes())e.get(s)!==r&&this._removeAttribute(s,!1);for(const[s,r]of e)this._setAttribute(s,r,!1)&&i.add(s);return i}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const i of e.getAttributeKeys())i.startsWith(Cd)&&(yield[i.substr(Cd.length),e.getAttribute(i)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),i=this._model.schema;if(e.root.rootName=="$graveyard")return null;let s=null;if(this.isCollapsed){const r=e.textNode?e.textNode:e.nodeBefore,o=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(s=Su(r,i)),s||(s=Su(o,i)),!this.isGravityOverridden&&!s){let l=r;for(;l&&!s;)l=l.previousSibling,s=Su(l,i)}if(!s){let l=o;for(;l&&!s;)l=l.nextSibling,s=Su(l,i)}s||(s=this.getStoredAttributes())}else{const r=this.getFirstRange();for(const o of r){if(o.item.is("element")&&i.isObject(o.item)){s=Su(o.item,i);break}if(o.type=="text"){s=o.item.getAttributes();break}}}return s}_fixGraveyardSelection(e){const i=this._model.schema.getNearestSelectionRange(e);i&&this._pushRange(i)}}function Su(n,t){if(!n)return null;if(n instanceof ws||n instanceof Ft)return n.getAttributes();if(!t.isInline(n))return null;if(!t.isObject(n))return[];const e=[];for(const[i,s]of n.getAttributes())t.checkAttribute("$text",i)&&t.getAttributeProperties(i).copyFromObject!==!1&&e.push([i,s]);return e}function xW(n,t){const e=n.document.differ;for(const i of e.getChanges()){if(i.type!="insert")continue;const s=i.position.parent;i.length===s.maxOffset&&n.enqueueChange(t,o=>{const l=Array.from(s.getAttributeKeys()).filter(u=>u.startsWith(Cd));for(const u of l)o.removeAttribute(u,s)})}}class Qu{constructor(t){y(this,"_nodes",[]);y(this,"_offsetToNode",[]);t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._offsetToNode.length}getNode(t){return this._nodes[t]||null}getNodeAtOffset(t){return this._offsetToNode[t]||null}getNodeIndex(t){return t.index}getNodeStartOffset(t){return t.startOffset}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new j("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}offsetToIndex(t){if(t==this._offsetToNode.length)return this._nodes.length;const e=this._offsetToNode[t];if(!e)throw new j("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.getNodeIndex(e)}_insertNodes(t,e){const i=[];for(const r of e){if(!(r instanceof Ra))throw new j("model-nodelist-insertnodes-not-node",this);i.push(r)}let s=this.indexToOffset(t);Mx(this._nodes,i,t),Mx(this._offsetToNode,TW(i),s);for(let r=t;r<this._nodes.length;r++)this._nodes[r]._index=r,this._nodes[r]._startOffset=s,s+=this._nodes[r].offsetSize}_removeNodes(t,e=1){if(e==0)return[];let i=this.indexToOffset(t);const s=this._nodes.splice(t,e),r=s[s.length-1],o=r.startOffset+r.offsetSize-i;this._offsetToNode.splice(i,o);for(const l of s)l._index=null,l._startOffset=null;for(let l=t;l<this._nodes.length;l++)this._nodes[l]._index=l,this._nodes[l]._startOffset=i,i+=this._nodes[l].offsetSize;return s}_removeNodesArray(t){if(t.length==0)return;for(const i of t)i._index=null,i._startOffset=null;this._nodes=this._nodes.filter(i=>i.index!==null),this._offsetToNode=this._offsetToNode.filter(i=>i.index!==null);let e=0;for(let i=0;i<this._nodes.length;i++)this._nodes[i]._index=i,this._nodes[i]._startOffset=e,e+=this._nodes[i].offsetSize}toJSON(){return this._nodes.map(t=>t.toJSON())}}function TW(n){const t=[];let e=0;for(const i of n)for(let s=0;s<i.offsetSize;s++)t[e++]=i;return t}let nn=class np extends Ra{constructor(e,i,s){super(i);y(this,"name");y(this,"_children",new Qu);this.name=e,s&&this._insertChild(0,s)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let i=this;for(const s of e)i=i.getChildAtOffset(s);return i}findAncestor(e,i={}){let s=i.includeSelf?this:this.parent;for(;s;){if(s.name===e)return s;s=s.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const i of this._children)e.children.push(i.toJSON())}return e}_clone(e=!1){const i=e?AW(this._children):void 0;return new np(this.name,this.getAttributes(),i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const s=EW(i);for(const r of s)r.parent!==null&&r._remove(),r.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,i=1){const s=this._children._removeNodes(e,i);for(const r of s)r.parent=null;return s}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const i of e)i.parent=null}static fromJSON(e){let i;if(e.children){i=[];for(const s of e.children)s.name?i.push(np.fromJSON(s)):i.push(Ft.fromJSON(s))}return new np(e.name,e.attributes,i)}};nn.prototype.is=function(n,t){return t?t===this.name&&(n==="element"||n==="model:element"):n==="element"||n==="model:element"||n==="node"||n==="model:node"};function EW(n){if(typeof n=="string")return[new Ft(n)];Fi(n)||(n=[n]);const t=[];for(const e of n)typeof e=="string"?t.push(new Ft(e)):e instanceof ws?t.push(new Ft(e.data,e.getAttributes())):t.push(e);return t}function AW(n){const t=[];for(const e of n)t.push(e._clone(!0));return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class VR{constructor(t){y(this,"_dispatchers");this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}class PW extends VR{elementToElement(t){return this.add(GW(t))}elementToStructure(t){return this.add(KW(t))}attributeToElement(t){return this.add(YW(t))}attributeToAttribute(t){return this.add(XW(t))}markerToElement(t){return this.add(JW(t))}markerToHighlight(t){return this.add(QW(t))}markerToData(t){return this.add(ZW(t))}}function FR(){return(n,t,e)=>{if(!e.consumable.consume(t.item,n.name))return;const i=e.writer,s=e.mapper.toViewPosition(t.range.start),r=i.createText(t.item.data);i.insert(s,r)}}function zR(){return(n,t,e)=>{e.convertAttributes(t.item),!t.reconversion&&t.item.is("element")&&!t.item.isEmpty&&e.convertChildren(t.item)}}function RW(){return(n,t,e)=>{const i=e.mapper.toViewPosition(t.position),s=t.position.getShiftedBy(t.length),r=e.mapper.toViewPosition(s,{isPhantom:!0}),o=e.writer.createRange(i,r),l=e.writer.remove(o.getTrimmed());for(const u of e.writer.createRangeIn(l).getItems())e.mapper.unbindViewElement(u,{defer:!0})}}function UR(n,t){const e=n.createAttributeElement("span",t.attributes);return t.classes&&e._addClass(t.classes),typeof t.priority=="number"&&(e._priority=t.priority),e._id=t.id,e}function OW(){return(n,t,e)=>{const i=t.selection;if(i.isCollapsed||!e.consumable.consume(i,"selection"))return;const s=[];for(const r of i.getRanges())s.push(e.mapper.toViewRange(r));e.writer.setSelection(s,{backward:i.isBackward})}}function MW(){return(n,t,e)=>{const i=t.selection;if(!i.isCollapsed||!e.consumable.consume(i,"selection"))return;const s=e.writer,r=i.getFirstPosition(),o=e.mapper.toViewPosition(r),l=s.breakAttributes(o);s.setSelection(l)}}function IW(){return(n,t,e)=>{const i=e.writer,s=i.document.selection;for(const r of s.getRanges())r.isCollapsed&&r.end.parent.isAttached()&&e.writer.mergeAttributes(r.start);i.setSelection(null)}}function LW(n){return(t,e,i)=>{if(!i.consumable.test(e.item,t.name))return;const s=n(e.attributeOldValue,i,e),r=n(e.attributeNewValue,i,e);if(!s&&!r)return;i.consumable.consume(e.item,t.name);const o=i.writer,l=o.document.selection;if(e.item instanceof Ii||e.item instanceof Cs)o.wrap(l.getFirstRange(),r);else{let u=i.mapper.toViewRange(e.range);e.attributeOldValue!==null&&s&&(u=o.unwrap(u,s)),e.attributeNewValue!==null&&r&&o.wrap(u,r)}}}function BW(n,t=oq){return(e,i,s)=>{if(!t(i.item,s.consumable,{preflight:!0}))return;const r=n(i.item,s,i);if(!r)return;t(i.item,s.consumable);const o=s.mapper.toViewPosition(i.range.start);s.mapper.bindElements(i.item,r),s.writer.insert(o,r),s.convertAttributes(i.item),qR(r,i.item.getChildren(),s,{reconversion:i.reconversion})}}function DW(n,t){return(e,i,s)=>{if(!t(i.item,s.consumable,{preflight:!0}))return;const r=new Map;s.writer._registerSlotFactory(nq(i.item,r,s));const o=n(i.item,s,i);if(s.writer._clearSlotFactory(),!o)return;iq(i.item,r,s),t(i.item,s.consumable);const l=s.mapper.toViewPosition(i.range.start);s.mapper.bindElements(i.item,o),s.writer.insert(l,o),s.convertAttributes(i.item),sq(o,r,s,{reconversion:i.reconversion})}}function NW(n){return(t,e,i)=>{e.isOpening=!0;const s=n(e,i);e.isOpening=!1;const r=n(e,i);if(!s||!r)return;const o=e.markerRange;if(o.isCollapsed&&!i.consumable.consume(o,t.name))return;for(const f of o)if(!i.consumable.consume(f.item,t.name))return;const l=i.mapper,u=i.writer;u.insert(l.toViewPosition(o.start),s),i.mapper.bindElementToMarker(s,e.markerName),o.isCollapsed||(u.insert(l.toViewPosition(o.end),r),i.mapper.bindElementToMarker(r,e.markerName)),t.stop()}}function VW(){return(n,t,e)=>{const i=e.mapper.markerNameToElements(t.markerName);if(i){for(const s of i)e.mapper.unbindElementFromMarkerName(s,t.markerName),e.writer.clear(e.writer.createRangeOn(s),s);e.writer.clearClonedElementsGroup(t.markerName),n.stop()}}}function FW(n){return(t,e,i)=>{const s=n(e.markerName,i);if(!s)return;const r=e.markerRange;i.consumable.consume(r,t.name)&&(Xx(r,!1,i,e,s),Xx(r,!0,i,e,s),t.stop())}}function Xx(n,t,e,i,s){const r=t?n.start:n.end,o=r.nodeAfter&&r.nodeAfter.is("element")?r.nodeAfter:null,l=r.nodeBefore&&r.nodeBefore.is("element")?r.nodeBefore:null;if(o||l){let f,h;t&&o||!t&&!l?(f=o,h=!0):(f=l,h=!1);const m=e.mapper.toViewElement(f);if(m){zW(m,t,h,e,i,s);return}}const u=e.mapper.toViewPosition(r);UW(u,t,e,i,s)}function zW(n,t,e,i,s,r){const o=`data-${r.group}-${t?"start":"end"}-${e?"before":"after"}`,l=n.hasAttribute(o)?n.getAttribute(o).split(","):[];l.unshift(r.name),i.writer.setAttribute(o,l.join(","),n),i.mapper.bindElementToMarker(n,s.markerName)}function UW(n,t,e,i,s){const r=`${s.group}-${t?"start":"end"}`,o=s.name?{name:s.name}:null,l=e.writer.createUIElement(r,o);e.writer.insert(n,l),e.mapper.bindElementToMarker(l,i.markerName)}function $W(n){return(t,e,i)=>{const s=n(e.markerName,i);if(!s)return;const r=i.mapper.markerNameToElements(e.markerName);if(!r)return;for(const l of r)i.mapper.unbindElementFromMarkerName(l,e.markerName),l.is("containerElement")?(o(`data-${s.group}-start-before`,l),o(`data-${s.group}-start-after`,l),o(`data-${s.group}-end-before`,l),o(`data-${s.group}-end-after`,l)):i.writer.clear(i.writer.createRangeOn(l),l);i.writer.clearClonedElementsGroup(e.markerName),t.stop();function o(l,u){if(u.hasAttribute(l)){const f=new Set(u.getAttribute(l).split(","));f.delete(s.name),f.size==0?i.writer.removeAttribute(l,u):i.writer.setAttribute(l,Array.from(f).join(","),u)}}}}function HW(n){return(t,e,i)=>{if(!i.consumable.test(e.item,t.name))return;const s=n(e.attributeOldValue,i,e),r=n(e.attributeNewValue,i,e);if(!s&&!r)return;i.consumable.consume(e.item,t.name);const o=i.mapper.toViewElement(e.item),l=i.writer;if(!o)throw new j("conversion-attribute-to-attribute-on-text",i.dispatcher,e);if(e.attributeOldValue!==null&&s){let u=s.value;s.key=="style"&&(typeof s.value=="string"?u=new Ju(l.document.stylesProcessor).setTo(s.value).getStylesEntries().map(([f])=>f):u=Object.keys(s.value)),l.removeAttribute(s.key,u,o)}if(e.attributeNewValue!==null&&r){let u=r.value;r.key=="style"&&typeof r.value=="string"&&(u=Object.fromEntries(new Ju(l.document.stylesProcessor).setTo(r.value).getStylesEntries())),l.setAttribute(r.key,u,!1,o)}}}function jW(n){return(t,e,i)=>{if(!e.item||!(e.item instanceof Ii||e.item instanceof Cs)&&!e.item.is("$textProxy"))return;const s=j1(n,e,i);if(!s||!i.consumable.consume(e.item,t.name))return;const r=i.writer,o=UR(r,s),l=r.document.selection;if(e.item instanceof Ii||e.item instanceof Cs)r.wrap(l.getFirstRange(),o);else{const u=i.mapper.toViewRange(e.range),f=r.wrap(u,o);for(const h of f.getItems())if(h.is("attributeElement")&&h.isSimilar(o)){i.mapper.bindElementToMarker(h,e.markerName);break}}}}function WW(n){return(t,e,i)=>{if(!e.item||!(e.item instanceof nn))return;const s=j1(n,e,i);if(!s||!i.consumable.test(e.item,t.name))return;const r=i.mapper.toViewElement(e.item);if(r&&r.getCustomProperty("addHighlight")){i.consumable.consume(e.item,t.name);for(const l of ie._createIn(e.item))i.consumable.consume(l.item,t.name);r.getCustomProperty("addHighlight")(r,s,i.writer),i.mapper.bindElementToMarker(r,e.markerName)}}}function qW(n){return(t,e,i)=>{if(e.markerRange.isCollapsed)return;const s=j1(n,e,i);if(!s)return;const r=UR(i.writer,s),o=i.mapper.markerNameToElements(e.markerName);if(o){for(const l of o)i.mapper.unbindElementFromMarkerName(l,e.markerName),l.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(l),r):l.getCustomProperty("removeHighlight")(l,s.id,i.writer);i.writer.clearClonedElementsGroup(e.markerName),t.stop()}}}function GW(n){const t=$R(n.model),e=Sd(n.view,"container");return t.attributes.length&&(t.children=!0),i=>{i.on(`insert:${t.name}`,BW(e,WR(t)),{priority:n.converterPriority||"normal"}),(t.children||t.attributes.length)&&i.on("reduceChanges",jR(t),{priority:"low"})}}function KW(n){const t=$R(n.model),e=Sd(n.view,"container");return t.children=!0,i=>{if(i._conversionApi.schema.checkChild(t.name,"$text"))throw new j("conversion-element-to-structure-disallowed-text",i,{elementName:t.name});i.on(`insert:${t.name}`,DW(e,WR(t)),{priority:n.converterPriority||"normal"}),i.on("reduceChanges",jR(t),{priority:"low"})}}function YW(n){n=Vi(n);let t=n.model;typeof t=="string"&&(t={key:t});let e=`attribute:${t.key}`;if(t.name&&(e+=":"+t.name),t.values)for(const s of t.values)n.view[s]=Sd(n.view[s],"attribute");else n.view=Sd(n.view,"attribute");const i=HR(n);return s=>{s.on(e,LW(i),{priority:n.converterPriority||"normal"})}}function XW(n){n=Vi(n);let t=n.model;typeof t=="string"&&(t={key:t});let e=`attribute:${t.key}`;if(t.name&&(e+=":"+t.name),t.values)for(const s of t.values)n.view[s]=Jx(n.view[s]);else n.view=Jx(n.view);const i=HR(n);return s=>{s.on(e,HW(i),{priority:n.converterPriority||"normal"})}}function JW(n){const t=Sd(n.view,"ui");return e=>{e.on(`addMarker:${n.model}`,NW(t),{priority:n.converterPriority||"normal"}),e.on(`removeMarker:${n.model}`,VW(),{priority:n.converterPriority||"normal"})}}function ZW(n){n=Vi(n);const t=n.model;let e=n.view;return e||(e=i=>({group:t,name:i.substr(n.model.length+1)})),i=>{i.on(`addMarker:${t}`,FW(e),{priority:n.converterPriority||"normal"}),i.on(`removeMarker:${t}`,$W(e),{priority:n.converterPriority||"normal"})}}function QW(n){return t=>{t.on(`addMarker:${n.model}`,jW(n.view),{priority:n.converterPriority||"normal"}),t.on(`addMarker:${n.model}`,WW(n.view),{priority:n.converterPriority||"normal"}),t.on(`removeMarker:${n.model}`,qW(n.view),{priority:n.converterPriority||"normal"})}}function $R(n){return typeof n=="string"&&(n={name:n}),{name:n.name,attributes:n.attributes?Wt(n.attributes):[],children:!!n.children}}function Sd(n,t){return typeof n=="function"?n:(e,i)=>eq(n,i,t)}function eq(n,t,e){typeof n=="string"&&(n={name:n});let i;const s=t.writer,r=Object.assign({},n.attributes);if(e=="container")i=s.createContainerElement(n.name,r);else if(e=="attribute"){const o={priority:n.priority||fa.DEFAULT_PRIORITY};i=s.createAttributeElement(n.name,r,o)}else i=s.createUIElement(n.name,r);if(n.styles){const o=Object.keys(n.styles);for(const l of o)s.setStyle(l,n.styles[l],i)}if(n.classes){const o=n.classes;if(typeof o=="string")s.addClass(o,i);else for(const l of o)s.addClass(l,i)}return i}function HR(n){return n.model.values?(t,e,i)=>{const s=n.view[t];return s?s(t,e,i):null}:n.view}function Jx(n){return typeof n=="string"?t=>({key:n,value:t}):typeof n=="object"?n.value?()=>n:t=>({key:n.key,value:t}):n}function j1(n,t,e){const i=typeof n=="function"?n(t,e):n;return i?(i.priority||(i.priority=10),i.id||(i.id=t.markerName),i):null}function tq(n){return(t,e)=>{if(!t.is("element",n.name))return!1;if(e.type=="attribute"){if(n.attributes.includes(e.attributeKey))return!0}else{/* istanbul ignore else: This is always true because otherwise it would not register a reducer callback. -- @preserve */if(n.children)return!0}return!1}}function jR(n){const t=tq(n);return(e,i)=>{const s=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const r of i.changes){const o=r.type=="attribute"?r.range.start.nodeAfter:r.position.parent;if(!o||!t(o,r)){s.push(r);continue}if(!i.reconvertedElements.has(o)){i.reconvertedElements.add(o);const l=be._createBefore(o);let u=s.length;for(let f=s.length-1;f>=0;f--){const h=s[f],b=(h.type=="attribute"?h.range.start:h.position).compareWith(l);if(b=="before"||h.type=="remove"&&b=="same")break;u=f}s.splice(u,0,{type:"remove",name:o.name,position:l,length:1},{type:"reinsert",name:o.name,position:l,length:1})}}i.changes=s}}function WR(n){return(t,e,i={})=>{const s=["insert"];for(const r of n.attributes)t.hasAttribute(r)&&s.push(`attribute:${r}`);return s.every(r=>e.test(t,r))?(i.preflight||s.forEach(r=>e.consume(t,r)),!0):!1}}function nq(n,t,e){return(i,s)=>{const r=i.createContainerElement("$slot");let o=null;if(s==="children")o=Array.from(n.getChildren());else if(typeof s=="function")o=Array.from(n.getChildren()).filter(l=>s(l));else throw new j("conversion-slot-mode-unknown",e.dispatcher,{modeOrFilter:s});return t.set(r,o),r}}function iq(n,t,e){const i=Array.from(t.values()).flat(),s=new Set(i);if(s.size!=i.length)throw new j("conversion-slot-filter-overlap",e.dispatcher,{element:n});if(s.size!=n.childCount)throw new j("conversion-slot-filter-incomplete",e.dispatcher,{element:n})}function sq(n,t,e,i){e.mapper.on("modelToViewPosition",o,{priority:"highest"});let s=null,r=null;for([s,r]of t)qR(n,r,e,i),e.writer.move(e.writer.createRangeIn(s),e.writer.createPositionBefore(s)),e.writer.remove(s);e.mapper.off("modelToViewPosition",o);function o(l,u){const f=u.modelPosition.nodeAfter,h=r.indexOf(f);h<0||(u.viewPosition=u.mapper.findPositionIn(s,h))}}function qR(n,t,e,i){for(const s of t)rq(n.root,s,e,i)||e.convertItem(s)}function rq(n,t,e,i){const{writer:s,mapper:r}=e;if(!i.reconversion)return!1;const o=r.toViewElement(t);return!o||o.root==n||!e.canReuseView(o)?!1:(s.move(s.createRangeOn(o),r.toViewPosition(be._createBefore(t))),!0)}function oq(n,t,{preflight:e}={}){return e?t.test(n,"insert"):t.consume(n,"insert")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function GR(n){const{schema:t,document:e}=n.model;for(const i of e.getRoots())if(i.isEmpty&&!t.checkChild(i,"$text")&&t.checkChild(i,"paragraph"))return n.insertElement("paragraph",i),!0;return!1}function KR(n,t,e){const i=e.createContext(n);return!(!e.checkChild(i,"paragraph")||!e.checkChild(i.push("paragraph"),t))}function YR(n,t){const e=t.createElement("paragraph");return t.insert(e,n),t.createPositionAt(e,0)}class aq extends VR{elementToElement(t){return this.add(XR(t))}elementToAttribute(t){return this.add(uq(t))}attributeToAttribute(t){return this.add(dq(t))}elementToMarker(t){return this.add(fq(t))}dataToMarker(t){return this.add(hq(t))}}function Zx(){return(n,t,e)=>{if(!t.modelRange&&e.consumable.consume(t.viewItem,{name:!0})){const{modelRange:i,modelCursor:s}=e.convertChildren(t.viewItem,t.modelCursor);t.modelRange=i,t.modelCursor=s}}}function lq(){return(n,t,{schema:e,consumable:i,writer:s})=>{let r=t.modelCursor;if(!i.test(t.viewItem))return;if(!e.checkChild(r,"$text")){if(!KR(r,"$text",e)||t.viewItem.data.trim().length==0)return;r=YR(r,s)}i.consume(t.viewItem);const o=s.createText(t.viewItem.data);s.insert(o,r),t.modelRange=s.createRange(r,r.getShiftedBy(o.offsetSize)),t.modelCursor=t.modelRange.end}}function cq(n,t){return(e,i)=>{const s=i.newSelection,r=[];for(const l of s.getRanges())r.push(t.toModelRange(l));const o=n.createSelection(r,{backward:s.isBackward});o.isEqual(n.document.selection)||n.change(l=>{l.setSelection(o)})}}function XR(n){n=Vi(n);const t=uv(n),e=W1(n.view),i=e?`element:${e}`:"element";return s=>{s.on(i,t,{priority:n.converterPriority||"normal"})}}function uq(n){n=Vi(n),JR(n);const t=ZR(n,!1),e=W1(n.view),i=e?`element:${e}`:"element";return s=>{s.on(i,t,{priority:n.converterPriority||"low"})}}function dq(n){n=Vi(n);let t=null;(typeof n.view=="string"||n.view.key)&&(t=gq(n)),JR(n,t);const e=ZR(n,!0);return i=>{i.on("element",e,{priority:n.converterPriority||"low"})}}function fq(n){const t=vq(n.model);return XR({...n,model:t})}function hq(n){n=Vi(n),n.model||(n.model=s=>s?n.view+":"+s:n.view);const t={view:n.view,model:n.model},e=uv(Qx(t,"start")),i=uv(Qx(t,"end"));return s=>{s.on(`element:${n.view}-start`,e,{priority:n.converterPriority||"normal"}),s.on(`element:${n.view}-end`,i,{priority:n.converterPriority||"normal"});const r=da.low,o=da.highest,l=da.get(n.converterPriority)/o;s.on("element",pq(t),{priority:r+l})}}function pq(n){return(t,e,i)=>{const s=`data-${n.view}`;if(!i.consumable.test(e.viewItem,{attributes:s+"-end-after"})&&!i.consumable.test(e.viewItem,{attributes:s+"-start-after"})&&!i.consumable.test(e.viewItem,{attributes:s+"-end-before"})&&!i.consumable.test(e.viewItem,{attributes:s+"-start-before"}))return;e.modelRange||Object.assign(e,i.convertChildren(e.viewItem,e.modelCursor)),i.consumable.consume(e.viewItem,{attributes:s+"-end-after"})&&r(e.modelRange.end,e.viewItem.getAttribute(s+"-end-after").split(",")),i.consumable.consume(e.viewItem,{attributes:s+"-start-after"})&&r(e.modelRange.end,e.viewItem.getAttribute(s+"-start-after").split(",")),i.consumable.consume(e.viewItem,{attributes:s+"-end-before"})&&r(e.modelRange.start,e.viewItem.getAttribute(s+"-end-before").split(",")),i.consumable.consume(e.viewItem,{attributes:s+"-start-before"})&&r(e.modelRange.start,e.viewItem.getAttribute(s+"-start-before").split(","));function r(o,l){for(const u of l){const f=n.model(u,i),h=i.writer.createElement("$marker",{"data-name":f});i.writer.insert(h,o),e.modelCursor.isEqual(o)?e.modelCursor=e.modelCursor.getShiftedBy(1):e.modelCursor=e.modelCursor._getTransformedByInsertion(o,1),e.modelRange=e.modelRange._getTransformedByInsertion(o,1)[0]}}}}function W1(n){return typeof n=="string"?n:typeof n=="object"&&typeof n.name=="string"?n.name:null}function uv(n){const t=new va(n.view);return(e,i,s)=>{const r=t.match(i.viewItem);if(!r)return;const o=r.match;if(o.name=!0,!s.consumable.test(i.viewItem,o))return;const l=mq(n.model,i.viewItem,s);l&&s.safeInsert(l,i.modelCursor)&&(s.consumable.consume(i.viewItem,o),s.convertChildren(i.viewItem,l),s.updateConversionResult(l,i))}}function mq(n,t,e){return n instanceof Function?n(t,e):e.writer.createElement(n)}function gq(n){typeof n.view=="string"&&(n.view={key:n.view});const t=n.view.key,e=typeof n.view.value>"u"?/[\s\S]*/:n.view.value;let i;return t=="class"||t=="style"?i={[t=="class"?"classes":"styles"]:e}:i={attributes:{[t]:e}},n.view.name&&(i.name=n.view.name),n.view=i,t}function JR(n,t=null){const e=t===null?!0:r=>r.getAttribute(t),i=typeof n.model!="object"?n.model:n.model.key,s=typeof n.model!="object"||typeof n.model.value>"u"?e:n.model.value;n.model={key:i,value:s}}function ZR(n,t){const e=new va(n.view);return(i,s,r)=>{if(!s.modelRange&&t)return;const o=e.match(s.viewItem);if(!o||(bq(n.view,s.viewItem)?o.match.name=!0:delete o.match.name,!r.consumable.test(s.viewItem,o.match)))return;const l=n.model.key,u=typeof n.model.value=="function"?n.model.value(s.viewItem,r,s):n.model.value;if(u===null)return;s.modelRange||Object.assign(s,r.convertChildren(s.viewItem,s.modelCursor)),yq(s.modelRange,{key:l,value:u},t,r)&&(r.consumable.test(s.viewItem,{name:!0})&&(o.match.name=!0),r.consumable.consume(s.viewItem,o.match))}}function bq(n,t){const e=typeof n=="function"?n(t):n;return typeof e=="object"&&!W1(e)?!1:!e.classes&&!e.attributes&&!e.styles}function yq(n,t,e,i){let s=!1;for(const r of Array.from(n.getItems({shallow:e})))i.schema.checkAttribute(r,t.key)&&(s=!0,!r.hasAttribute(t.key)&&i.writer.setAttribute(t.key,t.value,r));return s}function vq(n){return(t,e)=>{const i=typeof n=="string"?n:n(t,e);return e.writer.createElement("$marker",{"data-name":i})}}function Qx(n,t){const e=(i,s)=>{const r=i.getAttribute("name"),o=n.model(r,s);return s.writer.createElement("$marker",{"data-name":o})};return{view:`${n.view}-${t}`,model:e}}function wq(n){n.document.registerPostFixer(t=>_q(t,n))}function _q(n,t){const e=t.document.selection,i=t.schema,s=[];let r=!1;for(const o of e.getRanges()){const l=QR(o,i);l&&!l.isEqual(o)?(s.push(l),r=!0):s.push(o)}return r&&n.setSelection(xq(s),{backward:e.isBackward}),!1}function QR(n,t){return n.isCollapsed?kq(n,t):Cq(n,t)}function kq(n,t){const e=n.start,i=t.getNearestSelectionRange(e);if(!i){const r=e.getAncestors().reverse().find(o=>t.isObject(o));return r?ie._createOn(r):null}if(!i.isCollapsed)return i;const s=i.start;return e.isEqual(s)?null:new ie(s)}function Cq(n,t){const{start:e,end:i}=n,s=t.checkChild(e,"$text"),r=t.checkChild(i,"$text"),o=t.getLimitElement(e),l=t.getLimitElement(i);if(o===l){if(s&&r)return null;if(Sq(e,i,t)){const m=e.nodeAfter&&t.isSelectable(e.nodeAfter)?null:t.getNearestSelectionRange(e,"forward"),w=i.nodeBefore&&t.isSelectable(i.nodeBefore)?null:t.getNearestSelectionRange(i,"backward"),_=m?m.start:e,k=w?w.end:i;return new ie(_,k)}}const u=o&&!o.is("rootElement"),f=l&&!l.is("rootElement");if(u||f){const h=e.nodeAfter&&i.nodeBefore&&e.nodeAfter.parent===i.nodeBefore.parent,m=u&&(!h||!tT(e.nodeAfter,t)),b=f&&(!h||!tT(i.nodeBefore,t));let w=e,_=i;return m&&(w=be._createBefore(eT(o,t))),b&&(_=be._createAfter(eT(l,t))),new ie(w,_)}return null}function eT(n,t){let e=n,i=e;for(;t.isLimit(i)&&i.parent;)e=i,i=i.parent;return e}function Sq(n,t,e){const i=n.nodeAfter&&!e.isLimit(n.nodeAfter)||e.checkChild(n,"$text"),s=t.nodeBefore&&!e.isLimit(t.nodeBefore)||e.checkChild(t,"$text");return i||s}function xq(n){const t=[...n],e=new Set;let i=1;for(;i<t.length;){const r=t[i],o=t.slice(0,i);for(const[l,u]of o.entries())if(!e.has(l)){if(r.isEqual(u))e.add(l);else if(r.isIntersecting(u)){e.add(l),e.add(i);const f=r.getJoined(u);t.push(f)}}i++}return t.filter((r,o)=>!e.has(o))}function tT(n,t){return n&&t.isSelectable(n)}class Tq extends jt(){constructor(e,i){super();y(this,"model");y(this,"view");y(this,"mapper");y(this,"downcastDispatcher");this.model=e,this.view=new dW(i),this.mapper=new BR,this.downcastDispatcher=new DR({mapper:this.mapper,schema:e.schema});const s=this.model.document,r=s.selection,o=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(s,"change",()=>{this.view.change(l=>{this.downcastDispatcher.convertChanges(s.differ,o,l),this.downcastDispatcher.convertSelection(r,o,l)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",cq(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",Eq(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",FR(),{priority:"lowest"}),this.downcastDispatcher.on("insert",zR(),{priority:"lowest"}),this.downcastDispatcher.on("remove",RW(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",IW()),this.downcastDispatcher.on("selection",OW(),{priority:"low"}),this.downcastDispatcher.on("selection",MW(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(l=>{if(l.rootName=="$graveyard")return null;const u=new wR(this.view.document,l.name);return u.rootName=l.rootName,this.mapper.bindElements(l,u),u})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const i=typeof e=="string"?e:e.name,s=this.model.markers.get(i);if(!s)throw new j("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:i});this.model.change(()=>{this.model.markers._refresh(s)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}function Eq(n,t,e){return(i,s)=>{if(!(e.document.isComposing&&!Ie.isAndroid))for(let r=0;r<s.targetRanges.length;r++){const o=s.targetRanges[r],l=n.toModelRange(o),u=QR(l,t);!u||u.isEqual(l)||(s.targetRanges[r]=n.toViewRange(u))}}}class Aq extends jt(){constructor(){super();y(this,"_sourceDefinitions",{});y(this,"_attributeProperties",Object.create(null));y(this,"_customChildChecks",new Map);y(this,"_customAttributeChecks",new Map);y(this,"_genericCheckSymbol",Symbol("$generic"));y(this,"_compiledDefinitions");this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,i)=>{i[0]=new go(i[0])},{priority:"highest"}),this.on("checkChild",(e,i)=>{i[0]=new go(i[0]),i[1]=this.getDefinition(i[1])},{priority:"highest"})}register(e,i){if(this._sourceDefinitions[e])throw new j("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},i)],this._clearCache()}extend(e,i){if(!this._sourceDefinitions[e])throw new j("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},i)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let i;return typeof e=="string"?i=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?i="$text":i=e.name,this.getDefinitions()[i]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const i=this.getDefinition(e);return!!(i&&i.isBlock)}isLimit(e){const i=this.getDefinition(e);return i?!!(i.isLimit||i.isObject):!1}isObject(e){const i=this.getDefinition(e);return i?!!(i.isObject||i.isLimit&&i.isSelectable&&i.isContent):!1}isInline(e){const i=this.getDefinition(e);return!!(i&&i.isInline)}isSelectable(e){const i=this.getDefinition(e);return i?!!(i.isSelectable||i.isObject):!1}isContent(e){const i=this.getDefinition(e);return i?!!(i.isContent||i.isObject):!1}checkChild(e,i){return i?this._checkContextMatch(e,i):!1}checkAttribute(e,i){const s=this.getDefinition(e.last);if(!s)return!1;const r=this._evaluateAttributeChecks(e,i);return r!==void 0?r:s.allowAttributes.includes(i)}checkMerge(e,i){if(e instanceof be){const s=e.nodeBefore,r=e.nodeAfter;if(!(s instanceof nn))throw new j("schema-check-merge-no-element-before",this);if(!(r instanceof nn))throw new j("schema-check-merge-no-element-after",this);return this.checkMerge(s,r)}if(this.isLimit(e)||this.isLimit(i))return!1;for(const s of i.getChildren())if(!this.checkChild(e,s))return!1;return!0}addChildCheck(e,i){const s=i!==void 0?i:this._genericCheckSymbol,r=this._customChildChecks.get(s)||[];r.push(e),this._customChildChecks.set(s,r)}addAttributeCheck(e,i){const s=i!==void 0?i:this._genericCheckSymbol,r=this._customAttributeChecks.get(s)||[];r.push(e),this._customAttributeChecks.set(s,r)}setAttributeProperties(e,i){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),i)}getAttributeProperties(e){return this._attributeProperties[e]||Object.create(null)}getLimitElement(e){let i;for(e instanceof be?i=e.parent:i=(e instanceof ie?[e]:Array.from(e.getRanges())).reduce((r,o)=>{const l=o.getCommonAncestor();return r?r.getCommonAncestor(l,{includeSelf:!0}):l},null);!this.isLimit(i)&&i.parent;)i=i.parent;return i}checkAttributeInSelection(e,i){if(e.isCollapsed){const r=[...e.getFirstPosition().getAncestors(),new Ft("",e.getAttributes())];return this.checkAttribute(r,i)}else{const s=e.getRanges();for(const r of s)for(const o of r)if(this.checkAttribute(o.item,i))return!0}return!1}*getValidRanges(e,i){e=jq(e);for(const s of e)yield*this._getValidRangesForRange(s,i)}getNearestSelectionRange(e,i="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new ie(e);let s,r;const o=e.getAncestors().reverse().find(l=>this.isLimit(l))||e.root;(i=="both"||i=="backward")&&(s=new wr({boundaries:ie._createIn(o),startPosition:e,direction:"backward"})),(i=="both"||i=="forward")&&(r=new wr({boundaries:ie._createIn(o),startPosition:e}));for(const l of Hq(s,r)){const u=l.walker==s?"elementEnd":"elementStart",f=l.value;if(f.type==u&&this.isObject(f.item))return ie._createOn(f.item);if(this.checkChild(f.nextPosition,"$text"))return new ie(f.nextPosition)}return null}findAllowedParent(e,i){let s=e.parent;for(;s;){if(this.checkChild(s,i))return s;if(this.isLimit(s))return null;s=s.parent}return null}setAllowedAttributes(e,i,s){const r=s.model;for(const[o,l]of Object.entries(i))r.schema.checkAttribute(e,o)&&s.setAttribute(o,l,e)}removeDisallowedAttributes(e,i){for(const s of e)if(s.is("$text"))nT(this,s,i);else{const o=ie._createIn(s).getPositions();for(const l of o){const u=l.nodeBefore||l.parent;nT(this,u,i)}}}getAttributesWithProperty(e,i,s){const r={};for(const[o,l]of e.getAttributes()){const u=this.getAttributeProperties(o);u[i]!==void 0&&(s===void 0||s===u[i])&&(r[o]=l)}return r}createContext(e){return new go(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},i=this._sourceDefinitions,s=Object.keys(i);for(const o of s)e[o]=Pq(i[o],o);const r=Object.values(e);for(const o of r)Rq(e,o),Oq(e,o),Mq(e,o),Iq(e,o);for(const o of r)Lq(e,o);for(const o of r)Bq(e,o);for(const o of r)Dq(e,o);for(const o of r)Vq(e,o);for(const o of r)Fq(e,o);this._compiledDefinitions=Nq(e)}_checkContextMatch(e,i){const s=e.last;let r=this._evaluateChildChecks(e,i);if(r=r!==void 0?r:i.allowIn.includes(s.name),!r)return!1;const o=this.getDefinition(s),l=e.trimLast();return o?l.length==0?!0:this._checkContextMatch(l,o):!1}_evaluateChildChecks(e,i){const s=this._customChildChecks.get(this._genericCheckSymbol)||[],r=this._customChildChecks.get(i.name)||[];for(const o of[...s,...r]){const l=o(e,i);if(l!==void 0)return l}}_evaluateAttributeChecks(e,i){const s=this._customAttributeChecks.get(this._genericCheckSymbol)||[],r=this._customAttributeChecks.get(i)||[];for(const o of[...s,...r]){const l=o(e,i);if(l!==void 0)return l}}*_getValidRangesForRange(e,i){let s=e.start,r=e.start;for(const o of e.getItems({shallow:!0}))o.is("element")&&(yield*this._getValidRangesForRange(ie._createIn(o),i)),this.checkAttribute(o,i)||(s.isEqual(r)||(yield new ie(s,r)),s=be._createAfter(o)),r=be._createAfter(o);s.isEqual(r)||(yield new ie(s,r))}findOptimalInsertionRange(e,i){const s=e.getSelectedElement();if(s&&this.isObject(s)&&!this.isInline(s))return i=="before"||i=="after"?new ie(be._createAt(s,i)):ie._createOn(s);const r=$i(e.getSelectedBlocks());if(!r)return new ie(e.focus);if(r.isEmpty)return new ie(be._createAt(r,0));const o=be._createAfter(r);return e.focus.isTouching(o)?new ie(o):new ie(be._createBefore(r))}}class go{constructor(t){y(this,"_items");if(t instanceof go)return t;let e;typeof t=="string"?e=[t]:Array.isArray(t)?e=t:e=t.getAncestors({includeSelf:!0}),this._items=e.map($q)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new go([t]);return e._items=[...this._items,...e._items],e}trimLast(){const t=new go([]);return t._items=this._items.slice(0,-1),t}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function Pq(n,t){const e={name:t,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return zq(n,e),Ls(n,e,"allowIn"),Ls(n,e,"allowChildren"),Ls(n,e,"disallowIn"),Ls(n,e,"disallowChildren"),Ls(n,e,"allowContentOf"),Ls(n,e,"allowWhere"),Ls(n,e,"allowAttributes"),Ls(n,e,"disallowAttributes"),Ls(n,e,"allowAttributesOf"),Ls(n,e,"inheritTypesFrom"),Uq(n,e),e}function Rq(n,t){for(const e of t.allowIn){const i=n[e];i?i.allowChildren.add(t.name):t.allowIn.delete(e)}}function Oq(n,t){for(const e of t.allowChildren){const i=n[e];i?i.allowIn.add(t.name):t.allowChildren.delete(e)}}function Mq(n,t){for(const e of t.disallowIn){const i=n[e];i?i.disallowChildren.add(t.name):t.disallowIn.delete(e)}}function Iq(n,t){for(const e of t.disallowChildren){const i=n[e];i?i.disallowIn.add(t.name):t.disallowChildren.delete(e)}}function Lq(n,t){for(const e of t.disallowChildren)t.allowChildren.delete(e);for(const e of t.disallowIn)t.allowIn.delete(e);for(const e of t.disallowAttributes)t.allowAttributes.delete(e)}function Bq(n,t){for(const e of t.allowContentOf){const i=n[e];i&&(i.disallowChildren.forEach(s=>{t.allowChildren.has(s)||(t.disallowChildren.add(s),n[s].disallowIn.add(t.name))}),i.allowChildren.forEach(s=>{t.disallowChildren.has(s)||(t.allowChildren.add(s),n[s].allowIn.add(t.name))}))}}function Dq(n,t){for(const e of t.allowWhere){const i=n[e];i&&(i.disallowIn.forEach(s=>{t.allowIn.has(s)||(t.disallowIn.add(s),n[s].disallowChildren.add(t.name))}),i.allowIn.forEach(s=>{t.disallowIn.has(s)||(t.allowIn.add(s),n[s].allowChildren.add(t.name))}))}}function Nq(n){const t={};for(const e of Object.values(n))t[e.name]={name:e.name,isBlock:!!e.isBlock,isContent:!!e.isContent,isInline:!!e.isInline,isLimit:!!e.isLimit,isObject:!!e.isObject,isSelectable:!!e.isSelectable,allowIn:Array.from(e.allowIn).filter(i=>!!n[i]),allowChildren:Array.from(e.allowChildren).filter(i=>!!n[i]),allowAttributes:Array.from(e.allowAttributes)};return t}function Vq(n,t){for(const e of t.allowAttributesOf){const i=n[e];if(!i)return;i.allowAttributes.forEach(s=>{t.disallowAttributes.has(s)||t.allowAttributes.add(s)})}}function Fq(n,t){for(const e of t.inheritTypesFrom){const i=n[e];if(i){const s=Object.keys(i).filter(r=>r.startsWith("is"));for(const r of s)r in t||(t[r]=i[r])}}}function zq(n,t){for(const e of n){const i=Object.keys(e).filter(s=>s.startsWith("is"));for(const s of i)t[s]=!!e[s]}}function Ls(n,t,e){for(const i of n){let s=i[e];typeof s=="string"&&(s=[s]),Array.isArray(s)&&s.forEach(r=>t[e].add(r))}}function Uq(n,t){for(const e of n){const i=e.inheritAllFrom;i&&(t.allowContentOf.add(i),t.allowWhere.add(i),t.allowAttributesOf.add(i),t.inheritTypesFrom.add(i))}}function $q(n){return typeof n=="string"||n.is("documentFragment")?{name:typeof n=="string"?n:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:n.is("element")?n.name:"$text",*getAttributeKeys(){yield*n.getAttributeKeys()},getAttribute(t){return n.getAttribute(t)}}}function*Hq(n,t){let e=!1;for(;!e;){if(e=!0,n){const i=n.next();i.done||(e=!1,yield{walker:n,value:i.value})}if(t){const i=t.next();i.done||(e=!1,yield{walker:t,value:i.value})}}}function*jq(n){for(const t of n)yield*t.getMinimalFlatRanges()}function nT(n,t,e){for(const i of t.getAttributeKeys())n.checkAttribute(t,i)||e.removeAttribute(i,t)}class Wq extends Ct(){constructor(e){super();y(this,"conversionApi");y(this,"_splitParts",new Map);y(this,"_cursorParents",new Map);y(this,"_modelCursor",null);y(this,"_emptyElementsToKeep",new Set);this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(i,s)=>this._convertItem(i,s),convertChildren:(i,s)=>this._convertChildren(i,s),safeInsert:(i,s)=>this._safeInsert(i,s),updateConversionResult:(i,s)=>this._updateConversionResult(i,s),splitToAllowedParent:(i,s)=>this._splitToAllowedParent(i,s),getSplitParts:i=>this._getSplitParts(i),keepEmptyElement:i=>this._keepEmptyElement(i)}}convert(e,i,s=["$root"]){this.fire("viewCleanup",e),this._modelCursor=Gq(s,i),this.conversionApi.writer=i,this.conversionApi.consumable=Dp.createFrom(e),this.conversionApi.store={};const{modelRange:r}=this._convertItem(e,this._modelCursor),o=i.createDocumentFragment();if(r){this._removeEmptyElements();const l=this._modelCursor.parent,u=l._removeChildren(0,l.childCount);o._insertChild(0,u),o.markers=qq(o,i)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,o}_convertItem(e,i){const s={viewItem:e,modelCursor:i,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,s,this.conversionApi):e.is("$text")?this.fire("text",s,this.conversionApi):this.fire("documentFragment",s,this.conversionApi),s.modelRange&&!(s.modelRange instanceof ie))throw new j("view-conversion-dispatcher-incorrect-result",this);return{modelRange:s.modelRange,modelCursor:s.modelCursor}}_convertChildren(e,i){let s=i.is("position")?i:be._createAt(i,0);const r=new ie(s);for(const o of Array.from(e.getChildren())){const l=this._convertItem(o,s);l.modelRange instanceof ie&&(r.end=l.modelRange.end,s=l.modelCursor)}return{modelRange:r,modelCursor:s}}_safeInsert(e,i){const s=this._splitToAllowedParent(e,i);return s?(this.conversionApi.writer.insert(e,s.position),!0):!1}_updateConversionResult(e,i){const s=this._getSplitParts(e),r=this.conversionApi.writer;i.modelRange||(i.modelRange=r.createRange(r.createPositionBefore(e),r.createPositionAfter(s[s.length-1])));const o=this._cursorParents.get(e);o?i.modelCursor=r.createPositionAt(o,0):i.modelCursor=i.modelRange.end}_splitToAllowedParent(e,i){const{schema:s,writer:r}=this.conversionApi;let o=s.findAllowedParent(i,e);if(o){if(o===i.parent)return{position:i};this._modelCursor.parent.getAncestors().includes(o)&&(o=null)}if(!o)return KR(i,e,s)?{position:YR(i,r)}:null;const l=this.conversionApi.writer.split(i,o),u=[];for(const h of l.range.getWalker())if(h.type=="elementEnd")u.push(h.item);else{const m=u.pop(),b=h.item;this._registerSplitPair(m,b)}const f=l.range.end.parent;return this._cursorParents.set(e,f),{position:l.position,cursorParent:f}}_registerSplitPair(e,i){this._splitParts.has(e)||this._splitParts.set(e,[e]);const s=this._splitParts.get(e);this._splitParts.set(i,s),s.push(i)}_getSplitParts(e){let i;return this._splitParts.has(e)?i=this._splitParts.get(e):i=[e],i}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){const e=new Map;for(const i of this._splitParts.keys())if(i.isEmpty&&!this._emptyElementsToKeep.has(i)){const s=e.get(i.parent)||[];s.push(i),this._splitParts.delete(i),e.set(i.parent,s)}for(const[i,s]of e)i._removeChildrenArray(s);e.size&&this._removeEmptyElements()}}function qq(n,t){const e=new Set,i=new Map,s=ie._createIn(n).getItems();for(const r of s)r.is("element","$marker")&&e.add(r);for(const r of e){const o=r.getAttribute("data-name"),l=t.createPositionBefore(r);i.has(o)?i.get(o).end=l.clone():i.set(o,new ie(l.clone())),t.remove(r)}return i}function Gq(n,t){let e;for(const i of new go(n)){const s={};for(const o of i.getAttributeKeys())s[o]=i.getAttribute(o);const r=t.createElement(i.name,s);e&&t.insert(r,e),e=be._createAt(r,0)}return e}class Kq{getHtml(t){const i=ke.document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(t),i.innerHTML}}class Yq{constructor(t){y(this,"domParser");y(this,"domConverter");y(this,"htmlWriter");y(this,"skipComments",!0);this.domParser=new DOMParser,this.domConverter=new PR(t,{renderingMode:"data"}),this.htmlWriter=new Kq}toData(t){const e=this.domConverter.viewToDom(t);return this.htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this.domConverter.domToView(e,{skipComments:this.skipComments})}registerRawContentMatcher(t){this.domConverter.registerRawContentMatcher(t)}useFillerType(t){this.domConverter.blockFillerMode=t=="marked"?"markedNbsp":"nbsp"}_toDom(t){/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(t.trim().slice(0,1e4))||(t=`<body>${t}</body>`);const e=this.domParser.parseFromString(t,"text/html"),i=e.createDocumentFragment(),s=e.body.childNodes;for(;s.length>0;)i.appendChild(s[0]);return i}}class Xq extends Ct(){constructor(e,i){super();y(this,"model");y(this,"mapper");y(this,"downcastDispatcher");y(this,"upcastDispatcher");y(this,"viewDocument");y(this,"stylesProcessor");y(this,"htmlProcessor");y(this,"processor");y(this,"_viewWriter");this.model=e,this.mapper=new BR,this.downcastDispatcher=new DR({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",FR(),{priority:"lowest"}),this.downcastDispatcher.on("insert",zR(),{priority:"lowest"}),this.upcastDispatcher=new Wq({schema:e.schema}),this.viewDocument=new CR(i),this.stylesProcessor=i,this.htmlProcessor=new Yq(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new SR(this.viewDocument),this.upcastDispatcher.on("text",lq(),{priority:"lowest"}),this.upcastDispatcher.on("element",Zx(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",Zx(),{priority:"lowest"}),jt().prototype.decorate.call(this,"init"),jt().prototype.decorate.call(this,"set"),jt().prototype.decorate.call(this,"get"),jt().prototype.decorate.call(this,"toView"),jt().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},GR)},{priority:"lowest"})}get(e={}){const{rootName:i="main",trim:s="empty"}=e;if(!this._checkIfRootsExists([i]))throw new j("datacontroller-get-non-existent-root",this);const r=this.model.document.getRoot(i);return r.isAttached()||zt("datacontroller-get-detached-root",this),s==="empty"&&!this.model.hasContent(r,{ignoreWhitespaces:!0})?"":this.stringify(r,e)}stringify(e,i={}){const s=this.toView(e,i);return this.processor.toData(s)}toView(e,i={}){const s=this.viewDocument,r=this._viewWriter;this.mapper.clearBindings();const o=ie._createIn(e),l=new Ul(s);this.mapper.bindElements(e,l);const u=e.is("documentFragment")?e.markers:Jq(e);return this.downcastDispatcher.convert(o,u,r,i),l}init(e){if(this.model.document.version)throw new j("datacontroller-init-document-not-empty",this);let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new j("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},s=>{for(const r of Object.keys(i)){const o=this.model.document.getRoot(r);s.insert(this.parse(i[r],o),o,0)}}),Promise.resolve()}set(e,i={}){let s={};if(typeof e=="string"?s.main=e:s=e,!this._checkIfRootsExists(Object.keys(s)))throw new j("datacontroller-set-non-existent-root",this);this.model.enqueueChange(i.batchType||{},r=>{r.setSelection(null),r.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const o of Object.keys(s)){const l=this.model.document.getRoot(o);r.remove(r.createRangeIn(l)),r.insert(this.parse(s[o],l),l,0)}})}parse(e,i="$root"){const s=this.processor.toView(e);return this.toModel(s,i)}toModel(e,i="$root"){return this.model.change(s=>this.upcastDispatcher.convert(e,s,i))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const i of e)if(!this.model.document.getRoot(i))return!1;return!0}}function Jq(n){const t=[],e=n.root.document;if(!e)return new Map;const i=ie._createIn(n);for(const s of e.model.markers){const r=s.getRange(),o=r.isCollapsed,l=r.start.isEqual(i.start)||r.end.isEqual(i.end);if(o&&l)t.push([s.name,r]);else{const u=i.getIntersection(r);u&&t.push([s.name,u])}}return t.sort(([s,r],[o,l])=>{if(r.end.compareWith(l.start)!=="after")return 1;if(r.start.compareWith(l.end)!=="before")return-1;switch(r.start.compareWith(l.start)){case"before":return 1;case"after":return-1;default:switch(r.end.compareWith(l.end)){case"before":return 1;case"after":return-1;default:return o.localeCompare(s)}}}),new Map(t)}class Zq{constructor(t,e){y(this,"_helpers",new Map);y(this,"_downcast");y(this,"_upcast");this._downcast=Wt(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Wt(e),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const i=this._downcast.includes(e);if(!this._upcast.includes(e)&&!i)throw new j("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:i})}for(t){if(!this._helpers.has(t))throw new j("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:i}of U0(t))this.for("upcast").elementToElement({model:e,view:i,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:i}of U0(t))this.for("upcast").elementToAttribute({view:i,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:i}of U0(t))this.for("upcast").attributeToAttribute({view:i,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:i}){if(this._helpers.has(t))throw new j("conversion-group-exists",this);const s=i?new PW(e):new aq(e);this._helpers.set(t,s)}}function*U0(n){if(n.model.values)for(const t of n.model.values){const e={key:n.model.key,value:t},i=n.view[t],s=n.upcastAlso?n.upcastAlso[t]:void 0;yield*iT(e,i,s)}else yield*iT(n.model,n.view,n.upcastAlso)}function*iT(n,t,e){if(yield{model:n,view:t},e)for(const i of Wt(e))yield{model:n,view:i}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class zi{constructor(t){y(this,"baseVersion");y(this,"isDocumentOperation");y(this,"batch");this.baseVersion=t,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t,e){return new this(t.baseVersion)}}function q1(n,t){const e=tO(t),i=e.reduce((o,l)=>o+l.offsetSize,0),s=n.parent;Ed(n);const r=n.index;return s._insertChild(r,e),Td(s,r+e.length),Td(s,r),new ie(n,n.getShiftedBy(i))}function eO(n){if(!n.isFlat)throw new j("operation-utils-remove-range-not-flat",this);const t=n.start.parent;Ed(n.start),Ed(n.end);const e=t._removeChildren(n.start.index,n.end.index-n.start.index);return Td(t,n.start.index),e}function xd(n,t){if(!n.isFlat)throw new j("operation-utils-move-range-not-flat",this);const e=eO(n);return t=t._getTransformedByDeletion(n.start,n.end.offset-n.start.offset),q1(t,e)}function Qq(n,t,e){Ed(n.start),Ed(n.end);for(const i of n.getItems({shallow:!0})){const s=i.is("$textProxy")?i.textNode:i;e!==null?s._setAttribute(t,e):s._removeAttribute(t),Td(s.parent,s.index)}Td(n.end.parent,n.end.index)}function tO(n){const t=[];function e(i){if(typeof i=="string")t.push(new Ft(i));else if(i instanceof ws)t.push(new Ft(i.data,i.getAttributes()));else if(i instanceof Ra)t.push(i);else if(Fi(i))for(const s of i)e(s)}e(n);for(let i=1;i<t.length;i++){const s=t[i],r=t[i-1];s instanceof Ft&&r instanceof Ft&&nO(s,r)&&(t.splice(i-1,2,new Ft(r.data+s.data,r.getAttributes())),i--)}return t}function Td(n,t){const e=n.getChild(t-1),i=n.getChild(t);if(e&&i&&e.is("$text")&&i.is("$text")&&nO(e,i)){const s=new Ft(e.data+i.data,e.getAttributes());n._removeChildren(t-1,2),n._insertChild(t-1,s)}}function Ed(n){const t=n.textNode,e=n.parent;if(t){const i=n.offset-t.startOffset,s=t.index;e._removeChildren(s,1);const r=new Ft(t.data.substr(0,i),t.getAttributes()),o=new Ft(t.data.substr(i),t.getAttributes());e._insertChild(s,[r,o])}}function nO(n,t){const e=n.getAttributes(),i=t.getAttributes();for(const s of e){if(s[1]!==t.getAttribute(s[0]))return!1;i.next()}return i.next().done}class pt extends zi{constructor(e,i,s,r){super(r);y(this,"sourcePosition");y(this,"howMany");y(this,"targetPosition");this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=i,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[ie._createFromPositionAndShift(this.sourcePosition,this.howMany),ie._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new pt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new pt(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent,s=this.sourcePosition.offset,r=this.targetPosition.offset;if(s+this.howMany>e.maxOffset)throw new j("move-operation-nodes-do-not-exist",this);if(e===i&&s<r&&r<s+this.howMany)throw new j("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&ti(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const o=this.sourcePosition.path.length-1;if(this.targetPosition.path[o]>=s&&this.targetPosition.path[o]<s+this.howMany)throw new j("move-operation-node-into-itself",this)}}_execute(){xd(ie._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,i){const s=be.fromJSON(e.sourcePosition,i),r=be.fromJSON(e.targetPosition,i);return new this(s,e.howMany,r,e.baseVersion)}}class Bn extends zi{constructor(e,i,s){super(s);y(this,"position");y(this,"nodes");y(this,"shouldReceiveAttributes");this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Qu(tO(i)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Qu([...this.nodes].map(s=>s._clone(!0))),i=new Bn(this.position,e,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}getReversed(){const e=this.position.root.document.graveyard,i=new be(e,[0]);return new pt(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new j("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Qu([...e].map(i=>i._clone(!0))),q1(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,i){const s=[];for(const o of e.nodes)o.name?s.push(nn.fromJSON(o)):s.push(Ft.fromJSON(o));const r=new Bn(be.fromJSON(e.position,i),s,e.baseVersion);return r.shouldReceiveAttributes=e.shouldReceiveAttributes,r}}class At extends zi{constructor(e,i,s,r,o){super(o);y(this,"splitPosition");y(this,"howMany");y(this,"insertionPosition");y(this,"graveyardPosition");this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=i,this.insertionPosition=s,this.graveyardPosition=r?r.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new be(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ie(this.splitPosition,e)}get affectedSelectable(){const e=[ie._createFromPositionAndShift(this.splitPosition,0),ie._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(ie._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new At(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,i=new be(e,[0]);return new rn(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,i=this.splitPosition.offset;if(!e||e.maxOffset<i)throw new j("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new j("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new j("split-operation-graveyard-position-invalid",this)}else throw new j("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)xd(ie._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const s=e._clone();q1(this.insertionPosition,s)}const i=new ie(be._createAt(e,this.splitPosition.offset),be._createAt(e,e.maxOffset));xd(i,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const i=e.path.slice(0,-1);return i[i.length-1]++,new be(e.root,i,"toPrevious")}static fromJSON(e,i){const s=be.fromJSON(e.splitPosition,i),r=be.fromJSON(e.insertionPosition,i),o=e.graveyardPosition?be.fromJSON(e.graveyardPosition,i):null;return new this(s,e.howMany,r,o,e.baseVersion)}}class rn extends zi{constructor(e,i,s,r,o){super(o);y(this,"sourcePosition");y(this,"howMany");y(this,"targetPosition");y(this,"graveyardPosition");this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=i,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=r.clone()}get type(){return"merge"}get deletionPosition(){return new be(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ie(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[ie._createOn(e),ie._createFromPositionAndShift(this.targetPosition,0),ie._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new rn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),s=new be(this.sourcePosition.root,i)._getTransformedByMergeOperation(this);return new At(e,this.howMany,s,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent;if(e.parent)if(i.parent){if(this.howMany!=e.maxOffset)throw new j("merge-operation-how-many-invalid",this)}else throw new j("merge-operation-target-position-invalid",this);else throw new j("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,i=ie._createIn(e);xd(i,this.targetPosition),xd(ie._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,i){const s=be.fromJSON(e.sourcePosition,i),r=be.fromJSON(e.targetPosition,i),o=be.fromJSON(e.graveyardPosition,i);return new this(s,e.howMany,r,o,e.baseVersion)}}class ni extends zi{constructor(e,i,s,r,o,l){super(l);y(this,"name");y(this,"oldRange");y(this,"newRange");y(this,"affectsData");y(this,"_markers");this.name=e,this.oldRange=i?i.clone():null,this.newRange=s?s.clone():null,this.affectsData=o,this._markers=r}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new ni(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new ni(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,i){return new ni(e.name,e.oldRange?ie.fromJSON(e.oldRange,i):null,e.newRange?ie.fromJSON(e.newRange,i):null,i.model.markers,e.affectsData,e.baseVersion)}}class un extends zi{constructor(e,i,s,r,o){super(o);y(this,"range");y(this,"key");y(this,"oldValue");y(this,"newValue");this.range=e.clone(),this.key=i,this.oldValue=s===void 0?null:s,this.newValue=r===void 0?null:r}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new un(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new un(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new j("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!lx(e.getAttribute(this.key),this.oldValue))throw new j("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new j("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){lx(this.oldValue,this.newValue)||Qq(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,i){return new un(ie.fromJSON(e.range,i),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Sn extends zi{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Sn(this.baseVersion)}getReversed(){return new Sn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class bi extends zi{constructor(e,i,s,r){super(r);y(this,"position");y(this,"oldName");y(this,"newName");this.position=e,this.position.stickiness="toNext",this.oldName=i,this.newName=s}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new bi(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new bi(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof nn){if(e.name!==this.oldName)throw new j("rename-operation-wrong-name",this)}else throw new j("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,i){return new bi(be.fromJSON(e.position,i),e.oldName,e.newName,e.baseVersion)}}class _r extends zi{constructor(e,i,s,r,o){super(o);y(this,"root");y(this,"key");y(this,"oldValue");y(this,"newValue");this.root=e,this.key=i,this.oldValue=s===void 0?null:s,this.newValue=r===void 0?null:r}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new _r(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new _r(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new j("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new j("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new j("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,i){if(!i.getRoot(e.root))throw new j("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new _r(i.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Hs extends zi{constructor(e,i,s,r,o){super(o);y(this,"rootName");y(this,"elementName");y(this,"isAdd");y(this,"_document");if(this.rootName=e,this.elementName=i,this.isAdd=s,this._document=r,!this._document.getRoot(this.rootName)){const l=this._document.createRoot(this.elementName,this.rootName);l._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Hs(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Hs(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,i){return new Hs(e.rootName,e.elementName,e.isAdd,i,e.baseVersion)}}const us={};us[un.className]=un;us[Bn.className]=Bn;us[ni.className]=ni;us[pt.className]=pt;us[Sn.className]=Sn;us[zi.className]=zi;us[bi.className]=bi;us[_r.className]=_r;us[Hs.className]=Hs;us[At.className]=At;us[rn.className]=rn;class eG{static fromJSON(t,e){return us[t.__className].fromJSON(t,e)}}const dv=new Map;function ut(n,t,e){let i=dv.get(n);i||(i=new Map,dv.set(n,i)),i.set(t,e)}function tG(n,t){const e=dv.get(n);return e&&e.has(t)?e.get(t):nG}function nG(n){return[n]}function sT(n,t,e={}){const i=tG(n.constructor,t.constructor);try{return n=n.clone(),i(n,t,e)}catch(s){throw s}}function iG(n,t,e){n=n.slice(),t=t.slice();const i=new sG(e.document,e.useRelations,e.forceWeakRemove);i.setOriginalOperations(n),i.setOriginalOperations(t);const s=i.originalOperations;if(n.length==0||t.length==0)return{operationsA:n,operationsB:t,originalOperations:s};const r=new WeakMap;for(const u of n)r.set(u,0);const o={nextBaseVersionA:n[n.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:n.length,originalOperationsBCount:t.length};let l=0;for(;l<n.length;){const u=n[l],f=r.get(u);if(f==t.length){l++;continue}const h=t[f],m=sT(u,h,i.getContext(u,h,!0)),b=sT(h,u,i.getContext(h,u,!1));i.updateRelation(u,h),i.setOriginalOperations(m,u),i.setOriginalOperations(b,h);for(const w of m)r.set(w,f+b.length);n.splice(l,1,...m),t.splice(f,1,...b)}return oT(n),oT(t),rT(n,o.nextBaseVersionB),rT(t,o.nextBaseVersionA),{operationsA:n,operationsB:t,originalOperations:s}}class sG{constructor(t,e,i=!1){y(this,"originalOperations");y(this,"_history");y(this,"_useRelations");y(this,"_forceWeakRemove");y(this,"_relations");this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(t,e=null){const i=e?this.originalOperations.get(e):null;for(const s of t)this.originalOperations.set(s,i||s)}updateRelation(t,e){if(t instanceof pt)e instanceof rn?t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter"):e instanceof pt&&(t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter"));else if(t instanceof At){if(e instanceof rn)t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");else if(e instanceof pt)if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))this._setRelation(t,e,"splitBefore");else{const i=ie._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.splitPosition)){const s=i.end.offset-t.splitPosition.offset,r=t.splitPosition.offset-i.start.offset;this._setRelation(t,e,{howMany:s,offset:r})}}}else if(t instanceof rn)e instanceof rn?(t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement")):e instanceof At?t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource"):e instanceof pt&&e.howMany>0&&(t.sourcePosition.isEqual(e.sourcePosition.getShiftedBy(e.howMany))&&this._setRelation(t,e,"mergeSourceAffected"),t.targetPosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeTargetWasBefore"));else if(t instanceof ni){const i=t.newRange;if(!i)return;if(e instanceof rn){const s=i.start.isEqual(e.targetPosition),r=i.start.isEqual(e.deletionPosition),o=i.end.isEqual(e.deletionPosition),l=i.end.isEqual(e.sourcePosition);(s||r||o||l)&&this._setRelation(t,e,{wasInLeftElement:s,wasStartBeforeMergedElement:r,wasEndBeforeMergedElement:o,wasInRightElement:l})}}}getContext(t,e,i){return{aIsStrong:i,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const i=this.originalOperations.get(e),s=this._history.getUndoneOperation(i);if(!s)return null;const r=this.originalOperations.get(t),o=this._relations.get(r);return o&&o.get(s)||null}_setRelation(t,e,i){const s=this.originalOperations.get(t),r=this.originalOperations.get(e);let o=this._relations.get(s);o||(o=new Map,this._relations.set(s,o)),o.set(r,i)}}function rT(n,t){for(const e of n)e.baseVersion=t++}function oT(n){const t=new Map;for(let e=0;e<n.length;e++){const i=n[e];i instanceof ni&&(i.baseVersion!==-1?t.set(i.name,{op:i,ranges:i.newRange?[i.newRange]:[]}):(i.newRange&&t.get(i.name).ranges.push(i.newRange),n.splice(e,1),e--))}for(const{op:e,ranges:i}of t.values())i.length?e.newRange=ie._createFromRanges(i):e.newRange=null}ut(un,un,(n,t,e)=>{if(n.key===t.key&&n.range.start.hasSameParentAs(t.range.start)){const i=n.range.getDifference(t.range).map(r=>new un(r,n.key,n.oldValue,n.newValue,0)),s=n.range.getIntersection(t.range);return s&&e.aIsStrong&&i.push(new un(s,t.key,t.newValue,n.newValue,0)),i.length==0?[new Sn(0)]:i}else return[n]});ut(un,Bn,(n,t)=>{if(n.range.start.hasSameParentAs(t.position)&&n.range.containsPosition(t.position)){const i=n.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map(s=>new un(s,n.key,n.oldValue,n.newValue,n.baseVersion));if(t.shouldReceiveAttributes){const s=iO(t,n.key,n.oldValue);s&&i.unshift(s)}return i}return n.range=n.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[n]});function iO(n,t,e){const s=n.nodes.getNode(0).getAttribute(t);if(s==e)return null;const r=new ie(n.position,n.position.getShiftedBy(n.howMany));return new un(r,t,s,e,0)}ut(un,rn,(n,t)=>{const e=[];n.range.start.hasSameParentAs(t.deletionPosition)&&(n.range.containsPosition(t.deletionPosition)||n.range.start.isEqual(t.deletionPosition))&&e.push(ie._createFromPositionAndShift(t.graveyardPosition,1));const i=n.range._getTransformedByMergeOperation(t);return i.isCollapsed||e.push(i),e.map(s=>new un(s,n.key,n.oldValue,n.newValue,n.baseVersion))});ut(un,pt,(n,t)=>rG(n.range,t).map(i=>new un(i,n.key,n.oldValue,n.newValue,n.baseVersion)));function rG(n,t){const e=ie._createFromPositionAndShift(t.sourcePosition,t.howMany);let i=null,s=[];e.containsRange(n,!0)?i=n:n.start.hasSameParentAs(e.start)?(s=n.getDifference(e),i=n.getIntersection(e)):s=[n];const r=[];for(let o of s){o=o._getTransformedByDeletion(t.sourcePosition,t.howMany);const l=t.getMovedRangeStart(),u=o.start.hasSameParentAs(l),f=o._getTransformedByInsertion(l,t.howMany,u);r.push(...f)}return i&&r.push(i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),r}ut(un,At,(n,t)=>{if(n.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||n.range.end.offset++,[n];if(n.range.start.hasSameParentAs(t.splitPosition)&&n.range.containsPosition(t.splitPosition)){const e=n.clone();return e.range=new ie(t.moveTargetPosition.clone(),n.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),n.range.end=t.splitPosition.clone(),n.range.end.stickiness="toPrevious",[n,e]}return n.range=n.range._getTransformedBySplitOperation(t),[n]});ut(Bn,un,(n,t)=>{const e=[n];if(n.shouldReceiveAttributes&&n.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(n.position)){const i=iO(n,t.key,t.newValue);i&&e.push(i)}return e});ut(Bn,Bn,(n,t,e)=>n.position.isEqual(t.position)&&e.aIsStrong?[n]:(n.position=n.position._getTransformedByInsertOperation(t),[n]));ut(Bn,pt,(n,t)=>(n.position=n.position._getTransformedByMoveOperation(t),[n]));ut(Bn,At,(n,t)=>(n.position=n.position._getTransformedBySplitOperation(t),[n]));ut(Bn,rn,(n,t)=>(n.position=n.position._getTransformedByMergeOperation(t),[n]));ut(ni,Bn,(n,t)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertOperation(t)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertOperation(t)[0]),[n]));ut(ni,ni,(n,t,e)=>{if(n.name==t.name)if(e.aIsStrong)n.oldRange=t.newRange?t.newRange.clone():null;else return[new Sn(0)];return[n]});ut(ni,rn,(n,t)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByMergeOperation(t)),n.newRange&&(n.newRange=n.newRange._getTransformedByMergeOperation(t)),[n]));ut(ni,pt,(n,t)=>{const e=[n];if(n.oldRange&&(n.oldRange=ie._createFromRanges(n.oldRange._getTransformedByMoveOperation(t))),n.newRange){const i=n.newRange._getTransformedByMoveOperation(t);n.newRange=i[0];for(let s=1;s<i.length;s++){const r=n.clone();r.oldRange=null,r.newRange=i[s],r.baseVersion=-1,e.push(r)}}return e});ut(ni,At,(n,t,e)=>{if(n.oldRange&&(n.oldRange=n.oldRange._getTransformedBySplitOperation(t)),n.newRange){if(e.abRelation){const i=n.newRange._getTransformedBySplitOperation(t);return n.newRange.start.isEqual(t.splitPosition)?e.abRelation.wasStartBeforeMergedElement?n.newRange.start=be._createAt(t.insertionPosition):e.abRelation.wasInLeftElement?n.newRange.start=be._createAt(n.newRange.start):n.newRange.start=be._createAt(t.moveTargetPosition):n.newRange.start=i.start,n.newRange.end.isEqual(t.splitPosition)?n.newRange.end.isEqual(t.splitPosition)&&e.abRelation.wasEndBeforeMergedElement?n.newRange.end=be._createAt(t.insertionPosition):e.abRelation.wasInRightElement?n.newRange.end=be._createAt(t.moveTargetPosition):n.newRange.end=be._createAt(n.newRange.end):n.newRange.end=i.end,[n]}n.newRange=n.newRange._getTransformedBySplitOperation(t)}return[n]});ut(rn,Bn,(n,t)=>(n.sourcePosition.hasSameParentAs(t.position)&&(n.howMany+=t.howMany),n.sourcePosition=n.sourcePosition._getTransformedByInsertOperation(t),n.targetPosition=n.targetPosition._getTransformedByInsertOperation(t),[n]));ut(rn,rn,(n,t,e)=>{if(n.sourcePosition.isEqual(t.sourcePosition)&&n.targetPosition.isEqual(t.targetPosition))if(e.bWasUndone){const i=t.graveyardPosition.path.slice();return i.push(0),n.sourcePosition=new be(t.graveyardPosition.root,i),n.howMany=0,[n]}else return[new Sn(0)];if(n.sourcePosition.isEqual(t.sourcePosition)&&!n.targetPosition.isEqual(t.targetPosition)&&!e.bWasUndone&&e.abRelation!="splitAtSource"){const i=n.targetPosition.root.rootName=="$graveyard",s=t.targetPosition.root.rootName=="$graveyard";if(s&&!i||!(i&&!s)&&e.aIsStrong){const u=t.targetPosition._getTransformedByMergeOperation(t),f=n.targetPosition._getTransformedByMergeOperation(t);return[new pt(u,n.howMany,f,0)]}else return[new Sn(0)]}return n.sourcePosition.hasSameParentAs(t.targetPosition)&&(n.howMany+=t.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMergeOperation(t),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(t),(!n.graveyardPosition.isEqual(t.graveyardPosition)||!e.aIsStrong)&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(t)),[n]});ut(rn,pt,(n,t,e)=>{const i=ie._createFromPositionAndShift(t.sourcePosition,t.howMany);return t.type=="remove"&&!e.bWasUndone&&n.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(n.sourcePosition)?[new Sn(0)]:(t.sourcePosition.getShiftedBy(t.howMany).isEqual(n.sourcePosition)?n.sourcePosition.stickiness="toNone":t.targetPosition.isEqual(n.sourcePosition)&&e.abRelation=="mergeSourceAffected"?n.sourcePosition.stickiness="toNext":t.sourcePosition.isEqual(n.targetPosition)?(n.targetPosition.stickiness="toNone",n.howMany-=t.howMany):t.targetPosition.isEqual(n.targetPosition)&&e.abRelation=="mergeTargetWasBefore"?(n.targetPosition.stickiness="toPrevious",n.howMany+=t.howMany):(n.sourcePosition.hasSameParentAs(t.targetPosition)&&(n.howMany+=t.howMany),n.sourcePosition.hasSameParentAs(t.sourcePosition)&&(n.howMany-=t.howMany)),n.sourcePosition=n.sourcePosition._getTransformedByMoveOperation(t),n.targetPosition=n.targetPosition._getTransformedByMoveOperation(t),n.sourcePosition.stickiness="toPrevious",n.targetPosition.stickiness="toNext",n.graveyardPosition.isEqual(t.targetPosition)||(n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(t)),[n])});ut(rn,At,(n,t,e)=>{if(t.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),n.deletionPosition.isEqual(t.graveyardPosition)&&(n.howMany=t.howMany)),n.targetPosition.isEqual(t.splitPosition)&&(t.graveyardPosition&&n.deletionPosition.isEqual(t.graveyardPosition)||e.abRelation=="mergeTargetNotMoved"))return n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(t),[n];if(n.sourcePosition.isEqual(t.splitPosition)){if(e.abRelation=="mergeSourceNotMoved")return n.howMany=0,n.targetPosition=n.targetPosition._getTransformedBySplitOperation(t),[n];if(e.abRelation=="mergeSameElement"||n.sourcePosition.offset>0)return n.sourcePosition=t.moveTargetPosition.clone(),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(t),[n]}return n.sourcePosition.hasSameParentAs(t.splitPosition)&&(n.howMany=t.splitPosition.offset),n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(t),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(t),[n]});ut(pt,Bn,(n,t)=>{const i=ie._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByInsertOperation(t,!1)[0];return n.sourcePosition=i.start,n.howMany=i.end.offset-i.start.offset,n.targetPosition.isEqual(t.position)||(n.targetPosition=n.targetPosition._getTransformedByInsertOperation(t)),[n]});ut(pt,pt,(n,t,e)=>{const i=ie._createFromPositionAndShift(n.sourcePosition,n.howMany),s=ie._createFromPositionAndShift(t.sourcePosition,t.howMany);let r=e.aIsStrong,o=!e.aIsStrong;e.abRelation=="insertBefore"||e.baRelation=="insertAfter"?o=!0:(e.abRelation=="insertAfter"||e.baRelation=="insertBefore")&&(o=!1);let l;if(n.targetPosition.isEqual(t.targetPosition)&&o?l=n.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):l=n.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),aT(n,t)&&aT(t,n))return[t.getReversed()];if(i.containsPosition(t.targetPosition)&&i.containsRange(s,!0))return i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Dl([i],l);if(s.containsPosition(n.targetPosition)&&s.containsRange(i,!0))return i.start=i.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),i.end=i.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),Dl([i],l);const h=ti(n.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if(h=="prefix"||h=="extension")return i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Dl([i],l);n.type=="remove"&&t.type!="remove"&&!e.aWasUndone&&!e.forceWeakRemove?r=!0:n.type!="remove"&&t.type=="remove"&&!e.bWasUndone&&!e.forceWeakRemove&&(r=!1);const m=[],b=i.getDifference(s);for(const _ of b){_.start=_.start._getTransformedByDeletion(t.sourcePosition,t.howMany),_.end=_.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const k=ti(_.start.getParentPath(),t.getMovedRangeStart().getParentPath())=="same",x=_._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,k);m.push(...x)}const w=i.getIntersection(s);return w!==null&&r&&(w.start=w.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),w.end=w.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),m.length===0?m.push(w):m.length==1?s.start.isBefore(i.start)||s.start.isEqual(i.start)?m.unshift(w):m.push(w):m.splice(1,0,w)),m.length===0?[new Sn(n.baseVersion)]:Dl(m,l)});ut(pt,At,(n,t,e)=>{let i=n.targetPosition.clone();(!n.targetPosition.isEqual(t.insertionPosition)||!t.graveyardPosition||e.abRelation=="moveTargetAfter")&&(i=n.targetPosition._getTransformedBySplitOperation(t));const s=ie._createFromPositionAndShift(n.sourcePosition,n.howMany);if(s.end.isEqual(t.insertionPosition))return t.graveyardPosition||n.howMany++,n.targetPosition=i,[n];if(s.start.hasSameParentAs(t.splitPosition)&&s.containsPosition(t.splitPosition)){let l=new ie(t.splitPosition,s.end);l=l._getTransformedBySplitOperation(t);const u=[new ie(s.start,t.splitPosition),l];return Dl(u,i)}n.targetPosition.isEqual(t.splitPosition)&&e.abRelation=="insertAtSource"&&(i=t.moveTargetPosition),n.targetPosition.isEqual(t.insertionPosition)&&e.abRelation=="insertBetween"&&(i=n.targetPosition);const o=[s._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const l=s.start.isEqual(t.graveyardPosition)||s.containsPosition(t.graveyardPosition);n.howMany>1&&l&&!e.aWasUndone&&o.push(ie._createFromPositionAndShift(t.insertionPosition,1))}return Dl(o,i)});ut(pt,rn,(n,t,e)=>{const i=ie._createFromPositionAndShift(n.sourcePosition,n.howMany);if(t.deletionPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(t.sourcePosition)){if(n.type=="remove"&&!e.forceWeakRemove){if(!e.aWasUndone){const o=[];let l=t.graveyardPosition.clone(),u=t.targetPosition._getTransformedByMergeOperation(t);const f=n.targetPosition.getTransformedByOperation(t);n.howMany>1&&(o.push(new pt(n.sourcePosition,n.howMany-1,f,0)),l=l._getTransformedByMove(n.sourcePosition,f,n.howMany-1),u=u._getTransformedByMove(n.sourcePosition,f,n.howMany-1));const h=t.deletionPosition._getCombined(n.sourcePosition,f),m=new pt(l,1,h,0),b=m.getMovedRangeStart().path.slice();b.push(0);const w=new be(m.targetPosition.root,b);u=u._getTransformedByMove(l,h,1);const _=new pt(u,t.howMany,w,0);return o.push(m),o.push(_),o}}else if(n.howMany==1)return e.bWasUndone?(n.sourcePosition=t.graveyardPosition.clone(),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(t),[n]):[new Sn(0)]}const r=ie._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByMergeOperation(t);return n.sourcePosition=r.start,n.howMany=r.end.offset-r.start.offset,n.targetPosition=n.targetPosition._getTransformedByMergeOperation(t),[n]});ut(bi,Bn,(n,t)=>(n.position=n.position._getTransformedByInsertOperation(t),[n]));ut(bi,rn,(n,t)=>n.position.isEqual(t.deletionPosition)?(n.position=t.graveyardPosition.clone(),n.position.stickiness="toNext",[n]):(n.position=n.position._getTransformedByMergeOperation(t),[n]));ut(bi,pt,(n,t)=>(n.position=n.position._getTransformedByMoveOperation(t),[n]));ut(bi,bi,(n,t,e)=>{if(n.position.isEqual(t.position))if(e.aIsStrong)n.oldName=t.newName;else return[new Sn(0)];return[n]});ut(bi,At,(n,t)=>{const e=n.position.path,i=t.splitPosition.getParentPath();if(ti(e,i)=="same"&&!t.graveyardPosition){const s=new bi(n.position.getShiftedBy(1),n.oldName,n.newName,0);return[n,s]}return n.position=n.position._getTransformedBySplitOperation(t),[n]});ut(_r,_r,(n,t,e)=>{if(n.root===t.root&&n.key===t.key){if(!e.aIsStrong||n.newValue===t.newValue)return[new Sn(0)];n.oldValue=t.newValue}return[n]});ut(Hs,Hs,(n,t)=>n.rootName===t.rootName&&n.isAdd===t.isAdd?[new Sn(0)]:[n]);ut(At,Bn,(n,t)=>(n.splitPosition.hasSameParentAs(t.position)&&n.splitPosition.offset<t.position.offset&&(n.howMany+=t.howMany),n.splitPosition=n.splitPosition._getTransformedByInsertOperation(t),n.insertionPosition=n.insertionPosition._getTransformedByInsertOperation(t),[n]));ut(At,rn,(n,t,e)=>{if(!n.graveyardPosition&&!e.bWasUndone&&n.splitPosition.hasSameParentAs(t.sourcePosition)){const i=t.graveyardPosition.path.slice();i.push(0);const s=new be(t.graveyardPosition.root,i),r=At.getInsertionPosition(new be(t.graveyardPosition.root,i)),o=new At(s,0,r,null,0);return n.splitPosition=n.splitPosition._getTransformedByMergeOperation(t),n.insertionPosition=At.getInsertionPosition(n.splitPosition),n.graveyardPosition=o.insertionPosition.clone(),n.graveyardPosition.stickiness="toNext",[o,n]}return n.splitPosition.hasSameParentAs(t.deletionPosition)&&!n.splitPosition.isAfter(t.deletionPosition)&&n.howMany--,n.splitPosition.hasSameParentAs(t.targetPosition)&&(n.howMany+=t.howMany),n.splitPosition=n.splitPosition._getTransformedByMergeOperation(t),n.insertionPosition=At.getInsertionPosition(n.splitPosition),n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(t)),[n]});ut(At,pt,(n,t,e)=>{const i=ie._createFromPositionAndShift(t.sourcePosition,t.howMany);if(n.graveyardPosition){const r=i.start.isEqual(n.graveyardPosition)||i.containsPosition(n.graveyardPosition);if(!e.bWasUndone&&r){const o=n.splitPosition._getTransformedByMoveOperation(t),l=n.graveyardPosition._getTransformedByMoveOperation(t),u=l.path.slice();u.push(0);const f=new be(l.root,u);return[new pt(o,n.howMany,f,0)]}n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(t)}const s=n.splitPosition.isEqual(t.targetPosition);if(s&&(e.baRelation=="insertAtSource"||e.abRelation=="splitBefore"))return n.howMany+=t.howMany,n.splitPosition=n.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),n.insertionPosition=At.getInsertionPosition(n.splitPosition),[n];if(s&&e.abRelation&&e.abRelation.howMany){const{howMany:r,offset:o}=e.abRelation;return n.howMany+=r,n.splitPosition=n.splitPosition.getShiftedBy(o),[n]}if(n.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(n.splitPosition)){const r=t.howMany-(n.splitPosition.offset-t.sourcePosition.offset);return n.howMany-=r,n.splitPosition.hasSameParentAs(t.targetPosition)&&n.splitPosition.offset<t.targetPosition.offset&&(n.howMany+=t.howMany),n.splitPosition=t.sourcePosition.clone(),n.insertionPosition=At.getInsertionPosition(n.splitPosition),[n]}return t.sourcePosition.isEqual(t.targetPosition)||(n.splitPosition.hasSameParentAs(t.sourcePosition)&&n.splitPosition.offset<=t.sourcePosition.offset&&(n.howMany-=t.howMany),n.splitPosition.hasSameParentAs(t.targetPosition)&&n.splitPosition.offset<t.targetPosition.offset&&(n.howMany+=t.howMany)),n.splitPosition.stickiness="toNone",n.splitPosition=n.splitPosition._getTransformedByMoveOperation(t),n.splitPosition.stickiness="toNext",n.graveyardPosition?n.insertionPosition=n.insertionPosition._getTransformedByMoveOperation(t):n.insertionPosition=At.getInsertionPosition(n.splitPosition),[n]});ut(At,At,(n,t,e)=>{if(n.splitPosition.isEqual(t.splitPosition)){if(!n.graveyardPosition&&!t.graveyardPosition)return[new Sn(0)];if(n.graveyardPosition&&t.graveyardPosition&&n.graveyardPosition.isEqual(t.graveyardPosition))return[new Sn(0)];if(e.abRelation=="splitBefore")return n.howMany=0,n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(t),[n]}if(n.graveyardPosition&&t.graveyardPosition&&n.graveyardPosition.isEqual(t.graveyardPosition)){const i=n.splitPosition.root.rootName=="$graveyard",s=t.splitPosition.root.rootName=="$graveyard";if(s&&!i||!(i&&!s)&&e.aIsStrong){const u=[];return t.howMany&&u.push(new pt(t.moveTargetPosition,t.howMany,t.splitPosition,0)),n.howMany&&u.push(new pt(n.splitPosition,n.howMany,n.moveTargetPosition,0)),u}else return[new Sn(0)]}if(n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(t)),n.splitPosition.isEqual(t.insertionPosition)&&e.abRelation=="splitBefore")return n.howMany++,[n];if(t.splitPosition.isEqual(n.insertionPosition)&&e.baRelation=="splitBefore"){const i=t.insertionPosition.path.slice();i.push(0);const s=new be(t.insertionPosition.root,i),r=new pt(n.insertionPosition,1,s,0);return[n,r]}return n.splitPosition.hasSameParentAs(t.splitPosition)&&n.splitPosition.offset<t.splitPosition.offset&&(n.howMany-=t.howMany),n.splitPosition=n.splitPosition._getTransformedBySplitOperation(t),n.insertionPosition=At.getInsertionPosition(n.splitPosition),[n]});function aT(n,t){return n.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)===null}function Dl(n,t){const e=[];for(let i=0;i<n.length;i++){const s=n[i],r=new pt(s.start,s.end.offset-s.start.offset,t,0);e.push(r);for(let o=i+1;o<n.length;o++)n[o]=n[o]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];t=t._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return e}class Mn extends Ct(be){constructor(t,e,i="toNone"){if(super(t,e,i),!this.root.is("rootElement"))throw new j("model-liveposition-root-not-rootelement",t);oG.call(this)}detach(){this.stopListening()}toPosition(){return new be(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}Mn.prototype.is=function(n){return n==="livePosition"||n==="model:livePosition"||n=="position"||n==="model:position"};function oG(){this.listenTo(this.root.document.model,"applyOperation",(n,t)=>{const e=t[0];e.isDocumentOperation&&aG.call(this,e)},{priority:"low"})}function aG(n){const t=this.getTransformedByOperation(n);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",e)}}class xl{constructor(t={}){y(this,"operations");y(this,"isUndoable");y(this,"isLocal");y(this,"isUndo");y(this,"isTyping");typeof t=="string"&&(t=t==="transparent"?{isUndoable:!1}:{},zt("batch-constructor-deprecated-string-type"));const{isUndoable:e=!0,isLocal:i=!0,isUndo:s=!1,isTyping:r=!1}=t;this.operations=[],this.isUndoable=e,this.isLocal=i,this.isUndo=s,this.isTyping=r}get type(){return zt("batch-type-deprecated"),"default"}get baseVersion(){for(const t of this.operations)if(t.baseVersion!==null)return t.baseVersion;return null}addOperation(t){return t.isDocumentOperation&&(t.batch=this,this.operations.push(t)),t}}const td=class td{constructor(t){y(this,"_markerCollection");y(this,"_changesInElement",new Map);y(this,"_elementsSnapshots",new Map);y(this,"_elementChildrenSnapshots",new Map);y(this,"_elementState",new Map);y(this,"_changedMarkers",new Map);y(this,"_changedRoots",new Map);y(this,"_changeCount",0);y(this,"_cachedChanges",null);y(this,"_cachedChangesWithGraveyard",null);y(this,"_refreshedItems",new Set);this._markerCollection=t}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(t){const e=t;switch(e.type){case"insert":{if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const i of e.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break}case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;const i=this._isInInsertedElement(e.sourcePosition.parent),s=this._isInInsertedElement(e.targetPosition.parent);i||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),s||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);const r=ie._createFromPositionAndShift(e.sourcePosition,e.howMany);for(const o of r.getItems({shallow:!0}))this._setElementState(o,"move");break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const i=ie._createFromPositionAndShift(e.position,1);for(const s of this._markerCollection.getMarkersIntersectingRange(i)){const r=s.getData();this.bufferMarkerChange(s.name,r,r)}this._setElementState(e.position.nodeAfter,"rename");break}case"split":{const i=e.splitPosition.parent;if(!this._isInInsertedElement(i)){this._markRemove(i,e.splitPosition.offset,e.howMany);const s=ie._createFromPositionAndShift(e.splitPosition,e.howMany);for(const r of s.getItems({shallow:!0}))this._setElementState(r,"move")}this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&(this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1),this._setElementState(e.graveyardPosition.nodeAfter,"move"));break}case"merge":{const i=e.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);const s=e.graveyardPosition.parent;this._markInsert(s,e.graveyardPosition.offset,1),this._setElementState(i,"move");const r=e.targetPosition.parent;if(!this._isInInsertedElement(r)){this._markInsert(r,e.targetPosition.offset,i.maxOffset);const o=ie._createFromPositionAndShift(e.sourcePosition,e.howMany);for(const l of o.getItems({shallow:!0}))this._setElementState(l,"move")}break}case"detachRoot":case"addRoot":{const i=e.affectedSelectable;if(!i._isLoaded||i.isAttached()==e.isAdd)return;this._bufferRootStateChange(e.rootName,e.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!e.root._isLoaded)return;const i=e.root.rootName;this._bufferRootAttributeChange(i,e.key,e.oldValue,e.newValue);break}}this._cachedChanges=null}bufferMarkerChange(t,e,i){e.range&&e.range.root.is("rootElement")&&!e.range.root._isLoaded&&(e.range=null),i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null);let s=this._changedMarkers.get(t);s?s.newMarkerData=i:(s={newMarkerData:i,oldMarkerData:e},this._changedMarkers.set(t,s)),s.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(t)}getMarkersToRemove(){const t=[];for(const[e,i]of this._changedMarkers)i.oldMarkerData.range!=null&&t.push({name:e,range:i.oldMarkerData.range});return t}getMarkersToAdd(){const t=[];for(const[e,i]of this._changedMarkers)i.newMarkerData.range!=null&&t.push({name:e,range:i.newMarkerData.range});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(([t,e])=>({name:t,data:{oldRange:e.oldMarkerData.range,newRange:e.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:t,oldMarkerData:e}of this._changedMarkers.values()){if(t.affectsData!==e.affectsData)return!0;if(t.affectsData){const i=t.range&&!e.range,s=!t.range&&e.range,r=t.range&&e.range&&!t.range.isEqual(e.range);if(i||s||r)return!0}}return!1}getChanges(t={}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let e=[];for(const i of this._changesInElement.keys()){const s=this._changesInElement.get(i).sort((h,m)=>h.offset===m.offset?h.type!=m.type?h.type=="remove"?-1:1:0:h.offset<m.offset?-1:1),r=this._elementChildrenSnapshots.get(i),o=cT(i.getChildren()),l=lG(r.length,s);let u=0,f=0;for(const h of l)if(h==="i"){const m=this._getDiffActionForNode(o[u].node,"insert"),b=this._elementsSnapshots.get(o[u].node),w=this._getInsertDiff(i,u,m,o[u],b);e.push(w),u++}else if(h==="r"){const m=this._getDiffActionForNode(r[f].node,"remove"),b=this._getRemoveDiff(i,u,m,r[f]);e.push(b),f++}else if(h==="a"){const m=r[f].attributes,b=o[u].attributes;let w;if(o[u].name=="$text")w=new ie(be._createAt(i,u),be._createAt(i,u+1));else{const k=i.offsetToIndex(u);w=new ie(be._createAt(i,u),be._createAt(i.getChild(k),0))}const _=this._getAttributesDiff(w,m,b);e.push(..._),u++,f++}else u++,f++}e.sort((i,s)=>i.position.root!=s.position.root?i.position.root.rootName<s.position.root.rootName?-1:1:i.position.isEqual(s.position)?i.changeCount-s.changeCount:i.position.isBefore(s.position)?-1:1);for(let i=1,s=0;i<e.length;i++){const r=e[s],o=e[i],l=r.type=="remove"&&o.type=="remove"&&r.name=="$text"&&o.name=="$text"&&r.position.isEqual(o.position),u=r.type=="insert"&&o.type=="insert"&&r.name=="$text"&&o.name=="$text"&&r.position.parent==o.position.parent&&r.position.offset+r.length==o.position.offset,f=r.type=="attribute"&&o.type=="attribute"&&r.position.parent==o.position.parent&&r.range.isFlat&&o.range.isFlat&&r.position.offset+r.length==o.position.offset&&r.attributeKey==o.attributeKey&&r.attributeOldValue==o.attributeOldValue&&r.attributeNewValue==o.attributeNewValue;l||u||f?(r.length++,f&&(r.range.end=r.range.end.getShiftedBy(1)),e[i]=null):s=i}e=e.filter(i=>i);for(const i of e)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e,this._cachedChanges=e.filter(cG),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(t=>{const e={...t};return e.state!==void 0&&delete e.attributes,e})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize),this._refreshedItems.add(t),this._setElementState(t,"refresh");const e=ie._createOn(t);for(const i of this._markerCollection.getMarkersIntersectingRange(e)){const s=i.getData();this.bufferMarkerChange(i.name,s,s)}this._cachedChanges=null}_bufferRootLoad(t){if(t.isAttached()){this._bufferRootStateChange(t.rootName,!0),this._markInsert(t,0,t.maxOffset);for(const e of t.getAttributeKeys())this._bufferRootAttributeChange(t.rootName,e,null,t.getAttribute(e));for(const e of this._markerCollection)if(e.getRange().root==t){const i=e.getData();this.bufferMarkerChange(e.name,{...i,range:null},i)}}}_bufferRootStateChange(t,e){if(!this._changedRoots.has(t)){this._changedRoots.set(t,{name:t,state:e?"attached":"detached"});return}const i=this._changedRoots.get(t);i.state!==void 0?(delete i.state,i.attributes===void 0&&this._changedRoots.delete(t)):i.state=e?"attached":"detached"}_bufferRootAttributeChange(t,e,i,s){const r=this._changedRoots.get(t)||{name:t},o=r.attributes||{};if(o[e]){const l=o[e];s===l.oldValue?delete o[e]:l.newValue=s}else o[e]={oldValue:i,newValue:s};Object.entries(o).length===0?(delete r.attributes,r.state===void 0&&this._changedRoots.delete(t)):(r.attributes=o,this._changedRoots.set(t,r))}_markInsert(t,e,i){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const s={type:"insert",offset:e,howMany:i,count:this._changeCount++};this._markChange(t,s)}_markRemove(t,e,i){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const s={type:"remove",offset:e,howMany:i,count:this._changeCount++};this._markChange(t,s),this._removeAllNestedChanges(t,e,i)}_markAttribute(t){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshots(t);const i=this._getChangesForElement(t);this._handleChange(e,i),i.push(e);for(let s=0;s<i.length;s++)i[s].howMany<1&&(i.splice(s,1),s--)}_setElementState(t,e){if(!t.is("element"))return;const i=td._statesPriority.indexOf(this._elementState.get(t));td._statesPriority.indexOf(e)>i&&this._elementState.set(t,e)}_getDiffActionForNode(t,e){if(!t.is("element")||!this._elementsSnapshots.has(t))return e;const i=this._elementState.get(t);return!i||i=="move"?e:i}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshots(t){if(this._elementChildrenSnapshots.has(t))return;const e=cT(t.getChildren());this._elementChildrenSnapshots.set(t,e);for(const i of e)this._elementsSnapshots.set(i.node,i)}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const i of e){const s=t.offset+t.howMany,r=i.offset+i.howMany;if(t.type=="insert"&&(i.type=="insert"&&(t.offset<=i.offset?i.offset+=t.howMany:t.offset<r&&(i.howMany+=t.nodesToHandle,t.nodesToHandle=0)),i.type=="remove"&&t.offset<i.offset&&(i.offset+=t.howMany),i.type=="attribute")){if(t.offset<=i.offset)i.offset+=t.howMany;else if(t.offset<r){const o=i.howMany;i.howMany=t.offset-i.offset,e.unshift({type:"attribute",offset:s,howMany:o-i.howMany,count:this._changeCount++})}}if(t.type=="remove"){if(i.type=="insert"){if(s<=i.offset)i.offset-=t.howMany;else if(s<=r)if(t.offset<i.offset){const o=s-i.offset;i.offset=t.offset,i.howMany-=o,t.nodesToHandle-=o}else i.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=i.offset)t.nodesToHandle-=i.howMany,i.howMany=0;else if(t.offset<r){const o=r-t.offset;i.howMany-=o,t.nodesToHandle-=o}}if(i.type=="remove"&&(s<=i.offset?i.offset-=t.howMany:t.offset<i.offset&&(t.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(s<=i.offset)i.offset-=t.howMany;else if(t.offset<i.offset){const o=s-i.offset;i.offset=t.offset,i.howMany-=o}else if(t.offset<r)if(s<=r){const o=i.howMany;i.howMany=t.offset-i.offset;const l=o-i.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:l,count:this._changeCount++})}else i.howMany-=r-t.offset}}if(t.type=="attribute"){if(i.type=="insert")if(t.offset<i.offset&&s>i.offset){if(s>r){const o={type:"attribute",offset:r,howMany:s-r,count:this._changeCount++};this._handleChange(o,e),e.push(o)}t.nodesToHandle=i.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=i.offset&&t.offset<r&&(s>r?(t.nodesToHandle=s-r,t.offset=r):t.nodesToHandle=0);if(i.type=="remove"&&t.offset<i.offset&&s>i.offset){const o={type:"attribute",offset:i.offset,howMany:s-i.offset,count:this._changeCount++};this._handleChange(o,e),e.push(o),t.nodesToHandle=i.offset-t.offset,t.howMany=t.nodesToHandle}i.type=="attribute"&&(t.offset>=i.offset&&s<=r?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=i.offset&&s>=r&&(i.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,i,s,r){const o={type:"insert",position:be._createAt(t,e),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++,action:i};return i!="insert"&&r&&(o.before={name:r.name,attributes:new Map(r.attributes)}),o}_getRemoveDiff(t,e,i,s){return{type:"remove",action:i,position:be._createAt(t,e),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,i){const s=[];i=new Map(i);for(const[r,o]of e){const l=i.has(r)?i.get(r):null;l!==o&&s.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:r,attributeOldValue:o,attributeNewValue:l,changeCount:this._changeCount++}),i.delete(r)}for(const[r,o]of i)s.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:r,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return s}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const i=this._changesInElement.get(e),s=t.startOffset;if(i){for(const r of i)if(r.type=="insert"&&s>=r.offset&&s<r.offset+r.howMany)return!0}return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,i){const s=new ie(be._createAt(t,e),be._createAt(t,e+i));for(const r of s.getItems({shallow:!0}))r.is("element")&&(this._changesInElement.delete(r),this._removeAllNestedChanges(r,0,r.maxOffset))}};y(td,"_statesPriority",[void 0,"refresh","rename","move"]);let fv=td;function lT(n){return{node:n,name:n.is("$text")?"$text":n.name,attributes:new Map(n.getAttributes())}}function cT(n){const t=[];for(const e of n)if(e.is("$text"))for(let i=0;i<e.data.length;++i)t.push(lT(e));else t.push(lT(e));return t}function lG(n,t){const e=[];let i=0,s=0;for(const r of t){if(r.offset>i){for(let o=0;o<r.offset-i;o++)e.push("e");s+=r.offset-i}if(r.type=="insert"){for(let o=0;o<r.howMany;o++)e.push("i");i=r.offset+r.howMany}else if(r.type=="remove"){for(let o=0;o<r.howMany;o++)e.push("r");i=r.offset,s+=r.howMany}else{if(r.howMany>1500)for(let o=0;o<r.howMany;o++)e.push("a");else e.push(..."a".repeat(r.howMany).split(""));i=r.offset+r.howMany,s+=r.howMany}}if(s<n)for(let r=0;r<n-s-i;r++)e.push("e");return e}function cG(n){const t="position"in n&&n.position.root.rootName=="$graveyard",e="range"in n&&n.range.root.rootName=="$graveyard";return!t&&!e}class uG{constructor(){y(this,"_operations",[]);y(this,"_undoPairs",new Map);y(this,"_undoneOperations",new Set);y(this,"_baseVersionToOperationIndex",new Map);y(this,"_version",0);y(this,"_gaps",new Map)}get version(){return this._version}set version(t){this._operations.length&&t>this._version+1&&this._gaps.set(this._version,t),this._version=t}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(t){if(t.baseVersion!==this.version)throw new j("model-document-history-addoperation-incorrect-version",this,{operation:t,historyVersion:this.version});this._operations.push(t),this._version++,this._baseVersionToOperationIndex.set(t.baseVersion,this._operations.length-1)}getOperations(t,e=this.version){if(!this._operations.length)return[];const i=this._operations[0];t===void 0&&(t=i.baseVersion);let s=e-1;for(const[l,u]of this._gaps)t>l&&t<u&&(t=u),s>l&&s<u&&(s=l-1);if(s<i.baseVersion||t>this.lastOperation.baseVersion)return[];let r=this._baseVersionToOperationIndex.get(t);r===void 0&&(r=0);let o=this._baseVersionToOperationIndex.get(s);return o===void 0&&(o=this._operations.length-1),this._operations.slice(r,o+1)}getOperation(t){const e=this._baseVersionToOperationIndex.get(t);if(e!==void 0)return this._operations[e]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Fp extends nn{constructor(e,i,s="main"){super(i);y(this,"rootName");y(this,"_document");y(this,"_isAttached",!0);y(this,"_isLoaded",!0);this._document=e,this.rootName=s}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Fp.prototype.is=function(n,t){return t?t===this.name&&(n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"):n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"||n==="node"||n==="model:node"};const uT="$graveyard";class dG extends Ct(){constructor(e){super();y(this,"model");y(this,"history");y(this,"selection");y(this,"roots");y(this,"differ");y(this,"isReadOnly");y(this,"_postFixers");y(this,"_hasSelectionChangedFromTheLastChangeBlock");this.model=e,this.history=new uG,this.selection=new Cs(this),this.roots=new Gs({idProperty:"rootName"}),this.differ=new fv(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",uT),this.listenTo(e,"applyOperation",(i,s)=>{const r=s[0];r.isDocumentOperation&&this.differ.bufferOperation(r)},{priority:"high"}),this.listenTo(e,"applyOperation",(i,s)=>{const r=s[0];r.isDocumentOperation&&this.history.addOperation(r)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(i,s,r,o,l)=>{const u={...s.getData(),range:o};this.differ.bufferMarkerChange(s.name,l,u),r===null&&s.on("change",(f,h)=>{const m=s.getData();this.differ.bufferMarkerChange(s.name,{...m,range:h},m)})}),this.registerPostFixer(i=>{let s=!1;for(const r of this.roots)!r.isAttached()&&!r.isEmpty&&(i.remove(i.createRangeIn(r)),s=!0);for(const r of this.model.markers)r.getRange().root.isAttached()||(i.removeMarker(r),s=!0);return s})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(uT)}createRoot(e="$root",i="main"){if(this.roots.get(i))throw new j("model-document-createroot-name-exists",this,{name:i});const s=new Fp(this,e,i);return this.roots.add(s),s}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(i=>i.rootName)}getRoots(e=!1){return this.roots.filter(i=>i!=this.graveyard&&(e||i.isAttached())&&i._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=x1(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),i=this.model,s=i.schema,r=i.createPositionFromPath(e,[0]);return s.getNearestSelectionRange(r)||i.createRange(r)}_validateSelectionRange(e){return e.start.isValid()&&e.end.isValid()&&dT(e.start)&&dT(e.end)}_callPostFixers(e){let i=!1;do for(const s of this._postFixers)if(this.selection.refresh(),i=s(e),i)break;while(i)}}function dT(n){const t=n.textNode;if(t){const e=t.data,i=n.offset-t.startOffset;return!N1(e,i)&&!V1(e,i)}return!0}class fG extends Ct(){constructor(){super(...arguments);y(this,"_markers",new Map)}[Symbol.iterator](){return this._markers.values()}has(e){const i=e instanceof Ol?e.name:e;return this._markers.has(i)}get(e){return this._markers.get(e)||null}_set(e,i,s=!1,r=!1){const o=e instanceof Ol?e.name:e;if(o.includes(","))throw new j("markercollection-incorrect-marker-name",this);const l=this._markers.get(o);if(l){const h=l.getData(),m=l.getRange();let b=!1;return m.isEqual(i)||(l._attachLiveRange(is.fromRange(i)),b=!0),s!=l.managedUsingOperations&&(l._managedUsingOperations=s,b=!0),typeof r=="boolean"&&r!=l.affectsData&&(l._affectsData=r,b=!0),b&&this.fire(`update:${o}`,l,m,i,h),l}const u=is.fromRange(i),f=new Ol(o,u,s,r);return this._markers.set(o,f),this.fire(`update:${o}`,f,null,i,{...f.getData(),range:null}),f}_remove(e){const i=e instanceof Ol?e.name:e,s=this._markers.get(i);return s?(this._markers.delete(i),this.fire(`update:${i}`,s,s.getRange(),null,s.getData()),this._destroyMarker(s),!0):!1}_refresh(e){const i=e instanceof Ol?e.name:e,s=this._markers.get(i);if(!s)throw new j("markercollection-refresh-marker-not-exists",this);const r=s.getRange();this.fire(`update:${i}`,s,r,r,s.getData())}*getMarkersAtPosition(e){for(const i of this)i.getRange().containsPosition(e)&&(yield i)}*getMarkersIntersectingRange(e){for(const i of this)i.getRange().getIntersection(e)!==null&&(yield i)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const i of this._markers.values())i.name.startsWith(e+":")&&(yield i)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Ol extends Ct(Po){constructor(e,i,s,r){super();y(this,"name");y(this,"_managedUsingOperations");y(this,"_affectsData");y(this,"_liveRange");this.name=e,this._liveRange=this._attachLiveRange(i),this._managedUsingOperations=s,this._affectsData=r}get managedUsingOperations(){if(!this._liveRange)throw new j("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new j("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new j("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new j("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new j("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ol.prototype.is=function(n){return n==="marker"||n==="model:marker"};class hG extends zi{constructor(e,i){super(null);y(this,"sourcePosition");y(this,"howMany");this.sourcePosition=e.clone(),this.howMany=i}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new j("detach-operation-on-document-node",this)}_execute(){eO(ie._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}let lo=class sO extends Po{constructor(e){super();y(this,"markers",new Map);y(this,"_children",new Qu);e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let i=this;for(const s of e)i=i.getChildAtOffset(s);return i}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const i of this._children)e.push(i.toJSON());return e}static fromJSON(e){const i=[];for(const s of e)s.name?i.push(nn.fromJSON(s)):i.push(Ft.fromJSON(s));return new sO(i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const s=pG(i);for(const r of s)r.parent!==null&&r._remove(),r.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,i=1){const s=this._children._removeNodes(e,i);for(const r of s)r.parent=null;return s}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const i of e)i.parent=null}};lo.prototype.is=function(n){return n==="documentFragment"||n==="model:documentFragment"};function pG(n){return typeof n=="string"?[new Ft(n)]:(Fi(n)||(n=[n]),Array.from(n).map(t=>typeof t=="string"?new Ft(t):t instanceof ws?new Ft(t.data,t.getAttributes()):t))}class mG{constructor(t,e){y(this,"model");y(this,"batch");this.model=t,this.batch=e}createText(t,e){return new Ft(t,e)}createElement(t,e){return new nn(t,e)}createDocumentFragment(){return new lo}cloneElement(t,e=!0){return t._clone(e)}insert(t,e,i=0){if(this._assertWriterUsedCorrectly(),t instanceof Ft&&t.data=="")return;const s=be._createAt(e,i);if(t.parent)if(pT(t.root,s.root)){this.move(ie._createOn(t),s);return}else{if(t.root.document)throw new j("model-writer-insert-forbidden-move",this);this.remove(t)}const r=s.root.document?s.root.document.version:null,o=t instanceof lo?t._removeChildren(0,t.childCount):t,l=new Bn(s,o,r);if(t instanceof Ft&&(l.shouldReceiveAttributes=!0),this.batch.addOperation(l),this.model.applyOperation(l),t instanceof lo)for(const[u,f]of t.markers){const h=be._createAt(f.root,0),b={range:new ie(f.start._getCombined(h,s),f.end._getCombined(h,s)),usingOperation:!0,affectsData:!0};this.model.markers.has(u)?this.updateMarker(u,b):this.addMarker(u,b)}}insertText(t,e,i,s){e instanceof lo||e instanceof nn||e instanceof be?this.insert(this.createText(t),e,i):this.insert(this.createText(t,e),i,s)}insertElement(t,e,i,s){e instanceof lo||e instanceof nn||e instanceof be?this.insert(this.createElement(t),e,i):this.insert(this.createElement(t,e),i,s)}append(t,e){this.insert(t,e,"end")}appendText(t,e,i){e instanceof lo||e instanceof nn?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),i,"end")}appendElement(t,e,i){e instanceof lo||e instanceof nn?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),i,"end")}setAttribute(t,e,i){if(this._assertWriterUsedCorrectly(),i instanceof ie){const s=i.getMinimalFlatRanges();for(const r of s)fT(this,t,e,r)}else hT(this,t,e,i)}setAttributes(t,e){for(const[i,s]of Pr(t))this.setAttribute(i,s,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof ie){const i=e.getMinimalFlatRanges();for(const s of i)fT(this,t,null,s)}else hT(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=i=>{for(const s of i.getAttributeKeys())this.removeAttribute(s,i)};if(!(t instanceof ie))e(t);else for(const i of t.getItems())e(i)}move(t,e,i){if(this._assertWriterUsedCorrectly(),!(t instanceof ie))throw new j("writer-move-invalid-range",this);if(!t.isFlat)throw new j("writer-move-range-not-flat",this);const s=be._createAt(e,i);if(s.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!pT(t.root,s.root))throw new j("writer-move-different-document",this);const r=t.root.document?t.root.document.version:null,o=new pt(t.start,t.end.offset-t.start.offset,s,r);this.batch.addOperation(o),this.model.applyOperation(o)}remove(t){this._assertWriterUsedCorrectly();const i=(t instanceof ie?t:ie._createOn(t)).getMinimalFlatRanges().reverse();for(const s of i)this._addOperationForAffectedMarkers("move",s),gG(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,i=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof nn))throw new j("writer-merge-no-element-before",this);if(!(i instanceof nn))throw new j("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,i){return this.model.createPositionFromPath(t,e,i)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(...t){return this.model.createSelection(...t)}_mergeDetached(t){const e=t.nodeBefore,i=t.nodeAfter;this.move(ie._createIn(i),be._createAt(e,"end")),this.remove(i)}_merge(t){const e=be._createAt(t.nodeBefore,"end"),i=be._createAt(t.nodeAfter,0),s=t.root.document.graveyard,r=new be(s,[0]),o=t.root.document.version,l=new rn(i,t.nodeAfter.maxOffset,e,r,o);this.batch.addOperation(l),this.model.applyOperation(l)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof nn))throw new j("writer-rename-not-element-instance",this);const i=t.root.document?t.root.document.version:null,s=new bi(be._createBefore(t),t.name,e,i);this.batch.addOperation(s),this.model.applyOperation(s)}split(t,e){this._assertWriterUsedCorrectly();let i=t.parent;if(!i.parent)throw new j("writer-split-element-no-parent",this);if(e||(e=i.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new j("writer-split-invalid-limit-element",this);let s,r;do{const o=i.root.document?i.root.document.version:null,l=i.maxOffset-t.offset,u=At.getInsertionPosition(t),f=new At(t,l,u,null,o);this.batch.addOperation(f),this.model.applyOperation(f),!s&&!r&&(s=i,r=t.parent.nextSibling),t=this.createPositionAfter(t.parent),i=t.parent}while(i!==e);return{position:t,range:new ie(be._createAt(s,"end"),be._createAt(r,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new j("writer-wrap-range-not-flat",this);const i=e instanceof nn?e:new nn(e);if(i.childCount>0)throw new j("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new j("writer-wrap-element-attached",this);this.insert(i,t.start);const s=new ie(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(s,be._createAt(i,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),t.parent===null)throw new j("writer-unwrap-element-no-parent",this);this.move(ie._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||typeof e.usingOperation!="boolean")throw new j("writer-addmarker-no-usingoperation",this);const i=e.usingOperation,s=e.range,r=e.affectsData===void 0?!1:e.affectsData;if(this.model.markers.has(t))throw new j("writer-addmarker-marker-exists",this);if(!s)throw new j("writer-addmarker-no-range",this);return i?(xu(this,t,null,s,r),this.model.markers.get(t)):this.model.markers._set(t,s,i,r)}updateMarker(t,e){this._assertWriterUsedCorrectly();const i=typeof t=="string"?t:t.name,s=this.model.markers.get(i);if(!s)throw new j("writer-updatemarker-marker-not-exists",this);if(!e){zt("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),this.model.markers._refresh(s);return}const r=typeof e.usingOperation=="boolean",o=typeof e.affectsData=="boolean",l=o?e.affectsData:s.affectsData;if(!r&&!e.range&&!o)throw new j("writer-updatemarker-wrong-options",this);const u=s.getRange(),f=e.range?e.range:u;if(r&&e.usingOperation!==s.managedUsingOperations){e.usingOperation?xu(this,i,null,f,l):(xu(this,i,u,null,l),this.model.markers._set(i,f,void 0,l));return}s.managedUsingOperations?xu(this,i,u,f,l):this.model.markers._set(i,f,void 0,l)}removeMarker(t){this._assertWriterUsedCorrectly();const e=typeof t=="string"?t:t.name;if(!this.model.markers.has(e))throw new j("writer-removemarker-no-marker",this);const i=this.model.markers.get(e);if(!i.managedUsingOperations){this.model.markers._remove(e);return}const s=i.getRange();xu(this,e,s,null,i.affectsData)}addRoot(t,e="$root"){this._assertWriterUsedCorrectly();const i=this.model.document.getRoot(t);if(i&&i.isAttached())throw new j("writer-addroot-root-exists",this);const s=this.model.document,r=new Hs(t,e,!0,s,s.version);return this.batch.addOperation(r),this.model.applyOperation(r),this.model.document.getRoot(t)}detachRoot(t){this._assertWriterUsedCorrectly();const e=typeof t=="string"?this.model.document.getRoot(t):t;if(!e||!e.isAttached())throw new j("writer-detachroot-no-root",this);for(const r of this.model.markers)r.getRange().root===e&&this.removeMarker(r);for(const r of e.getAttributeKeys())this.removeAttribute(r,e);this.remove(this.createRangeIn(e));const i=this.model.document,s=new Hs(e.rootName,e.name,!1,i,i.version);this.batch.addOperation(s),this.model.applyOperation(s)}setSelection(...t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...t)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._setSelectionAttribute(t,e);else for(const[i,s]of Pr(t))this._setSelectionAttribute(i,s)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const s=Cs._getStoreAttributeKey(t);this.setAttribute(s,e,i.anchor.parent)}i._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const i=Cs._getStoreAttributeKey(t);this.removeAttribute(i,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new j("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,e){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const s=i.getRange();let r=!1;if(t==="move"){const o=e;r=o.containsPosition(s.start)||o.start.isEqual(s.start)||o.containsPosition(s.end)||o.end.isEqual(s.end)}else{const o=e,l=o.nodeBefore,u=o.nodeAfter,f=s.start.parent==l&&s.start.isAtEnd,h=s.end.parent==u&&s.end.offset==0,m=s.end.nodeAfter==u,b=s.start.nodeAfter==u;r=f||h||m||b}r&&this.updateMarker(i.name,{range:s})}}}function fT(n,t,e,i){const s=n.model,r=s.document;let o=i.start,l,u,f;for(const m of i.getWalker({shallow:!0}))f=m.item.getAttribute(t),l&&u!=f&&(u!=e&&h(),o=l),l=m.nextPosition,u=f;l instanceof be&&l!=o&&u!=e&&h();function h(){const m=new ie(o,l),b=m.root.document?r.version:null,w=new un(m,t,u,e,b);n.batch.addOperation(w),s.applyOperation(w)}}function hT(n,t,e,i){const s=n.model,r=s.document,o=i.getAttribute(t);let l,u;if(o!=e){if(i.root===i){const h=i.document?r.version:null;u=new _r(i,t,o,e,h)}else{l=new ie(be._createBefore(i),n.createPositionAfter(i));const h=l.root.document?r.version:null;u=new un(l,t,o,e,h)}n.batch.addOperation(u),s.applyOperation(u)}}function xu(n,t,e,i,s){const r=n.model,o=r.document,l=new ni(t,e,i,r.markers,!!s,o.version);n.batch.addOperation(l),r.applyOperation(l)}function gG(n,t,e,i){let s;if(n.root.document){const r=i.document,o=new be(r.graveyard,[0]);s=new pt(n,t,o,r.version)}else s=new hG(n,t);e.addOperation(s),i.applyOperation(s)}function pT(n,t){return n===t||n instanceof Fp&&t instanceof Fp}function bG(n,t,e={}){if(t.isCollapsed)return;const i=t.getFirstRange();if(i.root.rootName=="$graveyard")return;const s=n.schema;n.change(r=>{if(!e.doNotResetEntireContent&&TG(s,t)){xG(r,t);return}const o={};if(!e.doNotAutoparagraph){const f=t.getSelectedElement();f&&Object.assign(o,s.getAttributesWithProperty(f,"copyOnReplace",!0))}let l,u;e.doNotFixSelection?(l=Mn.fromPosition(i.start,"toPrevious"),u=Mn.fromPosition(i.end,"toNext")):[l,u]=yG(i),l.isTouching(u)||r.remove(r.createRange(l,u)),e.leaveUnmerged||(wG(r,l,u),s.removeDisallowedAttributes(l.parent.getChildren(),r)),lO(r,t,l),!e.doNotAutoparagraph&&CG(s,l)&&aO(r,l,t,o),l.detach(),u.detach()})}function yG(n){const t=n.root.document.model,e=n.start;let i=n.end;if(t.hasContent(n,{ignoreMarkers:!0})){const s=vG(i);if(s&&i.isTouching(t.createPositionAt(s,0))){const r=t.createSelection(n);t.modifySelection(r,{direction:"backward"});const o=r.getLastPosition(),l=t.createRange(o,i);t.hasContent(l,{ignoreMarkers:!0})||(i=o)}}return[Mn.fromPosition(e,"toPrevious"),Mn.fromPosition(i,"toNext")]}function vG(n){const t=n.parent,e=t.root.document.model.schema,i=t.getAncestors({parentFirst:!0,includeSelf:!0});for(const s of i){if(e.isLimit(s))return null;if(e.isBlock(s))return s}}function wG(n,t,e){const i=n.model;if(!G1(n.model.schema,t,e))return;const[s,r]=kG(t,e);!s||!r||(!i.hasContent(s,{ignoreMarkers:!0})&&i.hasContent(r,{ignoreMarkers:!0})?oO(n,t,e,s.parent):rO(n,t,e,s.parent))}function rO(n,t,e,i){const s=t.parent,r=e.parent;if(!(s==i||r==i)){for(t=n.createPositionAfter(s),e=n.createPositionBefore(r),e.isEqual(t)||n.insert(r,t),n.merge(t);e.parent.isEmpty;){const o=e.parent;e=n.createPositionBefore(o),n.remove(o)}G1(n.model.schema,t,e)&&rO(n,t,e,i)}}function oO(n,t,e,i){const s=t.parent,r=e.parent;if(!(s==i||r==i)){for(t=n.createPositionAfter(s),e=n.createPositionBefore(r),e.isEqual(t)||n.insert(s,e);t.parent.isEmpty;){const o=t.parent;t=n.createPositionBefore(o),n.remove(o)}e=n.createPositionBefore(r),_G(n,e),G1(n.model.schema,t,e)&&oO(n,t,e,i)}}function _G(n,t){const e=t.nodeBefore,i=t.nodeAfter;e.name!=i.name&&n.rename(e,i.name),n.clearAttributes(e),n.setAttributes(Object.fromEntries(i.getAttributes()),e),n.merge(t)}function G1(n,t,e){const i=t.parent,s=e.parent;return i==s||n.isLimit(i)||n.isLimit(s)?!1:SG(t,e,n)}function kG(n,t){const e=n.getAncestors(),i=t.getAncestors();let s=0;for(;e[s]&&e[s]==i[s];)s++;return[e[s],i[s]]}function CG(n,t){const e=n.checkChild(t,"$text"),i=n.checkChild(t,"paragraph");return!e&&i}function SG(n,t,e){const i=new ie(n,t);for(const s of i.getWalker())if(e.isLimit(s.item))return!1;return!0}function aO(n,t,e,i={}){const s=n.createElement("paragraph");n.model.schema.setAllowedAttributes(s,i,n),n.insert(s,t),lO(n,e,n.createPositionAt(s,0))}function xG(n,t){const e=n.model.schema.getLimitElement(t);n.remove(n.createRangeIn(e)),aO(n,n.createPositionAt(e,0),t)}function TG(n,t){const e=n.getLimitElement(t);if(!t.containsEntireContent(e))return!1;const i=t.getFirstRange();return i.start.parent==i.end.parent?!1:n.checkChild(e,"paragraph")}function lO(n,t,e){t instanceof Cs?n.setSelection(e):t.setTo(e)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function EG(n,t){return n.change(e=>{const i=e.createDocumentFragment(),s=t.getFirstRange();if(!s||s.isCollapsed)return i;const r=s.start.root,o=s.start.getCommonPath(s.end),l=r.getNodeByPath(o);let u;s.start.parent==s.end.parent?u=s:u=e.createRange(e.createPositionAt(l,s.start.path[o.length]),e.createPositionAt(l,s.end.path[o.length]+1));const f=u.end.offset-u.start.offset;for(const h of u.getItems({shallow:!0}))h.is("$textProxy")?e.appendText(h.data,h.getAttributes(),i):e.append(e.cloneElement(h,!0),i);if(u!=s){const h=s._getTransformedByMove(u.start,e.createPositionAt(i,0),f)[0],m=e.createRange(e.createPositionAt(i,0),h.start),b=e.createRange(h.end,e.createPositionAt(i,"end"));mT(b,e),mT(m,e)}return i})}function mT(n,t){const e=[];Array.from(n.getItems({direction:"backward"})).map(i=>t.createRangeOn(i)).filter(i=>(i.start.isAfter(n.start)||i.start.isEqual(n.start))&&(i.end.isBefore(n.end)||i.end.isEqual(n.end))).forEach(i=>{e.push(i.start.parent),t.remove(i)}),e.forEach(i=>{let s=i;for(;s.parent&&s.isEmpty;){const r=t.createRangeOn(s);s=s.parent,t.remove(r)}})}function AG(n,t,e){return n.change(i=>{const s=e||n.document.selection;s.isCollapsed||n.deleteContent(s,{doNotAutoparagraph:!0});const r=new PG(n,i,s.anchor),o=[];let l;if(t.is("documentFragment")){if(t.markers.size){const h=[];for(const[m,b]of t.markers){const{start:w,end:_}=b,k=w.isEqual(_);h.push({position:w,name:m,isCollapsed:k},{position:_,name:m,isCollapsed:k})}h.sort(({position:m},{position:b})=>m.isBefore(b)?1:-1);for(const{position:m,name:b,isCollapsed:w}of h){let _=null,k=null;const x=m.parent===t&&m.isAtStart,A=m.parent===t&&m.isAtEnd;!x&&!A?(_=i.createElement("$marker"),i.insert(_,m)):w&&(k=x?"start":"end"),o.push({name:b,element:_,collapsed:k})}}l=t.getChildren()}else l=[t];r.handleNodes(l);let u=r.getSelectionRange();if(t.is("documentFragment")&&o.length){const h=u?is.fromRange(u):null,m={};for(let b=o.length-1;b>=0;b--){const{name:w,element:_,collapsed:k}=o[b],x=!m[w];if(x&&(m[w]=[]),_){const A=i.createPositionAt(_,"before");m[w].push(A),i.remove(_)}else{const A=r.getAffectedRange();if(!A){k&&m[w].push(r.position);continue}k?m[w].push(A[k]):m[w].push(x?A.start:A.end)}}for(const[b,[w,_]]of Object.entries(m))w&&_&&w.root===_.root&&w.root.document&&!i.model.markers.has(b)&&i.addMarker(b,{usingOperation:!0,affectsData:!0,range:new ie(w,_)});h&&(u=h.toRange(),h.detach())}/* istanbul ignore else -- @preserve */u&&(s instanceof Cs?i.setSelection(u):s.setTo(u));const f=r.getAffectedRange()||n.createRange(s.anchor);return r.destroy(),f})}class PG{constructor(t,e,i){y(this,"model");y(this,"writer");y(this,"position");y(this,"canMergeWith");y(this,"schema");y(this,"_documentFragment");y(this,"_documentFragmentPosition");y(this,"_firstNode",null);y(this,"_lastNode",null);y(this,"_lastAutoParagraph",null);y(this,"_filterAttributesOf",[]);y(this,"_affectedStart",null);y(this,"_affectedEnd",null);y(this,"_nodeToSelect",null);this.model=t,this.writer=e,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=e.createDocumentFragment(),this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0)}handleNodes(t){for(const e of Array.from(t))this._handleNode(e);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const e=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(t);if(i.isAfter(e)){this._lastNode=t;/* istanbul ignore if -- @preserve */if(this.position.parent!=t||!this.position.isAtEnd)throw new j("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?ie._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ie(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(!this._checkAndSplitToAllowedPosition(t)){this.schema.isObject(t)||this._handleDisallowedNode(t);return}this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=Mn.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleDisallowedNode(t){t.is("element")&&this.handleNodes(t.getChildren())}_appendToFragment(t){/* istanbul ignore if -- @preserve */if(!this.schema.checkChild(this.position,t))throw new j("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=t:this._nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=Mn.fromPosition(t,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(t))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Mn.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof nn)||!this._canMergeLeft(t))return;const e=Mn._createBefore(t);e.stickiness="toNext";const i=Mn.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=Mn._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Mn._createAt(e.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof nn)||!this._canMergeRight(t))return;const e=Mn._createAfter(t);e.stickiness="toNext";/* istanbul ignore if -- @preserve */if(!this.position.isEqual(e))throw new j("insertcontent-invalid-insertion-position",this);this.position=be._createAt(e.nodeBefore,"end");const i=Mn.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=Mn._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Mn._createAt(e.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_canMergeLeft(t){const e=t.previousSibling;return e instanceof nn&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}_canMergeRight(t){const e=t.nextSibling;return e instanceof nn&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}_insertAutoParagraph(){this._insertPartialFragment();const t=this.writer.createElement("paragraph");this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0)}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){const i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===e&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,t)||this._insertAutoParagraph(),!0}_getAllowedIn(t,e){return this.schema.checkChild(t,e)||this.schema.checkChild(t,"paragraph")&&this.schema.checkChild("paragraph",e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}function RG(n,t,e,i={}){if(!n.schema.isObject(t))throw new j("insertobject-element-not-an-object",n,{object:t});const s=e||n.document.selection;let r=s;i.findOptimalPosition&&n.schema.isBlock(t)&&(r=n.createSelection(n.schema.findOptimalInsertionRange(s,i.findOptimalPosition)));const o=$i(s.getSelectedBlocks()),l={};return o&&Object.assign(l,n.schema.getAttributesWithProperty(o,"copyOnReplace",!0)),n.change(u=>{r.isCollapsed||n.deleteContent(r,{doNotAutoparagraph:!0});let f=t;const h=r.anchor.parent;!n.schema.checkChild(h,t)&&n.schema.checkChild(h,"paragraph")&&n.schema.checkChild("paragraph",t)&&(f=u.createElement("paragraph"),u.insert(t,f)),n.schema.setAllowedAttributes(f,l,u);const m=n.insertContent(f,r);return m.isCollapsed||i.setSelection&&OG(u,t,i.setSelection,l),m})}function OG(n,t,e,i){const s=n.model;if(e=="on"){n.setSelection(t,"on");return}if(e!="after")throw new j("insertobject-invalid-place-parameter-value",s);let r=t.nextSibling;if(s.schema.isInline(t)){n.setSelection(t,"after");return}!(r&&s.schema.checkChild(r,"$text"))&&s.schema.checkChild(t.parent,"paragraph")&&(r=n.createElement("paragraph"),s.schema.setAllowedAttributes(r,i,n),s.insertContent(r,n.createPositionAfter(t))),r&&n.setSelection(r,0)}const MG=' ,.?!:;"-()';function IG(n,t,e={}){const i=n.schema,s=e.direction!="backward",r=e.unit?e.unit:"character",o=!!e.treatEmojiAsSingleUnit,l=t.focus,u=new wr({boundaries:NG(l,s),singleCharacters:!0,direction:s?"forward":"backward"}),f={walker:u,schema:i,isForward:s,unit:r,treatEmojiAsSingleUnit:o};let h;for(;h=u.next();){if(h.done)return;const m=LG(f,h.value);if(m){t instanceof Cs?n.change(b=>{b.setSelectionFocus(m)}):t.setFocus(m);return}}}function LG(n,t){const{isForward:e,walker:i,unit:s,schema:r,treatEmojiAsSingleUnit:o}=n,{type:l,item:u,nextPosition:f}=t;if(l=="text")return n.unit==="word"?DG(i,e):BG(i,s,o);if(l==(e?"elementStart":"elementEnd")){if(r.isSelectable(u))return be._createAt(u,e?"after":"before");if(r.checkChild(f,"$text"))return f}else{if(r.isLimit(u)){i.skip(()=>!0);return}if(r.checkChild(f,"$text"))return f}}function BG(n,t,e){const i=n.position.textNode;if(i){const s=i.data;let r=n.position.offset-i.startOffset;for(;N1(s,r)||t=="character"&&V1(s,r)||e&&yR(s,r);)n.next(),r=n.position.offset-i.startOffset}return n.position}function DG(n,t){let e=n.position.textNode;for(e||(e=t?n.position.nodeAfter:n.position.nodeBefore);e&&e.is("$text");){const i=n.position.offset-e.startOffset;if(FG(e,i,t))e=t?n.position.nodeAfter:n.position.nodeBefore;else{if(VG(e.data,i,t))break;n.next()}}return n.position}function NG(n,t){const e=n.root,i=be._createAt(e,t?"end":0);return t?new ie(n,i):new ie(i,n)}function VG(n,t,e){const i=t+(e?0:-1);return MG.includes(n.charAt(i))}function FG(n,t,e){return t===(e?n.offsetSize:0)}class zG extends jt(){constructor(){super();y(this,"markers");y(this,"document");y(this,"schema");y(this,"_pendingChanges");y(this,"_currentWriter");this.markers=new fG,this.document=new dG(this),this.schema=new Aq,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,i)=>{i[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(()=>!0,"$marker"),wq(this),this.document.registerPostFixer(GR),this.on("insertContent",(e,[i,s])=>{e.return=AG(this,i,s)}),this.on("insertObject",(e,[i,s,r])=>{e.return=RG(this,i,s,r)}),this.on("canEditAt",e=>{const i=!this.document.isReadOnly;e.return=i,i||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new xl,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(i){/* istanbul ignore next -- @preserve */j.rethrowUnexpectedError(i,this)}}enqueueChange(e,i){try{e?typeof e=="function"?(i=e,e=new xl):e instanceof xl||(e=new xl(e)):e=new xl,this._pendingChanges.push({batch:e,callback:i}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(s){/* istanbul ignore next -- @preserve */j.rethrowUnexpectedError(s,this)}}applyOperation(e){e._execute()}insertContent(e,i,s,...r){const o=$0(i,s);return this.fire("insertContent",[e,o,s,...r])}insertObject(e,i,s,r,...o){const l=$0(i,s);return this.fire("insertObject",[e,l,r,r,...o])}deleteContent(e,i){bG(this,e,i)}modifySelection(e,i){IG(this,e,i)}getSelectedContent(e){return EG(this,e)}hasContent(e,i={}){const s=e instanceof ie?e:ie._createIn(e);if(s.isCollapsed)return!1;const{ignoreWhitespaces:r=!1,ignoreMarkers:o=!1}=i;if(!o){for(const l of this.markers.getMarkersIntersectingRange(s))if(l.affectsData)return!0}for(const l of s.getItems())if(this.schema.isContent(l))if(l.is("$textProxy"))if(r){if(l.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){const i=$0(e);return this.fire("canEditAt",[i])}createPositionFromPath(e,i,s){return new be(e,i,s)}createPositionAt(e,i){return be._createAt(e,i)}createPositionAfter(e){return be._createAfter(e)}createPositionBefore(e){return be._createBefore(e)}createRange(e,i){return new ie(e,i)}createRangeIn(e){return ie._createIn(e)}createRangeOn(e){return ie._createOn(e)}createSelection(...e){return new Ii(...e)}createBatch(e){return new xl(e)}createOperationFromJSON(e){return eG.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const i=this._pendingChanges[0].batch;this._currentWriter=new mG(this,i);const s=this._pendingChanges[0].callback(this._currentWriter);e.push(s),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function $0(n,t){if(n)return n instanceof Ii||n instanceof Cs?n:n instanceof Ra?t||t===0?new Ii(n,t):n.is("rootElement")?new Ii(n,"in"):new Ii(n,"on"):new Ii(n)}class UG extends Mr{constructor(){super(...arguments);y(this,"domEventType","click")}onDomEvent(e){this.fire(e.type,e)}}class K1 extends Mr{constructor(){super(...arguments);y(this,"domEventType",["mousedown","mouseup","mouseover","mouseout"])}onDomEvent(e){this.fire(e.type,e)}}class $G extends Mr{constructor(){super(...arguments);y(this,"domEventType",["touchstart","touchend","touchmove"])}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class cO{constructor(t){y(this,"crashes",[]);y(this,"state","initializing");y(this,"_crashNumberLimit");y(this,"_now",Date.now);y(this,"_minimumNonErrorTimePeriod");y(this,"_boundErrorHandler");y(this,"_listeners");if(this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=e=>{const i="error"in e?e.error:e.reason;i instanceof Error&&this._handleError(i,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter(i=>i!==e)}_fire(t,...e){const i=this._listeners[t]||[];for(const s of i)s.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e instanceof ErrorEvent?e.filename:void 0,lineno:e instanceof ErrorEvent?e.lineno:void 0,colno:e instanceof ErrorEvent?e.colno:void 0,date:this._now()});const i=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:i}),i?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const t=this.crashes[this.crashes.length-1].date,e=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(t-e)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function hv(n,t=new Set){const e=[n],i=new Set;let s=0;for(;e.length>s;){const r=e[s++];if(!(i.has(r)||!HG(r)||t.has(r)))if(i.add(r),Symbol.iterator in r)try{for(const o of r)e.push(o)}catch{}else for(const o in r)o!=="defaultValue"&&e.push(r[o])}return i}function HG(n){const t=Object.prototype.toString.call(n),e=typeof n;return!(e==="number"||e==="boolean"||e==="string"||e==="symbol"||e==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||n===void 0||n===null||n._watchdogExcluded||n instanceof EventTarget||n instanceof Event)}function uO(n,t,e=new Set){if(n===t&&jG(n))return!0;const i=hv(n,e),s=hv(t,e);for(const r of i)if(s.has(r))return!0;return!1}function jG(n){return typeof n=="object"&&n!==null}class dO extends cO{constructor(e,i={}){super(i);y(this,"_editor",null);y(this,"_lifecyclePromise",null);y(this,"_throttledSave");y(this,"_data");y(this,"_lastDocumentVersion");y(this,"_elementOrData");y(this,"_initUsingData",!0);y(this,"_editables",{});y(this,"_config");y(this,"_excludedProps");this._throttledSave=Mp(this._save.bind(this),typeof i.saveInterval=="number"?i.saveInterval:5e3),e&&(this._creator=(s,r)=>e.create(s,r)),this._destructor=s=>s.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},i=[],s=this._config.rootsAttributes||{},r={};for(const[l,u]of Object.entries(this._data.roots))u.isLoaded?(e[l]="",r[l]=s[l]||{}):i.push(l);const o={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:i,rootsAttributes:r,_watchdogInitialData:this._data};return delete o.initialData,o.extraPlugins.push(WG),this._initUsingData?this.create(e,o,o.context):wo(this._elementOrData)?this.create(this._elementOrData,o,o.context):this.create(this._editables,o,o.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,i=this._config,s){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(i)||{},this._config.context=s,this._creator(e,this._config))).then(r=>{this._editor=r,r.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=r.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(i){console.error(i,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,i=e.model.document.roots.filter(u=>u.isAttached()&&u.rootName!="$graveyard"),{plugins:s}=e,r=s.has("CommentsRepository")&&s.get("CommentsRepository"),o=s.has("TrackChanges")&&s.get("TrackChanges"),l={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};i.forEach(u=>{l.roots[u.rootName]={content:JSON.stringify(Array.from(u.getChildren())),attributes:JSON.stringify(Array.from(u.getAttributes())),isLoaded:u._isLoaded}});for(const u of e.model.markers)u._affectsData&&(l.markers[u.name]={rangeJSON:u.getRange().toJSON(),usingOperation:u._managedUsingOperations,affectsData:u._affectsData});return r&&(l.commentThreads=JSON.stringify(r.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),o&&(l.suggestions=JSON.stringify(o.getSuggestions({toJSON:!0,skipNotAttached:!0}))),l}_getEditables(){const e={};for(const i of this.editor.model.document.getRootNames()){const s=this.editor.ui.getEditableElement(i);s&&(e[i]=s)}return e}_isErrorComingFromThisItem(e){return uO(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Rm(e,(i,s)=>{if(wo(i)||s==="context")return i})}}class WG{constructor(t){y(this,"editor");y(this,"_data");this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},e=>{this._restoreCollaborationData(),this._restoreEditorData(e)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,e){if("name"in e){const i=t.createElement(e.name,e.attributes);if(e.children)for(const s of e.children)i._appendChild(this._createNode(t,s));return i}else return t.createText(e.data,e.attributes)}_restoreEditorData(t){const e=this.editor;Object.entries(this._data.roots).forEach(([i,{content:s,attributes:r}])=>{const o=JSON.parse(s),l=JSON.parse(r),u=e.model.document.getRoot(i);for(const[f,h]of l)t.setAttribute(f,h,u);for(const f of o){const h=this._createNode(t,f);t.insert(h,u,"end")}}),Object.entries(this._data.markers).forEach(([i,s])=>{const{document:r}=e.model,{rangeJSON:{start:o,end:l},...u}=s,f=r.getRoot(o.root),h=t.createPositionFromPath(f,o.path,o.stickiness),m=t.createPositionFromPath(f,l.path,l.stickiness),b=t.createRange(h,m);t.addMarker(i,{range:b,...u})})}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),e=JSON.parse(this._data.suggestions);t.forEach(i=>{const s=this.editor.config.get("collaboration.channelId"),r=this.editor.plugins.get("CommentsRepository");r.hasCommentThread(i.threadId)&&r.getCommentThread(i.threadId).remove(),r.addCommentThread({channelId:s,...i})}),e.forEach(i=>{const s=this.editor.plugins.get("TrackChangesEditing");if(s.hasSuggestion(i.id)){const r=s.getSuggestion(i.id);r.attributes=i.attributes}else s.addSuggestionData(i)})}}const ed=Symbol("MainQueueId");class qG extends cO{constructor(e,i={}){super(i);y(this,"_watchdogs",new Map);y(this,"_watchdogConfig");y(this,"_context",null);y(this,"_contextProps",new Set);y(this,"_actionQueues",new GG);y(this,"_contextConfig");y(this,"_item");this._watchdogConfig=i,this._creator=s=>e.create(s),this._destructor=s=>s.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(ed,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const i=gT(e);return Promise.all(i.map(s=>this._actionQueues.enqueue(s.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let r;if(this._watchdogs.has(s.id))throw new Error(`Item with the given id is already added: '${s.id}'.`);if(s.type==="editor")return r=new dO(null,this._watchdogConfig),r.setCreator(s.creator),r._setExcludedProperties(this._contextProps),s.destructor&&r.setDestructor(s.destructor),this._watchdogs.set(s.id,r),r.on("error",(o,{error:l,causesRestart:u})=>{this._fire("itemError",{itemId:s.id,error:l}),u&&this._actionQueues.enqueue(s.id,()=>new Promise(f=>{const h=()=>{r.off("restart",h),this._fire("itemRestart",{itemId:s.id}),f()};r.on("restart",h)}))}),r.create(s.sourceElementOrData,s.config,this._context);throw new Error(`Not supported item type: '${s.type}'.`)})))}remove(e){const i=gT(e);return Promise.all(i.map(s=>this._actionQueues.enqueue(s,()=>{const r=this._getWatchdog(s);return this._watchdogs.delete(s),r.destroy()})))}destroy(){return this._actionQueues.enqueue(ed,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(ed,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=hv(this._context),Promise.all(Array.from(this._watchdogs.values()).map(i=>(i._setExcludedProperties(this._contextProps),i.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(i=>i.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const i=this._watchdogs.get(e);if(!i)throw new Error(`Item with the given id was not registered: ${e}.`);return i}_isErrorComingFromThisItem(e){for(const i of this._watchdogs.values())if(i._isErrorComingFromThisItem(e))return!1;return uO(this._context,e.context)}}class GG{constructor(){y(this,"_onEmptyCallbacks",[]);y(this,"_queues",new Map);y(this,"_activeActions",0)}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,e){const i=t===ed;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const r=(i?Promise.all(this._queues.values()):Promise.all([this._queues.get(ed),this._queues.get(t)])).then(e),o=r.catch(()=>{});return this._queues.set(t,o),r.finally(()=>{this._activeActions--,this._queues.get(t)===o&&this._activeActions===0&&this._onEmptyCallbacks.forEach(l=>l())})}}function gT(n){return Array.isArray(n)?n:[n]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class De extends jt(){constructor(e){super();y(this,"editor");y(this,"_disableStack",new Set);this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",bT,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",bT),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}function bT(n){n.return=!1,n.stop()}class Xt extends jt(){constructor(e){super();y(this,"editor");y(this,"_isEnabledBasedOnSelection");y(this,"_affectsData");y(this,"_disableStack");this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",i=>{if(!this.affectsData)return;const s=e.model.document.selection,o=!(s.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(s);(e.isReadOnly||this._isEnabledBasedOnSelection&&!o)&&(i.return=!1,i.stop())},{priority:"highest"}),this.on("execute",i=>{this.isEnabled||i.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",yT,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",yT),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function yT(n){n.return=!1,n.stop()}class fO extends Ct(){constructor(e,i=[],s=[]){super();y(this,"_context");y(this,"_plugins",new Map);y(this,"_availablePlugins");y(this,"_contextPlugins");this._context=e,this._availablePlugins=new Map;for(const r of i)r.pluginName&&this._availablePlugins.set(r.pluginName,r);this._contextPlugins=new Map;for(const[r,o]of s)this._contextPlugins.set(r,o),this._contextPlugins.set(o,r),r.pluginName&&this._availablePlugins.set(r.pluginName,r)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const i=this._plugins.get(e);if(!i){let s=e;throw typeof e=="function"&&(s=e.pluginName||e.name),new j("plugincollection-plugin-not-loaded",this._context,{plugin:s})}return i}has(e){return this._plugins.has(e)}init(e,i=[],s=[]){const r=this,o=this._context;_(e),x(e);const l=e.filter(I=>!b(I,i)),u=[...k(l)];V(u,s);const f=P(u);return R(f,"init").then(()=>R(f,"afterInit")).then(()=>f);function h(I){return typeof I=="function"}function m(I){return h(I)&&!!I.isContextPlugin}function b(I,z){return z.some(F=>F===I||w(I)===F||w(F)===I)}function w(I){return h(I)?I.pluginName||I.name:I}function _(I,z=new Set){I.forEach(F=>{h(F)&&(z.has(F)||(z.add(F),F.pluginName&&!r._availablePlugins.has(F.pluginName)&&r._availablePlugins.set(F.pluginName,F),F.requires&&_(F.requires,z)))})}function k(I,z=new Set){return I.map(F=>h(F)?F:r._availablePlugins.get(F)).reduce((F,C)=>z.has(C)?F:(z.add(C),C.requires&&(x(C.requires,C),k(C.requires,z).forEach(N=>F.add(N))),F.add(C)),new Set)}function x(I,z=null){I.map(F=>h(F)?F:r._availablePlugins.get(F)||F).forEach(F=>{A(F,z),L(F,z),E(F,z)})}function A(I,z){if(!h(I))throw z?new j("plugincollection-soft-required",o,{missingPlugin:I,requiredBy:w(z)}):new j("plugincollection-plugin-not-found",o,{plugin:I})}function L(I,z){if(m(z)&&!m(I))throw new j("plugincollection-context-required",o,{plugin:w(I),requiredBy:w(z)})}function E(I,z){if(z&&b(I,i))throw new j("plugincollection-required",o,{plugin:w(I),requiredBy:w(z)})}function P(I){return I.map(z=>{let F=r._contextPlugins.get(z);return F=F||new z(o),r._add(z,F),F})}function R(I,z){return I.reduce((F,C)=>!C[z]||r._contextPlugins.has(C)?F:F.then(C[z].bind(C)),Promise.resolve())}function V(I,z){for(const F of z){if(typeof F!="function")throw new j("plugincollection-replace-plugin-invalid-type",null,{pluginItem:F});const C=F.pluginName;if(!C)throw new j("plugincollection-replace-plugin-missing-name",null,{pluginItem:F});if(F.requires&&F.requires.length)throw new j("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:C});const N=r._availablePlugins.get(C);if(!N)throw new j("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:C});const H=I.indexOf(N);if(H===-1){if(r._contextPlugins.has(N))return;throw new j("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:C})}if(N.requires&&N.requires.length)throw new j("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:C});I.splice(H,1,F),r._availablePlugins.set(C,F)}}}destroy(){const e=[];for(const[,i]of this)typeof i.destroy=="function"&&!this._contextPlugins.has(i)&&e.push(i.destroy());return Promise.all(e)}_add(e,i){this._plugins.set(e,i);const s=e.pluginName;if(s){if(this._plugins.has(s))throw new j("plugincollection-plugin-name-conflict",null,{pluginName:s,plugin1:this._plugins.get(s).constructor,plugin2:e});this._plugins.set(s,i)}}}class zp{constructor(t){y(this,"config");y(this,"plugins");y(this,"locale");y(this,"t");y(this,"editors");y(this,"_contextOwner",null);const{translations:e,...i}=t||{};this.config=new rR(i,this.constructor.defaultConfig);const s=this.constructor.builtinPlugins;this.config.define("plugins",s),this.plugins=new fO(this,s);const r=this.config.get("language")||{};this.locale=new tj({uiLanguage:typeof r=="string"?r:r.ui,contentLanguage:this.config.get("language.content"),translations:e}),this.t=this.locale.t,this.editors=new Gs}initPlugins(){const t=this.config.get("plugins")||[],e=this.config.get("substitutePlugins")||[];for(const i of t.concat(e)){if(typeof i!="function")throw new j("context-initplugins-constructor-only",null,{Plugin:i});if(i.isContextPlugin!==!0)throw new j("context-initplugins-invalid-plugin",null,{Plugin:i})}return this.plugins.init(t,[],e)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,e){if(this._contextOwner)throw new j("context-addeditor-private-context");this.editors.add(t),e&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const e of this.config.names())["plugins","removePlugins","extraPlugins"].includes(e)||(t[e]=this.config.get(e));return t}static create(t){return new Promise(e=>{const i=new this(t);e(i.initPlugins().then(()=>i))})}}y(zp,"defaultConfig"),y(zp,"builtinPlugins");class KG extends jt(){constructor(e){super();y(this,"context");this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}class YG{constructor(){y(this,"_commands");this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const i=this.get(t);if(!i)throw new j("commandcollection-command-not-found",this,{commandName:t});return i.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class XG extends ii{constructor(e){super();y(this,"editor");this.editor=e}set(e,i,s={}){if(typeof i=="string"){const r=i;i=(o,l)=>{this.editor.execute(r),l()}}super.set(e,i,s)}}const H0="contentEditing",vT="common";class JG{constructor(t){y(this,"keystrokeInfos",new Map);y(this,"_editor");this._editor=t;const e=t.config.get("menuBar.isVisible"),i=t.locale.t;this.addKeystrokeInfoCategory({id:H0,label:i("Content editing keystrokes"),description:i("These keyboard shortcuts allow for quick access to content editing features.")});const s=[{label:i("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:i("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:i("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:i("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:i("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:i("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];e&&s.push({label:i("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:i("User interface and content navigation keystrokes"),description:i("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:s}]})}addKeystrokeInfoCategory({id:t,label:e,description:i,groups:s}){this.keystrokeInfos.set(t,{id:t,label:e,description:i,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:t,id:vT}),s&&s.forEach(r=>{this.addKeystrokeInfoGroup({categoryId:t,...r})})}addKeystrokeInfoGroup({categoryId:t=H0,id:e,label:i,keystrokes:s}){const r=this.keystrokeInfos.get(t);if(!r)throw new j("accessibility-unknown-keystroke-info-category",this._editor,{groupId:e,categoryId:t});r.groups.set(e,{id:e,label:i,keystrokes:s||[]})}addKeystrokeInfos({categoryId:t=H0,groupId:e=vT,keystrokes:i}){if(!this.keystrokeInfos.has(t))throw new j("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:t,keystrokes:i});const s=this.keystrokeInfos.get(t);if(!s.groups.has(e))throw new j("accessibility-unknown-keystroke-info-group",this._editor,{groupId:e,categoryId:t,keystrokes:i});s.groups.get(e).keystrokes.push(...i)}}function ZG(n){return{sessionId:iK(),pageSessionId:sK(),hostname:window.location.hostname,version:globalThis.CKEDITOR_VERSION,type:QG(n),plugins:eK(n.plugins),distribution:tK(),env:nK(),integration:Object.create(null),menuBar:{isVisible:!!n.config.get("menuBar.isVisible")},language:{ui:n.locale.uiLanguage,content:n.locale.contentLanguage},toolbar:{main:j0(n.config.get("toolbar")),block:j0(n.config.get("blockToolbar")),balloon:j0(n.config.get("balloonToolbar"))}}}function QG(n){return Object.getPrototypeOf(n).constructor.editorName}function eK(n){return Array.from(n).filter(([t])=>!!t.pluginName).map(([t])=>{const{pluginName:e,isContextPlugin:i,isOfficialPlugin:s,isPremiumPlugin:r}=t;return{isContext:!!i,isOfficial:!!s,isPremium:!!r,name:e}})}function j0(n){if(!n)return;const t=Array.isArray(n)?{items:n}:n,e=r(t.items||[]);return{isMultiline:e.includes("-"),shouldNotGroupWhenFull:!!t.shouldNotGroupWhenFull,items:s(e)};function s(o){return o.filter(l=>l!=="|"&&l!=="-")}function r(o){return o.flatMap(l=>typeof l=="string"?[l]:r(l.items))}}function tK(){return{channel:window[Symbol.for("cke distribution")]||"sh"}}function nK(){let n="unknown",t="unknown";return Ie.isMac?n="mac":Ie.isWindows?n="windows":Ie.isiOS?n="ios":Ie.isAndroid&&(n="android"),Ie.isGecko?t="gecko":Ie.isBlink?t="blink":Ie.isSafari&&(t="safari"),{os:n,browser:t}}function iK(){return localStorage.getItem("__ckeditor-session-id")||localStorage.setItem("__ckeditor-session-id",vi()),localStorage.getItem("__ckeditor-session-id")}function sK(){return ke.window.CKEDITOR_PAGE_SESSION_ID=ke.window.CKEDITOR_PAGE_SESSION_ID||vi(),ke.window.CKEDITOR_PAGE_SESSION_ID}class Ml extends jt(){constructor(e={}){super();y(this,"accessibility");y(this,"commands");y(this,"config");y(this,"conversion");y(this,"data");y(this,"editing");y(this,"locale");y(this,"model");y(this,"plugins");y(this,"keystrokes");y(this,"t");y(this,"_context");y(this,"_readOnlyLocks");if("sanitizeHtml"in e)throw new j("editor-config-sanitizehtml-not-supported");const i=this.constructor,{translations:s,...r}=i.defaultConfig||{},{translations:o=s,...l}=e,u=e.language||r.language;this._context=e.context||new zp({language:u,translations:o}),this._context._addEditor(this,!e.context);const f=Array.from(i.builtinPlugins||[]);this.config=new rR(l,r),this.config.define("plugins",f),this.config.define(this._context._getEditorConfig()),m(this.config),this.plugins=new fO(this,f,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new YG,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new zG,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const h=new Sj;this.data=new Xq(this.model,h),this.editing=new Tq(this.model,h),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Zq([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new XG(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new JG(this),b(this);function m(w){let _=w.get("licenseKey");if(!_&&window.CKEDITOR_GLOBAL_LICENSE_KEY&&(_=window.CKEDITOR_GLOBAL_LICENSE_KEY,w.set("licenseKey",_)),!_)throw new j("license-key-missing")}function b(w){const _=w.config.get("licenseKey"),k=window[Symbol.for("cke distribution")]||"sh";function x(C){w.enableReadOnlyMode(Symbol("invalidLicense")),w._showLicenseError(C)}function A(C){const N=C.split(".");return N.length!=3?null:N[1]}function L(C){return["exp","jti","vc"].every(H=>H in C)}function E(C){return Object.getOwnPropertyNames(C).sort().filter(G=>G!="vc"&&C[G]!=null).map(G=>C[G])}function P(C){const{hostname:N}=new URL(window.location.href);if(C.includes(N))return!0;const H=N.split(".");return C.filter(G=>G.includes("*")).map(G=>G.split(".")).filter(G=>G.length<=H.length).map(G=>Array(H.length-G.length).fill(G[0]==="*"?"*":"").concat(G)).some(G=>H.every((Y,W)=>G[W]===Y||G[W]==="*"))}function R(C){const N=C[0].toUpperCase()+C.slice(1),H=C==="evaluation"?"an":"a";console.info(`%cCKEditor 5 ${N} License`,"color: #ffffff; background: #743CCD; font-size: 14px; padding: 4px 8px; border-radius: 4px;"),console.warn(`⚠️ You are using ${H} ${C} license of CKEditor 5${C==="trial"?" which is for evaluation purposes only":""}. For production usage, please obtain a production license at https://portal.ckeditor.com/`)}if(_=="GPL"){k=="cloud"&&x("distributionChannel");return}const V=A(_);if(!V){x("invalid");return}const I=D1(V);if(!I){x("invalid");return}if(!L(I)){x("invalid");return}if(I.distributionChannel&&!Wt(I.distributionChannel).includes(k)){x("distributionChannel");return}if(oj(E(I))!=I.vc.toLowerCase()){x("invalid");return}if(new Date(I.exp*1e3)<pH){x("expired");return}const F=I.licensedHosts;if(F&&F.length>0&&!P(F)){x("domainLimit");return}if(["evaluation","trial"].includes(I.licenseType)&&I.exp*1e3<Date.now()){x("expired");return}if(["development","evaluation","trial"].includes(I.licenseType)){const{licenseType:C}=I;window.CKEDITOR_WARNING_SUPPRESSIONS=window.CKEDITOR_WARNING_SUPPRESSIONS||{},window.CKEDITOR_WARNING_SUPPRESSIONS[C]||(R(C),window.CKEDITOR_WARNING_SUPPRESSIONS[C]=!0)}if(["evaluation","trial"].includes(I.licenseType)){const C=I.licenseType,N=setTimeout(()=>{x(`${C}Limit`)},6e5);w.on("destroy",()=>{clearTimeout(N)})}I.usageEndpoint&&w.once("ready",()=>{const C={requestId:vi(),requestTime:Math.round(Date.now()/1e3),license:_,editor:rK(w)};w._sendUsageRequest(I.usageEndpoint,C).then(N=>{const{status:H,message:G}=N;G&&console.warn(G),H!="ok"&&x("usageLimit")},()=>{dH("license-key-validation-endpoint-not-reachable",{url:I.usageEndpoint})})},{priority:"high"})}}static get editorName(){return"Editor"}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new j("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new j("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new j("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,i=e.get("plugins"),s=e.get("removePlugins")||[],r=e.get("extraPlugins")||[],o=e.get("substitutePlugins")||[];return this.plugins.init(i.concat(r),s,o)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(i=>this.once("ready",i))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...i){try{return this.commands.execute(e,...i)}catch(s){/* istanbul ignore next -- @preserve */j.rethrowUnexpectedError(s,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}_showLicenseError(e,i){setTimeout(()=>{if(e=="invalid")throw new j("invalid-license-key");if(e=="expired")throw new j("license-key-expired");if(e=="domainLimit")throw new j("license-key-domain-limit");if(e=="featureNotAllowed")throw new j("license-key-plugin-not-allowed",null,{pluginName:i});if(e=="evaluationLimit")throw new j("license-key-evaluation-limit");if(e=="trialLimit")throw new j("license-key-trial-limit");if(e=="developmentLimit")throw new j("license-key-development-limit");if(e=="usageLimit")throw new j("license-key-usage-limit");if(e=="distributionChannel")throw new j("license-key-invalid-distribution-channel")},0),this._showLicenseError=()=>{}}async _sendUsageRequest(e,i){const s=new Headers({"Content-Type":"application/json"}),r=await fetch(new URL(e),{method:"POST",headers:s,body:JSON.stringify(i)});if(!r.ok)throw new Error(`HTTP Response: ${r.status}`);return r.json()}}y(Ml,"defaultConfig"),y(Ml,"builtinPlugins"),y(Ml,"Context",zp),y(Ml,"EditorWatchdog",dO),y(Ml,"ContextWatchdog",qG);function rK(n){const t=ZG(n);function e(i,s){if(vo(t,i)!==void 0)throw new j("editor-usage-data-path-already-set",{path:i});GP(t,i,s)}return n.fire("collectUsageData",{setUsageData:e}),t}function oK(n){if(!Op(n.updateSourceElement))throw new j("attachtoform-missing-elementapi-interface",n);const t=n.sourceElement;if(aK(t)&&t.form){let e;const i=t.form,s=()=>n.updateSourceElement();Op(i.submit)&&(e=i.submit,i.submit=()=>{s(),e.apply(i)}),i.addEventListener("submit",s),n.on("destroy",()=>{i.removeEventListener("submit",s),e&&(i.submit=e)})}}function aK(n){return!!n&&n.tagName.toLowerCase()==="textarea"}function pv(n){class t extends n{constructor(){super(...arguments);y(this,"sourceElement")}updateSourceElement(s){if(!this.sourceElement)throw new j("editor-missing-sourceelement",this);const r=this.config.get("updateSourceElementOnDestroy"),o=this.sourceElement instanceof HTMLTextAreaElement;if(!r&&!o){Cx(this.sourceElement,"");return}const l=typeof s=="string"?s:this.data.get();Cx(this.sourceElement,l)}}return t}pv.updateSourceElement=pv(Object).prototype.updateSourceElement;class wT extends KG{constructor(){super(...arguments);y(this,"_actions")}static get pluginName(){return"PendingActions"}static get isOfficialPlugin(){return!0}init(){this.set("hasAny",!1),this._actions=new Gs({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new j("pendingactions-add-invalid-message",this);const i=new(jt());return i.set("message",e),this._actions.add(i),this.hasAny=!0,i}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */var _T='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>',lK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',cK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',hO='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',uK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',pO='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',Y1='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',mO='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',gO='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',dK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',fK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',hK='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',pK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',Bm='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>',mK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',gK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>',bK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',yK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',vK='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>',wK='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>',_K='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>',kK='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>',CK='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>',SK='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>',xK='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>',TK='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>',EK='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>',bO='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',X1='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',AK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',PK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',RK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',OK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',Dm='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',MK=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,kT='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',IK='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',LK='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',BK=`<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.734 6.375H1.75a.75.75 0 0 1 0-1.5h1.984a2.626 2.626 0 0 1 5.032 0h9.48a.75.75 0 0 1 0 1.5h-9.48a2.626 2.626 0 0 1-5.032 0Zm1.141-.75a1.375 1.375 0 1 1 2.75 0 1.375 1.375 0 0 1-2.75 0ZM16.263 14.625h1.983a.75.75 0 0 1 0 1.5h-1.983a2.626 2.626 0 0 1-5.033 0H1.75a.75.75 0 0 1 0-1.5h9.48a2.626 2.626 0 0 1 5.033 0Zm-1.142.75a1.375 1.375 0 1 1-2.75 0 1.375 1.375 0 0 1 2.75 0Z"/></svg>
`,DK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',J1='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',NK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',CT='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',VK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',W0,ST;function yO(){return ST||(ST=1,W0={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),W0}var FK=yO();const xT=ic(FK);var TT={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function ET(n){var t,e=[],i=1,s;if(typeof n=="string")if(xT[n])e=xT[n].slice(),s="rgb";else if(n==="transparent")i=0,s="rgb",e=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(n)){var r=n.slice(1),o=r.length,l=o<=4;i=1,l?(e=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)],o===4&&(i=parseInt(r[3]+r[3],16)/255)):(e=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)],o===8&&(i=parseInt(r[6]+r[7],16)/255)),e[0]||(e[0]=0),e[1]||(e[1]=0),e[2]||(e[2]=0),s="rgb"}else if(t=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(n)){var u=t[1],f=u==="rgb",r=u.replace(/a$/,"");s=r;var o=r==="cmyk"?4:r==="gray"?1:3;e=t[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(b,w){if(/%$/.test(b))return w===o?parseFloat(b)/100:r==="rgb"?parseFloat(b)*255/100:parseFloat(b);if(r[w]==="h"){if(/deg$/.test(b))return parseFloat(b);if(TT[b]!==void 0)return TT[b]}return parseFloat(b)}),u===r&&e.push(1),i=f||e[o]===void 0?1:e[o],e=e.slice(0,o)}else n.length>10&&/[0-9](?:\s|\/)/.test(n)&&(e=n.match(/([0-9]+)/g).map(function(h){return parseFloat(h)}),s=n.match(/([a-z])/ig).join("").toLowerCase());else isNaN(n)?Array.isArray(n)||n.length?(e=[n[0],n[1],n[2]],s="rgb",i=n.length===4?n[3]:1):n instanceof Object&&(n.r!=null||n.red!=null||n.R!=null?(s="rgb",e=[n.r||n.red||n.R||0,n.g||n.green||n.G||0,n.b||n.blue||n.B||0]):(s="hsl",e=[n.h||n.hue||n.H||0,n.s||n.saturation||n.S||0,n.l||n.lightness||n.L||n.b||n.brightness]),i=n.a||n.alpha||n.opacity||1,n.opacity!=null&&(i/=100)):(s="rgb",e=[n>>>16,(n&65280)>>>8,n&255]);return{space:s,values:e,alpha:i}}var q0,AT;function vO(){if(AT)return q0;AT=1;const n=yO(),t={};for(const s of Object.keys(n))t[n[s]]=s;const e={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};q0=e;for(const s of Object.keys(e)){if(!("channels"in e[s]))throw new Error("missing channels property: "+s);if(!("labels"in e[s]))throw new Error("missing channel labels property: "+s);if(e[s].labels.length!==e[s].channels)throw new Error("channel and label counts mismatch: "+s);const{channels:r,labels:o}=e[s];delete e[s].channels,delete e[s].labels,Object.defineProperty(e[s],"channels",{value:r}),Object.defineProperty(e[s],"labels",{value:o})}e.rgb.hsl=function(s){const r=s[0]/255,o=s[1]/255,l=s[2]/255,u=Math.min(r,o,l),f=Math.max(r,o,l),h=f-u;let m,b;f===u?m=0:r===f?m=(o-l)/h:o===f?m=2+(l-r)/h:l===f&&(m=4+(r-o)/h),m=Math.min(m*60,360),m<0&&(m+=360);const w=(u+f)/2;return f===u?b=0:w<=.5?b=h/(f+u):b=h/(2-f-u),[m,b*100,w*100]},e.rgb.hsv=function(s){let r,o,l,u,f;const h=s[0]/255,m=s[1]/255,b=s[2]/255,w=Math.max(h,m,b),_=w-Math.min(h,m,b),k=function(x){return(w-x)/6/_+1/2};return _===0?(u=0,f=0):(f=_/w,r=k(h),o=k(m),l=k(b),h===w?u=l-o:m===w?u=1/3+r-l:b===w&&(u=2/3+o-r),u<0?u+=1:u>1&&(u-=1)),[u*360,f*100,w*100]},e.rgb.hwb=function(s){const r=s[0],o=s[1];let l=s[2];const u=e.rgb.hsl(s)[0],f=1/255*Math.min(r,Math.min(o,l));return l=1-1/255*Math.max(r,Math.max(o,l)),[u,f*100,l*100]},e.rgb.cmyk=function(s){const r=s[0]/255,o=s[1]/255,l=s[2]/255,u=Math.min(1-r,1-o,1-l),f=(1-r-u)/(1-u)||0,h=(1-o-u)/(1-u)||0,m=(1-l-u)/(1-u)||0;return[f*100,h*100,m*100,u*100]};function i(s,r){return(s[0]-r[0])**2+(s[1]-r[1])**2+(s[2]-r[2])**2}return e.rgb.keyword=function(s){const r=t[s];if(r)return r;let o=1/0,l;for(const u of Object.keys(n)){const f=n[u],h=i(s,f);h<o&&(o=h,l=u)}return l},e.keyword.rgb=function(s){return n[s]},e.rgb.xyz=function(s){let r=s[0]/255,o=s[1]/255,l=s[2]/255;r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92,l=l>.04045?((l+.055)/1.055)**2.4:l/12.92;const u=r*.4124+o*.3576+l*.1805,f=r*.2126+o*.7152+l*.0722,h=r*.0193+o*.1192+l*.9505;return[u*100,f*100,h*100]},e.rgb.lab=function(s){const r=e.rgb.xyz(s);let o=r[0],l=r[1],u=r[2];o/=95.047,l/=100,u/=108.883,o=o>.008856?o**(1/3):7.787*o+16/116,l=l>.008856?l**(1/3):7.787*l+16/116,u=u>.008856?u**(1/3):7.787*u+16/116;const f=116*l-16,h=500*(o-l),m=200*(l-u);return[f,h,m]},e.hsl.rgb=function(s){const r=s[0]/360,o=s[1]/100,l=s[2]/100;let u,f,h;if(o===0)return h=l*255,[h,h,h];l<.5?u=l*(1+o):u=l+o-l*o;const m=2*l-u,b=[0,0,0];for(let w=0;w<3;w++)f=r+1/3*-(w-1),f<0&&f++,f>1&&f--,6*f<1?h=m+(u-m)*6*f:2*f<1?h=u:3*f<2?h=m+(u-m)*(2/3-f)*6:h=m,b[w]=h*255;return b},e.hsl.hsv=function(s){const r=s[0];let o=s[1]/100,l=s[2]/100,u=o;const f=Math.max(l,.01);l*=2,o*=l<=1?l:2-l,u*=f<=1?f:2-f;const h=(l+o)/2,m=l===0?2*u/(f+u):2*o/(l+o);return[r,m*100,h*100]},e.hsv.rgb=function(s){const r=s[0]/60,o=s[1]/100;let l=s[2]/100;const u=Math.floor(r)%6,f=r-Math.floor(r),h=255*l*(1-o),m=255*l*(1-o*f),b=255*l*(1-o*(1-f));switch(l*=255,u){case 0:return[l,b,h];case 1:return[m,l,h];case 2:return[h,l,b];case 3:return[h,m,l];case 4:return[b,h,l];case 5:return[l,h,m]}},e.hsv.hsl=function(s){const r=s[0],o=s[1]/100,l=s[2]/100,u=Math.max(l,.01);let f,h;h=(2-o)*l;const m=(2-o)*u;return f=o*u,f/=m<=1?m:2-m,f=f||0,h/=2,[r,f*100,h*100]},e.hwb.rgb=function(s){const r=s[0]/360;let o=s[1]/100,l=s[2]/100;const u=o+l;let f;u>1&&(o/=u,l/=u);const h=Math.floor(6*r),m=1-l;f=6*r-h,(h&1)!==0&&(f=1-f);const b=o+f*(m-o);let w,_,k;switch(h){default:case 6:case 0:w=m,_=b,k=o;break;case 1:w=b,_=m,k=o;break;case 2:w=o,_=m,k=b;break;case 3:w=o,_=b,k=m;break;case 4:w=b,_=o,k=m;break;case 5:w=m,_=o,k=b;break}return[w*255,_*255,k*255]},e.cmyk.rgb=function(s){const r=s[0]/100,o=s[1]/100,l=s[2]/100,u=s[3]/100,f=1-Math.min(1,r*(1-u)+u),h=1-Math.min(1,o*(1-u)+u),m=1-Math.min(1,l*(1-u)+u);return[f*255,h*255,m*255]},e.xyz.rgb=function(s){const r=s[0]/100,o=s[1]/100,l=s[2]/100;let u,f,h;return u=r*3.2406+o*-1.5372+l*-.4986,f=r*-.9689+o*1.8758+l*.0415,h=r*.0557+o*-.204+l*1.057,u=u>.0031308?1.055*u**(1/2.4)-.055:u*12.92,f=f>.0031308?1.055*f**(1/2.4)-.055:f*12.92,h=h>.0031308?1.055*h**(1/2.4)-.055:h*12.92,u=Math.min(Math.max(0,u),1),f=Math.min(Math.max(0,f),1),h=Math.min(Math.max(0,h),1),[u*255,f*255,h*255]},e.xyz.lab=function(s){let r=s[0],o=s[1],l=s[2];r/=95.047,o/=100,l/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,l=l>.008856?l**(1/3):7.787*l+16/116;const u=116*o-16,f=500*(r-o),h=200*(o-l);return[u,f,h]},e.lab.xyz=function(s){const r=s[0],o=s[1],l=s[2];let u,f,h;f=(r+16)/116,u=o/500+f,h=f-l/200;const m=f**3,b=u**3,w=h**3;return f=m>.008856?m:(f-16/116)/7.787,u=b>.008856?b:(u-16/116)/7.787,h=w>.008856?w:(h-16/116)/7.787,u*=95.047,f*=100,h*=108.883,[u,f,h]},e.lab.lch=function(s){const r=s[0],o=s[1],l=s[2];let u;u=Math.atan2(l,o)*360/2/Math.PI,u<0&&(u+=360);const h=Math.sqrt(o*o+l*l);return[r,h,u]},e.lch.lab=function(s){const r=s[0],o=s[1],u=s[2]/360*2*Math.PI,f=o*Math.cos(u),h=o*Math.sin(u);return[r,f,h]},e.rgb.ansi16=function(s,r=null){const[o,l,u]=s;let f=r===null?e.rgb.hsv(s)[2]:r;if(f=Math.round(f/50),f===0)return 30;let h=30+(Math.round(u/255)<<2|Math.round(l/255)<<1|Math.round(o/255));return f===2&&(h+=60),h},e.hsv.ansi16=function(s){return e.rgb.ansi16(e.hsv.rgb(s),s[2])},e.rgb.ansi256=function(s){const r=s[0],o=s[1],l=s[2];return r===o&&o===l?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(o/255*5)+Math.round(l/255*5)},e.ansi16.rgb=function(s){let r=s%10;if(r===0||r===7)return s>50&&(r+=3.5),r=r/10.5*255,[r,r,r];const o=(~~(s>50)+1)*.5,l=(r&1)*o*255,u=(r>>1&1)*o*255,f=(r>>2&1)*o*255;return[l,u,f]},e.ansi256.rgb=function(s){if(s>=232){const f=(s-232)*10+8;return[f,f,f]}s-=16;let r;const o=Math.floor(s/36)/5*255,l=Math.floor((r=s%36)/6)/5*255,u=r%6/5*255;return[o,l,u]},e.rgb.hex=function(s){const o=(((Math.round(s[0])&255)<<16)+((Math.round(s[1])&255)<<8)+(Math.round(s[2])&255)).toString(16).toUpperCase();return"000000".substring(o.length)+o},e.hex.rgb=function(s){const r=s.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!r)return[0,0,0];let o=r[0];r[0].length===3&&(o=o.split("").map(m=>m+m).join(""));const l=parseInt(o,16),u=l>>16&255,f=l>>8&255,h=l&255;return[u,f,h]},e.rgb.hcg=function(s){const r=s[0]/255,o=s[1]/255,l=s[2]/255,u=Math.max(Math.max(r,o),l),f=Math.min(Math.min(r,o),l),h=u-f;let m,b;return h<1?m=f/(1-h):m=0,h<=0?b=0:u===r?b=(o-l)/h%6:u===o?b=2+(l-r)/h:b=4+(r-o)/h,b/=6,b%=1,[b*360,h*100,m*100]},e.hsl.hcg=function(s){const r=s[1]/100,o=s[2]/100,l=o<.5?2*r*o:2*r*(1-o);let u=0;return l<1&&(u=(o-.5*l)/(1-l)),[s[0],l*100,u*100]},e.hsv.hcg=function(s){const r=s[1]/100,o=s[2]/100,l=r*o;let u=0;return l<1&&(u=(o-l)/(1-l)),[s[0],l*100,u*100]},e.hcg.rgb=function(s){const r=s[0]/360,o=s[1]/100,l=s[2]/100;if(o===0)return[l*255,l*255,l*255];const u=[0,0,0],f=r%1*6,h=f%1,m=1-h;let b=0;switch(Math.floor(f)){case 0:u[0]=1,u[1]=h,u[2]=0;break;case 1:u[0]=m,u[1]=1,u[2]=0;break;case 2:u[0]=0,u[1]=1,u[2]=h;break;case 3:u[0]=0,u[1]=m,u[2]=1;break;case 4:u[0]=h,u[1]=0,u[2]=1;break;default:u[0]=1,u[1]=0,u[2]=m}return b=(1-o)*l,[(o*u[0]+b)*255,(o*u[1]+b)*255,(o*u[2]+b)*255]},e.hcg.hsv=function(s){const r=s[1]/100,o=s[2]/100,l=r+o*(1-r);let u=0;return l>0&&(u=r/l),[s[0],u*100,l*100]},e.hcg.hsl=function(s){const r=s[1]/100,l=s[2]/100*(1-r)+.5*r;let u=0;return l>0&&l<.5?u=r/(2*l):l>=.5&&l<1&&(u=r/(2*(1-l))),[s[0],u*100,l*100]},e.hcg.hwb=function(s){const r=s[1]/100,o=s[2]/100,l=r+o*(1-r);return[s[0],(l-r)*100,(1-l)*100]},e.hwb.hcg=function(s){const r=s[1]/100,l=1-s[2]/100,u=l-r;let f=0;return u<1&&(f=(l-u)/(1-u)),[s[0],u*100,f*100]},e.apple.rgb=function(s){return[s[0]/65535*255,s[1]/65535*255,s[2]/65535*255]},e.rgb.apple=function(s){return[s[0]/255*65535,s[1]/255*65535,s[2]/255*65535]},e.gray.rgb=function(s){return[s[0]/100*255,s[0]/100*255,s[0]/100*255]},e.gray.hsl=function(s){return[0,0,s[0]]},e.gray.hsv=e.gray.hsl,e.gray.hwb=function(s){return[0,100,s[0]]},e.gray.cmyk=function(s){return[0,0,0,s[0]]},e.gray.lab=function(s){return[s[0],0,0]},e.gray.hex=function(s){const r=Math.round(s[0]/100*255)&255,l=((r<<16)+(r<<8)+r).toString(16).toUpperCase();return"000000".substring(l.length)+l},e.rgb.gray=function(s){return[(s[0]+s[1]+s[2])/3/255*100]},q0}var G0,PT;function zK(){if(PT)return G0;PT=1;const n=vO();function t(){const r={},o=Object.keys(n);for(let l=o.length,u=0;u<l;u++)r[o[u]]={distance:-1,parent:null};return r}function e(r){const o=t(),l=[r];for(o[r].distance=0;l.length;){const u=l.pop(),f=Object.keys(n[u]);for(let h=f.length,m=0;m<h;m++){const b=f[m],w=o[b];w.distance===-1&&(w.distance=o[u].distance+1,w.parent=u,l.unshift(b))}}return o}function i(r,o){return function(l){return o(r(l))}}function s(r,o){const l=[o[r].parent,r];let u=n[o[r].parent][r],f=o[r].parent;for(;o[f].parent;)l.unshift(o[f].parent),u=i(n[o[f].parent][f],u),f=o[f].parent;return u.conversion=l,u}return G0=function(r){const o=e(r),l={},u=Object.keys(o);for(let f=u.length,h=0;h<f;h++){const m=u[h];o[m].parent!==null&&(l[m]=s(m,o))}return l},G0}var K0,RT;function UK(){if(RT)return K0;RT=1;const n=vO(),t=zK(),e={},i=Object.keys(n);function s(o){const l=function(...u){const f=u[0];return f==null?f:(f.length>1&&(u=f),o(u))};return"conversion"in o&&(l.conversion=o.conversion),l}function r(o){const l=function(...u){const f=u[0];if(f==null)return f;f.length>1&&(u=f);const h=o(u);if(typeof h=="object")for(let m=h.length,b=0;b<m;b++)h[b]=Math.round(h[b]);return h};return"conversion"in o&&(l.conversion=o.conversion),l}return i.forEach(o=>{e[o]={},Object.defineProperty(e[o],"channels",{value:n[o].channels}),Object.defineProperty(e[o],"labels",{value:n[o].labels});const l=t(o);Object.keys(l).forEach(f=>{const h=l[f];e[o][f]=r(h),e[o][f].raw=s(h)})}),K0=e,K0}var wO=UK();const $K=ic(wO),_O=YE({__proto__:null,default:$K},[wO]),Ad=(n,t=0,e=1)=>n>e?e:n<t?t:n,Un=(n,t=0,e=Math.pow(10,t))=>Math.round(e*n)/e,HK=n=>KK(mv(n)),mv=n=>(n[0]==="#"&&(n=n.substring(1)),n.length<6?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Un(parseInt(n[3]+n[3],16)/255,2):1}:{r:parseInt(n.substring(0,2),16),g:parseInt(n.substring(2,4),16),b:parseInt(n.substring(4,6),16),a:n.length===8?Un(parseInt(n.substring(6,8),16)/255,2):1}),jK=n=>GK(qK(n)),WK=({h:n,s:t,v:e,a:i})=>{const s=(200-t)*e/100;return{h:Un(n),s:Un(s>0&&s<200?t*e/100/(s<=100?s:200-s)*100:0),l:Un(s/2),a:Un(i,2)}},gv=n=>{const{h:t,s:e,l:i}=WK(n);return`hsl(${t}, ${e}%, ${i}%)`},qK=({h:n,s:t,v:e,a:i})=>{n=n/360*6,t=t/100,e=e/100;const s=Math.floor(n),r=e*(1-t),o=e*(1-(n-s)*t),l=e*(1-(1-n+s)*t),u=s%6;return{r:Un([e,o,r,r,l,e][u]*255),g:Un([l,e,e,o,r,r][u]*255),b:Un([r,r,l,e,e,o][u]*255),a:Un(i,2)}},Mh=n=>{const t=n.toString(16);return t.length<2?"0"+t:t},GK=({r:n,g:t,b:e,a:i})=>{const s=i<1?Mh(Un(i*255)):"";return"#"+Mh(n)+Mh(t)+Mh(e)+s},KK=({r:n,g:t,b:e,a:i})=>{const s=Math.max(n,t,e),r=s-Math.min(n,t,e),o=r?s===n?(t-e)/r:s===t?2+(e-n)/r:4+(n-t)/r:0;return{h:Un(60*(o<0?o+6:o)),s:Un(s?r/s*100:0),v:Un(s/255*100),a:i}},kO=(n,t)=>{if(n===t)return!0;for(const e in n)if(n[e]!==t[e])return!1;return!0},YK=(n,t)=>n.toLowerCase()===t.toLowerCase()?!0:kO(mv(n),mv(t)),OT={},CO=n=>{let t=OT[n];return t||(t=document.createElement("template"),t.innerHTML=n,OT[n]=t),t},Z1=(n,t,e)=>{n.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:e}))};let $l=!1;const bv=n=>"touches"in n,XK=n=>$l&&!bv(n)?!1:($l||($l=bv(n)),!0),MT=(n,t)=>{const e=bv(t)?t.touches[0]:t,i=n.el.getBoundingClientRect();Z1(n.el,"move",n.getMove({x:Ad((e.pageX-(i.left+window.pageXOffset))/i.width),y:Ad((e.pageY-(i.top+window.pageYOffset))/i.height)}))},JK=(n,t)=>{const e=t.keyCode;e>40||n.xy&&e<37||e<33||(t.preventDefault(),Z1(n.el,"move",n.getMove({x:e===39?.01:e===37?-.01:e===34?.05:e===33?-.05:e===35?1:e===36?-1:0,y:e===40?.01:e===38?-.01:0},!0)))};class SO{constructor(t,e,i,s){const r=CO(`<div role="slider" tabindex="0" part="${e}" ${i}><div part="${e}-pointer"></div></div>`);t.appendChild(r.content.cloneNode(!0));const o=t.querySelector(`[part=${e}]`);o.addEventListener("mousedown",this),o.addEventListener("touchstart",this),o.addEventListener("keydown",this),this.el=o,this.xy=s,this.nodes=[o.firstChild,o]}set dragging(t){const e=t?document.addEventListener:document.removeEventListener;e($l?"touchmove":"mousemove",this),e($l?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!XK(t)||!$l&&t.button!=0)return;this.el.focus(),MT(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),MT(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":JK(this,t);break}}style(t){t.forEach((e,i)=>{for(const s in e)this.nodes[i].style.setProperty(s,e[s])})}}class ZK extends SO{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:`${t/360*100}%`,color:gv({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${Un(t)}`)}getMove(t,e){return{h:e?Ad(this.h+t.x*360,0,360):360*t.x}}}class QK extends SO{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:`${100-t.v}%`,left:`${t.s}%`,color:gv(t)},{"background-color":gv({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${Un(t.s)}%, Brightness ${Un(t.v)}%`)}getMove(t,e){return{s:e?Ad(this.hsva.s+t.x*100,0,100):t.x*100,v:e?Ad(this.hsva.v-t.y*100,0,100):Math.round(100-t.y*100)}}}const eY=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',tY="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",nY="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",Ih=Symbol("same"),Y0=Symbol("color"),IT=Symbol("hsva"),X0=Symbol("update"),LT=Symbol("parts"),BT=Symbol("css"),DT=Symbol("sliders");class iY extends HTMLElement{static get observedAttributes(){return["color"]}get[BT](){return[eY,tY,nY]}get[DT](){return[QK,ZK]}get color(){return this[Y0]}set color(t){if(!this[Ih](t)){const e=this.colorModel.toHsva(t);this[X0](e),this[Y0]=t}}constructor(){super();const t=CO(`<style>${this[BT].join("")}</style>`),e=this.attachShadow({mode:"open"});e.appendChild(t.content.cloneNode(!0)),e.addEventListener("move",this),this[LT]=this[DT].map(i=>new i(e))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,e,i){const s=this.colorModel.fromAttr(i);this[Ih](s)||(this.color=s)}handleEvent(t){const e=this[IT],i={...e,...t.detail};this[X0](i);let s;!kO(i,e)&&!this[Ih](s=this.colorModel.fromHsva(i))&&(this[Y0]=s,Z1(this,"color-changed",{value:s}))}[Ih](t){return this.color&&this.colorModel.equal(t,this.color)}[X0](t){this[IT]=t,this[LT].forEach(e=>e.update(t))}}const sY={defaultColor:"#000",toHsva:HK,fromHsva:({h:n,s:t,v:e})=>jK({h:n,s:t,v:e,a:1}),equal:YK,fromAttr:n=>n};class rY extends iY{get colorModel(){return sY}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class ds extends Gs{constructor(e=[]){super(e,{idProperty:"viewUid"});y(this,"_parentElement");this.on("add",(i,s,r)=>{this._renderViewIntoCollectionParent(s,r)}),this.on("remove",(i,s)=>{s.element&&this._parentElement&&s.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const i of this)this._renderViewIntoCollectionParent(i)}delegate(...e){if(!e.length||!oY(e))throw new j("ui-viewcollection-delegate-wrong-events",this);return{to:i=>{for(const s of this)for(const r of e)s.delegate(r).to(i);this.on("add",(s,r)=>{for(const o of e)r.delegate(o).to(i)}),this.on("remove",(s,r)=>{for(const o of e)r.stopDelegating(o,i)})}}}_renderViewIntoCollectionParent(e,i){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[i])}remove(e){return super.remove(e)}}function oY(n){return n.every(t=>typeof t=="string")}const aY="http://www.w3.org/1999/xhtml";let rs=class extends Ct(){constructor(e){super();y(this,"ns");y(this,"tag");y(this,"text");y(this,"attributes");y(this,"children");y(this,"eventListeners");y(this,"_isRendered");y(this,"_revertData");Object.assign(this,VT(NT(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=UT(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new j("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(i){if(i.children)for(const s of i.children)Up(s)?yield s:Q1(s)&&(yield*e(s))}yield*e(this)}static bind(e,i){return{to(s,r){return new lY({eventNameOrFunction:s,attribute:s,observable:e,emitter:i,callback:r})},if(s,r,o){return new xO({observable:e,emitter:i,attribute:s,valueIfTrue:r,callback:o})}}}static extend(e,i){if(e._isRendered)throw new j("template-extend-render",[this,e]);PO(e,VT(NT(i)))}_renderNode(e){let i;if(e.node?i=this.tag&&this.text:i=this.tag?this.text:!this.text,i)throw new j("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let i=e.node;return i||(i=e.node=document.createElementNS(this.ns||aY,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),i}_renderText(e){let i=e.node;return i?e.revertData.text=i.textContent:i=e.node=document.createTextNode(""),ip(this.text)?this._bindToObservable({schema:this.text,updater:uY(i),data:e}):i.textContent=this.text.join(""),i}_renderAttributes(e){if(!this.attributes)return;const i=e.node,s=e.revertData;for(const r in this.attributes){const o=i.getAttribute(r),l=this.attributes[r];s&&(s.attributes[r]=o);const u=zT(l)?l[0].ns:null;if(ip(l)){const f=zT(l)?l[0].value:l;s&&$T(r)&&f.unshift(o),this._bindToObservable({schema:f,updater:dY(i,r,u),data:e})}else if(r=="style"&&typeof l[0]!="string")this._renderStyleAttribute(l[0],e);else{s&&o&&$T(r)&&l.unshift(o);const f=l.map(h=>h&&(h.value||h)).reduce((h,m)=>h.concat(m),[]).reduce(AO,"");Ql(f)||i.setAttributeNS(u,r,f)}}}_renderStyleAttribute(e,i){const s=i.node;for(const r in e){const o=e[r];ip(o)?this._bindToObservable({schema:[o],updater:fY(s,r),data:i}):s.style[r]=o}}_renderElementChildren(e){const i=e.node,s=e.intoFragment?document.createDocumentFragment():i,r=e.isApplying;let o=0;for(const l of this.children)if(ew(l)){if(!r){l.setParent(i);for(const u of l)s.appendChild(u.element)}}else if(Up(l))r||(l.isRendered||l.render(),s.appendChild(l.element));else if(_o(l))s.appendChild(l);else if(r){const u=e.revertData,f=UT();u.children.push(f),l._renderNode({intoFragment:!1,node:s.childNodes[o++],isApplying:!0,revertData:f})}else s.appendChild(l.render());e.intoFragment&&i.appendChild(s)}_setUpListeners(e){if(this.eventListeners)for(const i in this.eventListeners){const s=this.eventListeners[i].map(r=>{const[o,l]=i.split("@");return r.activateDomEventListener(o,l,e)});e.revertData&&e.revertData.bindings.push(s)}}_bindToObservable({schema:e,updater:i,data:s}){const r=s.revertData;TO(e,i,s);const o=e.filter(l=>!Ql(l)).filter(l=>l.observable).map(l=>l.activateAttributeListener(e,i,s));r&&r.bindings.push(o)}_revertTemplateFromNode(e,i){for(const r of i.bindings)for(const o of r)o();if(i.text){e.textContent=i.text;return}const s=e;for(const r in i.attributes){const o=i.attributes[r];o===null?s.removeAttribute(r):s.setAttribute(r,o)}for(let r=0;r<i.children.length;++r)this._revertTemplateFromNode(s.childNodes[r],i.children[r])}};class Kd{constructor(t){y(this,"attribute");y(this,"observable");y(this,"emitter");y(this,"callback");this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,i){const s=()=>TO(t,e,i);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,s),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,s)}}}class lY extends Kd{constructor(e){super(e);y(this,"eventNameOrFunction");this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,i,s){const r=(o,l)=>{(!i||l.target.matches(i))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(l):this.observable.fire(this.eventNameOrFunction,l))};return this.emitter.listenTo(s.node,e,r),()=>{this.emitter.stopListening(s.node,e,r)}}}class xO extends Kd{constructor(e){super(e);y(this,"valueIfTrue");this.valueIfTrue=e.valueIfTrue}getValue(e){const i=super.getValue(e);return Ql(i)?!1:this.valueIfTrue||!0}}function ip(n){return n?(n.value&&(n=n.value),Array.isArray(n)?n.some(ip):n instanceof Kd):!1}function cY(n,t){return n.map(e=>e instanceof Kd?e.getValue(t):e)}function TO(n,t,{node:e}){const i=cY(n,e);let s;n.length==1&&n[0]instanceof xO?s=i[0]:s=i.reduce(AO,""),Ql(s)?t.remove():t.set(s)}function uY(n){return{set(t){n.textContent=t},remove(){n.textContent=""}}}function dY(n,t,e){return{set(i){n.setAttributeNS(e,t,i)},remove(){n.removeAttributeNS(e,t)}}}function fY(n,t){return{set(e){n.style[t]=e},remove(){n.style[t]=null}}}function NT(n){return Rm(n,e=>{if(e&&(e instanceof Kd||Q1(e)||Up(e)||ew(e)))return e})}function VT(n){if(typeof n=="string"?n=mY(n):n.text&&gY(n),n.on&&(n.eventListeners=pY(n.on),delete n.on),!n.text){n.attributes&&hY(n.attributes);const t=[];if(n.children)if(ew(n.children))t.push(n.children);else for(const e of n.children)Q1(e)||Up(e)||_o(e)?t.push(e):t.push(new rs(e));n.children=t}return n}function hY(n){for(const t in n)n[t].value&&(n[t].value=Wt(n[t].value)),EO(n,t)}function pY(n){for(const t in n)EO(n,t);return n}function mY(n){return{text:[n]}}function gY(n){n.text=Wt(n.text)}function EO(n,t){n[t]=Wt(n[t])}function AO(n,t){return Ql(t)?n:Ql(n)?t:`${n} ${t}`}function FT(n,t){for(const e in t)n[e]?n[e].push(...t[e]):n[e]=t[e]}function PO(n,t){if(t.attributes&&(n.attributes||(n.attributes={}),FT(n.attributes,t.attributes)),t.eventListeners&&(n.eventListeners||(n.eventListeners={}),FT(n.eventListeners,t.eventListeners)),t.text&&n.text.push(...t.text),t.children&&t.children.length){if(n.children.length!=t.children.length)throw new j("ui-template-extend-children-mismatch",n);let e=0;for(const i of t.children)PO(n.children[e++],i)}}function Ql(n){return!n&&n!==0}function Up(n){return n instanceof Te}function Q1(n){return n instanceof rs}function ew(n){return n instanceof ds}function zT(n){return xr(n[0])&&n[0].ns}function UT(){return{children:[],bindings:[],attributes:{}}}function $T(n){return n=="class"||n=="style"}class Te extends wi(jt()){constructor(e){super();y(this,"element");y(this,"isRendered");y(this,"locale");y(this,"t");y(this,"template");y(this,"_viewCollections");y(this,"_unboundChildren");y(this,"_bindTemplate");this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Gs,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(i,s)=>{s.locale=e,s.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=rs.bind(this,this)}createCollection(e){const i=new ds(e);return this._viewCollections.add(i),i}registerChild(e){Fi(e)||(e=[e]);for(const i of e)this._unboundChildren.add(i)}deregisterChild(e){Fi(e)||(e=[e]);for(const i of e)this._unboundChildren.remove(i)}setTemplate(e){this.template=new rs(e)}extendTemplate(e){rs.extend(this.template,e)}render(){if(this.isRendered)throw new j("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function tw({emitter:n,activator:t,callback:e,contextElements:i,listenerOptions:s}){n.listenTo(document,"mousedown",(r,o)=>{if(!t())return;const l=typeof o.composedPath=="function"?o.composedPath():[],u=typeof i=="function"?i():i;for(const f of u)if(f.contains(o.target)||l.includes(f))return;e()},s)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function HT(n){class t extends n{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...i){super(...i),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function bY({view:n}){n.listenTo(n.element,"submit",(t,e)=>{e.preventDefault(),n.fire("submit")},{useCapture:!0})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function RO({keystrokeHandler:n,focusTracker:t,gridItems:e,numberOfColumns:i,uiLanguageDirection:s}){const r=typeof i=="number"?()=>i:i;n.set("arrowright",o((f,h)=>s==="rtl"?u(f,h.length):l(f,h.length))),n.set("arrowleft",o((f,h)=>s==="rtl"?l(f,h.length):u(f,h.length))),n.set("arrowup",o((f,h)=>{let m=f-r();return m<0&&(m=f+r()*Math.floor(h.length/r()),m>h.length-1&&(m-=r())),m})),n.set("arrowdown",o((f,h)=>{let m=f+r();return m>h.length-1&&(m=f%r()),m}));function o(f){return h=>{const m=e.find(_=>_.element===t.focusedElement),b=e.getIndex(m),w=f(b,e);e.get(w).focus(),h.stopPropagation(),h.preventDefault()}}function l(f,h){return f===h-1?0:f+1}function u(f,h){return f===0?h-1:f-1}}const qp=class qp extends Te{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",t.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox:t.to("viewBox"),"aria-hidden":!0}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg");if(!e)throw new j("ui-iconview-invalid-svg",this);const i=e.getAttribute("viewBox");i&&(this.viewBox=i);for(const{name:s,value:r}of Array.from(e.attributes))qp.presentationalAttributeNames.includes(s)&&this.element.setAttribute(s,r);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}};y(qp,"presentationalAttributeNames",["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"]);let qs=qp;class OO extends Te{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const t=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:t.to("style"),id:t.to("id")},children:[{text:t.to("text")}]})}}class ct extends Te{constructor(e,i=new OO){super(e);y(this,"children");y(this,"labelView");y(this,"iconView");y(this,"keystrokeView");y(this,"_focusDelayed",null);const s=this.bindTemplate,r=vi();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${r}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(i),this.iconView=new qs,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.iconView.bind("content").to(this,"icon"),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const o={tag:"button",attributes:{class:["ck","ck-button",s.to("class"),s.if("isEnabled","ck-disabled",l=>!l),s.if("isVisible","ck-hidden",l=>!l),s.to("isOn",l=>l?"ck-on":"ck-off"),s.if("withText","ck-button_with-text"),s.if("withKeystroke","ck-button_with-keystroke")],role:s.to("role"),type:s.to("type",l=>l||"button"),tabindex:s.to("tabindex"),"aria-checked":s.to("_ariaChecked"),"aria-pressed":s.to("_ariaPressed"),"aria-label":s.to("ariaLabel"),"aria-labelledby":s.to("ariaLabelledBy"),"aria-disabled":s.if("isEnabled",!0,l=>!l),"data-cke-tooltip-text":s.to("_tooltipString"),"data-cke-tooltip-position":s.to("tooltipPosition")},children:this.children,on:{click:s.to(l=>{this.isEnabled?this.fire("execute"):l.preventDefault()})}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",(l,u,f)=>!u||jT(f)?!1:String(!!l)),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",(l,u,f)=>!u||!jT(f)?!1:String(!!l)),Ie.isSafari&&(this._focusDelayed||(this._focusDelayed=B1(()=>this.focus(),0)),o.on.mousedown=s.to(()=>{this._focusDelayed()}),o.on.mouseup=s.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(o)}render(){super.render(),this.icon&&this.children.add(this.iconView),this.on("change:icon",(e,i,s,r)=>{s&&!r?this.children.add(this.iconView,0):!s&&r&&this.children.remove(this.iconView)}),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new Te;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",i=>Bp(i))}]}),e}_getTooltipString(e,i,s){return e?typeof e=="string"?e:(s&&(s=Bp(s)),e instanceof Function?e(i,s):`${i}${s?` (${s})`:""}`):""}}function jT(n){switch(n){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}class Nm extends Te{constructor(e,i={}){super(e);y(this,"children");y(this,"iconView");const s=this.bindTemplate;this.set("label",i.label||""),this.set("class",i.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",s.to("class")]},children:this.children}),i.icon&&(this.iconView=new qs,this.iconView.content=i.icon,this.children.add(this.iconView));const r=new Te(e);r.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:s.to("label")}]}),this.children.add(r)}}class Ys extends Ct(){constructor(e){super();y(this,"focusables");y(this,"focusTracker");y(this,"keystrokeHandler");y(this,"actions");if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const i in e.actions){let s=e.actions[i];typeof s=="string"&&(s=[s]);for(const r of s)e.keystrokeHandler.set(r,(o,l)=>{this[i](),l()},e.keystrokeHandlerOptions)}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(J0)||null}get last(){return this.focusables.filter(J0).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((i,s)=>{const r=i.element===this.focusTracker.focusedElement;return r&&(e=s),r}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;if(e&&this.focusables.getIndex(e)===this.current){this.fire("forwardCycle");return}e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;if(e&&this.focusables.getIndex(e)===this.current){this.fire("backwardCycle");return}e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}chain(e){const i=()=>this.current===null?null:this.focusables.get(this.current);this.listenTo(e,"forwardCycle",s=>{const r=i();this.focusNext(),r!==i()&&s.stop()},{priority:"low"}),this.listenTo(e,"backwardCycle",s=>{const r=i();this.focusPrevious(),r!==i()&&s.stop()},{priority:"low"})}unchain(e){this.stopListening(e)}_focus(e,i){e&&this.focusTracker.focusedElement!==e.element&&e.focus(i)}_getDomFocusableItem(e){const i=this.focusables.length;if(!i)return null;const s=this.current;if(s===null)return this[e===1?"first":"last"];let r=this.focusables.get(s),o=(s+i+e)%i;do{const l=this.focusables.get(o);if(J0(l)){r=l;break}o=(o+i+e)%i}while(o!==s);return r}}function J0(n){return Yd(n)&&Ar(n.element)}function Yd(n){return"focus"in n&&typeof n.focus=="function"}function yY(n){return Yd(n)&&"focusCycler"in n&&n.focusCycler instanceof Ys}function vY(n){class t extends n{constructor(...s){super(...s);y(this,"_onDragBound",this._onDrag.bind(this));y(this,"_onDragEndBound",this._onDragEnd.bind(this));y(this,"_lastDraggingCoordinates",{x:0,y:0});this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(ke.document,"mouseup",this._onDragEndBound),this.listenTo(ke.document,"touchend",this._onDragEndBound),this.listenTo(ke.document,"mousemove",this._onDragBound),this.listenTo(ke.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(ke.document,"mouseup",this._onDragEndBound),this.stopListening(ke.document,"touchend",this._onDragEndBound),this.stopListening(ke.document,"mousemove",this._onDragBound),this.stopListening(ke.document,"touchmove",this._onDragBound)}_onDragStart(s,r){if(!this._isHandleElementPressed(r))return;this._attachDragListeners();let o=0,l=0;r instanceof MouseEvent?(o=r.clientX,l=r.clientY):(o=r.touches[0].clientX,l=r.touches[0].clientY),this._lastDraggingCoordinates={x:o,y:l},this.isDragging=!0}_onDrag(s,r){if(!this.isDragging){this._detachDragListeners();return}let o=0,l=0;r instanceof MouseEvent?(o=r.clientX,l=r.clientY):(o=r.touches[0].clientX,l=r.touches[0].clientY),r.preventDefault(),this.fire("drag",{deltaX:Math.round(o-this._lastDraggingCoordinates.x),deltaY:Math.round(l-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:o,y:l}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(s){return this.dragHandleElement?this.dragHandleElement===s.target||s.target instanceof HTMLElement&&this.dragHandleElement.contains(s.target):!1}}return t}class wY extends Te{constructor(e){super(e);y(this,"children");y(this,"keystrokes");y(this,"focusCycler");y(this,"_focusTracker");y(this,"_focusables");this.children=this.createCollection(),this.keystrokes=new ii,this._focusTracker=new Ln,this._focusables=new ds,this.focusCycler=new Ys({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const i of e){const s=new ct(this.locale);let r;s.on("execute",()=>i.onExecute()),i.onCreate&&i.onCreate(s);for(r in i)r!="onExecute"&&r!="onCreate"&&s.set(r,i[r]);this.children.add(s)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class _Y extends Te{constructor(e){super(e);y(this,"children");this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}const ms={SCREEN_CENTER:"screen-center",EDITOR_CENTER:"editor-center",EDITOR_TOP_SIDE:"editor-top-side",EDITOR_TOP_CENTER:"editor-top-center",EDITOR_BOTTOM_CENTER:"editor-bottom-center",EDITOR_ABOVE_CENTER:"editor-above-center",EDITOR_BELOW_CENTER:"editor-below-center"},WT=Gd("px"),Gp=class Gp extends vY(Te){constructor(e,{getCurrentDomRoot:i,getViewportOffset:s,keystrokeHandlerOptions:r}){super(e);y(this,"parts");y(this,"headerView");y(this,"closeButtonView");y(this,"actionsView");y(this,"contentView");y(this,"keystrokes");y(this,"focusTracker");y(this,"wasMoved",!1);y(this,"_getCurrentDomRoot");y(this,"_getViewportOffset");y(this,"_focusables");y(this,"_focusCycler");const o=this.bindTemplate,l=e.t;this.set("className",""),this.set("ariaLabel",l("Editor dialog")),this.set("isModal",!1),this.set("position",ms.SCREEN_CENTER),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=i,this._getViewportOffset=s,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new ii,this.focusTracker=new Ln,this._focusables=new ds,this._focusCycler=new Ys({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"},keystrokeHandlerOptions:r}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",o.if("isModal","ck-dialog-overlay__transparent",u=>!u),o.if("_isVisible","ck-hidden",u=>!u)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",o.if("isModal","ck-dialog_modal"),o.to("className")],role:"dialog","aria-label":o.to("ariaLabel"),style:{top:o.to("_top",u=>WT(u)),left:o.to("_left",u=>WT(u)),visibility:o.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(e,i)=>{e.defaultPrevented||(this.fire("close",{source:"escKeyPress"}),i())}),this.on("drag",(e,{deltaX:i,deltaY:s})=>{this.wasMoved=!0,this.moveBy(i,s)}),this.listenTo(ke.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(ke.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(e,i,s)=>{s&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView&&!this.isModal?this.headerView.element:null}setupParts({icon:e,title:i,hasCloseButton:s=!0,content:r,actionButtons:o}){i&&(this.headerView=new Nm(this.locale,{icon:e}),s&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=i,this.ariaLabel=i,this.parts.add(this.headerView,0)),r&&(r instanceof Te&&(r=[r]),this.contentView=new _Y(this.locale),this.contentView.children.addMany(r),this.parts.add(this.contentView)),o&&(this.actionsView=new wY(this.locale),this.actionsView.setButtons(o),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,i){const s=this._getViewportRect(),r=this._getDialogRect();e+r.width>s.right&&(e=s.right-r.width),e<s.left&&(e=s.left),i<s.top&&(i=s.top),this._moveTo(e,i)}_moveTo(e,i){this._left=e,this._top=i}moveBy(e,i){this.moveTo(this._left+e,this._top+i)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let i=this.position,s;this._getCurrentDomRoot()?s=this._getVisibleDomRootRect(e):i=ms.SCREEN_CENTER;const r=Gp.defaultOffset,o=this._getDialogRect();switch(i){case ms.EDITOR_TOP_SIDE:{if(s){const l=this.locale.contentLanguageDirection==="ltr"?s.right-o.width-r:s.left+r;this.moveTo(l,s.top+r)}else this._moveOffScreen();break}case ms.EDITOR_CENTER:{s?this.moveTo(Math.round(s.left+s.width/2-o.width/2),Math.round(s.top+s.height/2-o.height/2)):this._moveOffScreen();break}case ms.SCREEN_CENTER:{this.moveTo(Math.round((e.width-o.width)/2),Math.round((e.height-o.height)/2));break}case ms.EDITOR_TOP_CENTER:{s?this.moveTo(Math.round(s.left+s.width/2-o.width/2),s.top+r):this._moveOffScreen();break}case ms.EDITOR_BOTTOM_CENTER:{s?this.moveTo(Math.round(s.left+s.width/2-o.width/2),s.bottom-o.height-r):this._moveOffScreen();break}case ms.EDITOR_ABOVE_CENTER:{s?this.moveTo(Math.round(s.left+s.width/2-o.width/2),s.top-o.height-r):this._moveOffScreen();break}case ms.EDITOR_BELOW_CENTER:{s?this.moveTo(Math.round(s.left+s.width/2-o.width/2),s.bottom+r):this._moveOffScreen();break}}}_getVisibleDomRootRect(e){let i=new Je(this._getCurrentDomRoot()).getVisible();if(i){if(i=e.getIntersection(i),!i)return null}else return null;return i}_getDialogRect(){return new Je(this.element.firstElementChild)}_getViewportRect(){const e=new Je(ke.window);if(this.isModal)return e;const i={top:0,bottom:0,left:0,right:0,...this._getViewportOffset()};return e.top+=i.top,e.height-=i.top,e.bottom-=i.bottom,e.height-=i.bottom,e.left+=i.left,e.right-=i.right,e.width-=i.left+i.right,e}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const i of this.contentView.children)Yd(i)&&e.push(i);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element),yY(i)&&this._focusCycler.chain(i.focusCycler)})}_createCloseButton(){const e=new ct(this.locale),i=this.locale.t;return e.set({label:i("Close"),tooltip:!0,icon:mO}),e.on("execute",()=>this.fire("close",{source:"closeButton"})),e}};y(Gp,"defaultOffset",15);let Pd=Gp;const gs=class gs extends De{constructor(e){super(e);y(this,"view");y(this,"_onHide");const i=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:i("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),gs._visibleDialogPlugin===this&&this._unlockBodyScroll()}_initShowHideListeners(){this.on("show",(e,i)=>{this._show(i)}),this.on("show",(e,i)=>{i.onShow&&i.onShow(this)},{priority:"low"}),this.on("hide",()=>{gs._visibleDialogPlugin&&gs._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(i,s)=>{!this.isOpen||this.view.isModal||(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),s())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const i=e.document.differ.getChangedRoots();for(const s of i)s.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:i,title:s,hasCloseButton:r=!0,content:o,actionButtons:l,className:u,isModal:f,position:h,onHide:m,keystrokeHandlerOptions:b}){const w=this.editor;this.view=new Pd(w.locale,{getCurrentDomRoot:()=>w.editing.view.getDomRoot(w.model.document.selection.anchor.root.rootName),getViewportOffset:()=>w.ui.viewportOffset,keystrokeHandlerOptions:b});const _=this.view;_.on("close",()=>{this.hide()}),w.ui.view.body.add(_),w.keystrokes.listenTo(_.element),h||(h=f?ms.SCREEN_CENTER:ms.EDITOR_CENTER),f&&this._lockBodyScroll(),_.set({position:h,_isVisible:!0,className:u,isModal:f}),_.setupParts({icon:i,title:s,hasCloseButton:r,content:o,actionButtons:l}),this.id=e,m&&(this._onHide=m),this.isOpen=!0,gs._visibleDialogPlugin=this}hide(){gs._visibleDialogPlugin&&gs._visibleDialogPlugin.fire(`hide:${gs._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,i=this.view;i.isModal&&this._unlockBodyScroll(),i.contentView&&i.contentView.reset(),e.ui.view.body.remove(i),e.ui.focusTracker.remove(i.element),e.keystrokes.stopListening(i.element),i.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,gs._visibleDialogPlugin=null}_lockBodyScroll(){document.documentElement.classList.add("ck-dialog-scroll-locked")}_unlockBodyScroll(){document.documentElement.classList.remove("ck-dialog-scroll-locked")}};y(gs,"_visibleDialogPlugin");let yv=gs;class Vm extends ct{constructor(e,i=new OO){super(e,i);y(this,"_checkIconHolderView",new kY);this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});const s=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",s.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",(r,o)=>r||o)}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",e=>this.isToggleable&&e),this.on("change:_hasCheck",(e,i,s)=>{const{children:r,_checkIconHolderView:o}=this;s?r.add(o,0):r.remove(o)})}}class kY extends Te{constructor(){super();y(this,"children");y(this,"_checkIconView",this._createCheckIconView());const e=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",e.to("isOn",i=>i?"ck-on":"ck-off")]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",(e,i,s)=>{const{children:r,_checkIconView:o}=this;s&&!r.has(o)?r.add(o):!s&&r.has(o)&&r.remove(o)})}_createCheckIconView(){const e=new qs;return e.content=gO,e.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),e}}class Ir extends Vm{constructor(t){super(t),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class Fm extends Te{constructor(e){super(e);y(this,"id");this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${vi()}`;const i=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:i.to("for")},children:[{text:i.to("text")}]})}}class CY extends Te{constructor(t,e){super(t);const i=t.t,s=new Fm;s.text=i("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":s.id,role:"document",tabindex:-1},children:[bs(document,"p",{},i("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(e.values())),s]})}focus(){this.element.focus()}_createCategories(t){return t.map(e=>{const i=[bs(document,"h3",{},e.label),...Array.from(e.groups.values()).map(s=>this._createGroup(s)).flat()];return e.description&&i.splice(1,0,bs(document,"p",{},e.description)),bs(document,"section",{},i)})}_createGroup(t){const e=t.keystrokes.sort((s,r)=>s.label.localeCompare(r.label)).map(s=>this._createGroupRow(s)).flat(),i=[bs(document,"dl",{},e)];return t.label&&i.unshift(bs(document,"h4",{},t.label)),i}_createGroupRow(t){const e=this.locale.t,i=bs(document,"dt"),s=bs(document,"dd"),r=xY(t.keystroke),o=[];for(const l of r)o.push(l.map(SY).join(""));return i.innerHTML=t.label,s.innerHTML=o.join(", ")+(t.mayRequireFn&&Ie.isMac?` ${e("(may require <kbd>Fn</kbd>)")}`:""),[i,s]}}function SY(n){return Bp(n).split("+").map(t=>`<kbd>${t}</kbd>`).join("+")}function xY(n){return typeof n=="string"?[[n]]:typeof n[0]=="string"?[n]:n}class TY extends De{constructor(){super(...arguments);y(this,"contentView",null)}static get requires(){return[yv]}static get pluginName(){return"AccessibilityHelp"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const s=this._createButton(ct);return s.set({tooltip:!0,withText:!1,label:i("Accessibility help")}),s}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const s=this._createButton(Ir);return s.label=i("Accessibility"),s}),e.keystrokes.set("Alt+0",(s,r)=>{this._toggleDialog(),r()}),this._setupRootLabels()}_createButton(e){const i=this.editor,s=i.plugins.get("Dialog"),r=i.locale,o=new e(r);return o.set({keystroke:"Alt+0",icon:_T,isToggleable:!0}),o.on("execute",()=>this._toggleDialog()),o.bind("isOn").to(s,"id",l=>l==="accessibilityHelp"),o}_setupRootLabels(){const e=this.editor,i=e.editing.view,s=e.t;e.ui.on("ready",()=>{i.change(o=>{for(const l of i.document.roots)r(o,l)}),e.on("addRoot",(o,l)=>{const u=e.editing.view.document.getRoot(l.rootName);i.change(f=>r(f,u))},{priority:"low"})});function r(o,l){const f=[l.getAttribute("aria-label"),s("Press %0 for help.",[Bp("Alt+0")])].filter(h=>h).join(". ");o.setAttribute("aria-label",f,l)}}_toggleDialog(){const e=this.editor,i=e.plugins.get("Dialog"),s=e.locale.t;this.contentView||(this.contentView=new CY(e.locale,e.accessibility.keystrokeInfos)),i.id==="accessibilityHelp"?i.hide():i.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:s("Accessibility help"),icon:_T,hasCloseButton:!0,content:this.contentView})}}const Qi=class Qi extends ds{constructor(e,i=[]){super(i);y(this,"locale");y(this,"_bodyCollectionContainer");this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new rs({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render(),(!Qi._bodyWrapper||!Qi._bodyWrapper.isConnected)&&(Qi._bodyWrapper=bs(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(Qi._bodyWrapper)),Qi._bodyWrapper.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove(),Qi._bodyWrapper&&!Qi._bodyWrapper.childElementCount&&(Qi._bodyWrapper.remove(),delete Qi._bodyWrapper)}};y(Qi,"_bodyWrapper");let vv=Qi;class nw extends ct{constructor(e){super(e);y(this,"toggleSwitchView");this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Te;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class EY extends AY(Vm){}function AY(n){class t extends n{constructor(...s){super(...s);y(this,"buttonView");y(this,"_fileInputView");this.buttonView=this,this._fileInputView=new PY(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}return t}class PY extends Te{constructor(t){super(t),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(()=>{var i,s;(s=(i=this.element)==null?void 0:i.files)!=null&&s.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class RY extends Te{constructor(e,i){super(e);y(this,"buttonView");y(this,"children");const s=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),i&&this.children.addMany(i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",s.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:s.if("isCollapsed","hidden"),"aria-labelledby":s.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new ct(this.locale),i=e.bindTemplate;return e.set({withText:!0,icon:Bm}),e.extendTemplate({attributes:{"aria-expanded":i.to("isOn",s=>String(s))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",s=>!s),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function OY(n,t){const e=n.t,i={Black:e("Black"),"Dim grey":e("Dim grey"),Grey:e("Grey"),"Light grey":e("Light grey"),White:e("White"),Red:e("Red"),Orange:e("Orange"),Yellow:e("Yellow"),"Light green":e("Light green"),Green:e("Green"),Aquamarine:e("Aquamarine"),Turquoise:e("Turquoise"),"Light blue":e("Light blue"),Blue:e("Blue"),Purple:e("Purple")};return t.map(s=>{const r=i[s.label];return r&&r!=s.label&&(s.label=r),s})}function MY(n){return n.map(IY).filter(t=>!!t)}function IY(n){return typeof n=="string"?{model:n,label:n,hasBorder:!1,view:{name:"span",styles:{color:n}}}:{model:n.color,label:n.label||n.color,hasBorder:n.hasBorder===void 0?!1:n.hasBorder,view:{name:"span",styles:{color:`${n.color}`}}}}class MO extends ct{constructor(t){super(t);const e=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon=fK,this.extendTemplate({attributes:{style:{backgroundColor:e.to("color",i=>Ie.isMediaForcedColors?null:i)},class:["ck","ck-color-grid__tile",e.if("hasBorder","ck-color-selector__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}class qT extends Te{constructor(e,i){super(e);y(this,"columns");y(this,"items");y(this,"focusTracker");y(this,"keystrokes");const s=i&&i.colorDefinitions?i.colorDefinitions:[];this.columns=(i==null?void 0:i.columns)||5;const r={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new Ln,this.keystrokes=new ii,this.items.on("add",(o,l)=>{l.isOn=l.color===this.selectedColor}),s.forEach(o=>{const l=new MO;l.set({color:o.color,label:o.label,tooltip:!0,hasBorder:o.options.hasBorder}),l.on("execute",()=>{this.fire("execute",{value:o.color,hasBorder:o.options.hasBorder,label:o.label})}),this.items.add(l)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:r}}),this.on("change:selectedColor",(o,l,u)=>{for(const f of this.items)f.isOn=f.color===u})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){var e;super.render();for(const i of this.items)this.focusTracker.add(i.element);this.items.on("add",(i,s)=>{this.focusTracker.add(s.element)}),this.items.on("remove",(i,s)=>{this.focusTracker.remove(s.element)}),this.keystrokes.listenTo(this.element),RO({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:(e=this.locale)==null?void 0:e.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function IO(n,t){if(!n)return"";const e=LO(n);if(!e)return"";if(e.space===t)return n;if(!NY(e))return"";const s=_O[e.space][t];if(!s)return"";const r=s(e.space==="hex"?e.hexValue:e.values);return DY(r,t)}function LY(n){if(!n)return"";const t=LO(n);return t?t.space==="hex"?t.hexValue:IO(n,"hex"):"#000"}function BY(n,t){customElements.get(n)===void 0&&customElements.define(n,t)}function DY(n,t){switch(t){case"hex":return`#${n}`;case"rgb":return`rgb(${n[0]}, ${n[1]}, ${n[2]})`;case"hsl":return`hsl(${n[0]}, ${n[1]}%, ${n[2]}%)`;case"hwb":return`hwb(${n[0]}, ${n[1]}, ${n[2]})`;case"lab":return`lab(${n[0]}% ${n[1]} ${n[2]})`;case"lch":return`lch(${n[0]}% ${n[1]} ${n[2]})`;default:return""}}function LO(n){if(n.startsWith("#")){const e=ET(n);return{space:"hex",values:e.values,hexValue:n,alpha:e.alpha}}const t=ET(n);return t.space?t:null}function NY(n){return Object.keys(_O).includes(n.space)}class $p extends Te{constructor(e,i){super(e);y(this,"fieldView");y(this,"labelView");y(this,"statusView");y(this,"fieldWrapperChildren");const s=`ck-labeled-field-view-${vi()}`,r=`ck-labeled-field-view-status-${vi()}`;this.fieldView=i(this,s,r),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(s),this.statusView=this._createStatusView(r),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(l,u)=>l||u);const o=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",o.to("class"),o.if("isEnabled","ck-disabled",l=>!l),o.if("isEmpty","ck-labeled-field-view_empty"),o.if("isFocused","ck-labeled-field-view_focused"),o.if("placeholder","ck-labeled-field-view_placeholder"),o.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const i=new Fm(this.locale);return i.for=e,i.bind("text").to(this,"label"),i}_createStatusView(e){const i=new Te(this.locale),s=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",s.if("errorText","ck-labeled-field-view__status_error"),s.if("_statusText","ck-hidden",r=>!r)],id:e,role:s.if("errorText","alert")},children:[{text:s.to("_statusText")}]}),i}focus(e){this.fieldView.focus(e)}}class VY extends Te{constructor(e){super(e);y(this,"focusTracker");this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Ln,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",i.if("isFocused","ck-input_focused"),i.if("isEmpty","ck-input-text_empty"),i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),tabindex:i.to("tabIndex"),readonly:i.to("isReadOnly"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById"),"aria-label":i.to("ariaLabel")},on:{input:i.to((...s)=>{this.fire("input",...s),this._updateIsEmpty()}),change:i.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,i,s)=>{this._setDomElementValue(s),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=FY(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function FY(n){return!n.value}class BO extends VY{constructor(t){super(t),this.set("inputMode","text");const e=this.bindTemplate;this.extendTemplate({attributes:{inputmode:e.to("inputMode")}})}}class zY extends BO{constructor(t){super(t),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class UY extends BO{constructor(t,{min:e,max:i,step:s}={}){super(t);const r=this.bindTemplate;this.set("min",e),this.set("max",i),this.set("step",s),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:r.to("min"),max:r.to("max"),step:r.to("step")}})}}class $Y extends Te{constructor(e){super(e);y(this,"children");const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",s=>`ck-dropdown__panel_${s}`),i.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:i.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():zt("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}const Nl=class Nl extends Te{constructor(e,i,s){super(e);y(this,"buttonView");y(this,"panelView");y(this,"focusTracker");y(this,"keystrokes");y(this,"listView");y(this,"toolbarView");y(this,"menuView");const r=this.bindTemplate;this.buttonView=i,this.panelView=s,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new ii,this.focusTracker=new Ln,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",o=>!o)],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[i,s]}),i.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":r.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(i,s,r)=>{if(r)if(this.panelPosition==="auto"){const o=Nl._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=o?o.name:this._defaultPanelPositionName}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(i,s)=>{this.isOpen&&(this.isOpen=!1,s())};this.keystrokes.set("arrowdown",(i,s)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,s())}),this.keystrokes.set("arrowright",(i,s)=>{this.isOpen&&s()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:i,southEast:s,southWest:r,northEast:o,northWest:l,southMiddleEast:u,southMiddleWest:f,northMiddleEast:h,northMiddleWest:m}=Nl.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[s,r,u,f,e,o,l,h,m,i]:[r,s,f,u,e,l,o,m,h,i]}get _defaultPanelPositionName(){return this.locale.uiLanguageDirection==="rtl"?"sw":"se"}};y(Nl,"defaultPanelPositions",{south:(e,i)=>({top:e.bottom,left:e.left-(i.width-e.width)/2,name:"s"}),southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,i)=>({top:e.bottom,left:e.left-i.width+e.width,name:"sw"}),southMiddleEast:(e,i)=>({top:e.bottom,left:e.left-(i.width-e.width)/4,name:"sme"}),southMiddleWest:(e,i)=>({top:e.bottom,left:e.left-(i.width-e.width)*3/4,name:"smw"}),north:(e,i)=>({top:e.top-i.height,left:e.left-(i.width-e.width)/2,name:"n"}),northEast:(e,i)=>({top:e.top-i.height,left:e.left,name:"ne"}),northWest:(e,i)=>({top:e.top-i.height,left:e.left-i.width+e.width,name:"nw"}),northMiddleEast:(e,i)=>({top:e.top-i.height,left:e.left-(i.width-e.width)/4,name:"nme"}),northMiddleWest:(e,i)=>({top:e.top-i.height,left:e.left-(i.width-e.width)*3/4,name:"nmw"})}),y(Nl,"_getOptimalPosition",M1);let wv=Nl;class HY extends ct{constructor(e){super(e);y(this,"arrowView");this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new qs;return e.content=Bm,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class ko extends Te{constructor(e){super(e);y(this,"children");const i=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",i.if("isVisible","ck-hidden",s=>!s)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class DO extends Te{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class Z0 extends Te{constructor(e,i=new Fm){super(e);y(this,"labelView");y(this,"items");y(this,"children");const s=this.bindTemplate,r=new Xd(e);this.set({label:"",isVisible:!0}),this.labelView=i,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,r]),r.set({role:"group",ariaLabelledBy:i.id}),r.focusTracker.destroy(),r.keystrokes.destroy(),this.items=r.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",s.if("isVisible","ck-hidden",o=>!o)]},children:this.children})}focus(){if(this.items){const e=this.items.find(i=>!(i instanceof DO));e&&e.focus()}}}class Xd extends Te{constructor(e){super(e);y(this,"focusables");y(this,"items");y(this,"focusTracker");y(this,"keystrokes");y(this,"_focusCycler");y(this,"_listItemGroupToChangeListeners",new WeakMap);const i=this.bindTemplate;this.focusables=new ds,this.items=this.createCollection(),this.focusTracker=new Ln,this.keystrokes=new ii,this._focusCycler=new Ys({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:i.to("role"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof Z0?this._registerFocusableItemsGroup(e):e instanceof ko&&this._registerFocusableListItem(e);this.items.on("change",(e,i)=>{for(const s of i.removed)s instanceof Z0?this._deregisterFocusableItemsGroup(s):s instanceof ko&&this._deregisterFocusableListItem(s);for(const s of Array.from(i.added).reverse())s instanceof Z0?this._registerFocusableItemsGroup(s,i.index):this._registerFocusableListItem(s,i.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,i){this.focusTracker.add(e.element),this.focusables.add(e,i)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(i,s)=>{for(const r of s.removed)this._deregisterFocusableListItem(r);for(const r of Array.from(s.added).reverse())this._registerFocusableListItem(r,this.items.getIndex(e)+s.index)}}_registerFocusableItemsGroup(e,i){Array.from(e.items).forEach((r,o)=>{const l=typeof i<"u"?i+o:void 0;this._registerFocusableListItem(r,l)});const s=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,s),e.items.on("change",s)}_deregisterFocusableItemsGroup(e){for(const i of e.items)this._deregisterFocusableListItem(i);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}const GT=Gd("px"),jY={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},Oi=class Oi extends Te{constructor(e){super(e);y(this,"content");y(this,"_pinWhenIsVisibleCallback");y(this,"_resizeObserver");const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",i.to("position",s=>`ck-balloon-panel_${s}`),i.if("isVisible","ck-balloon-panel_visible"),i.if("withArrow","ck-balloon-panel_with-arrow"),i.to("class")],style:{top:i.to("top",GT),left:i.to("left",GT)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){const i=sp(e.target);if(i&&!Ar(i))return!1;this.show();const s=Oi.defaultPositions,r=Object.assign({},{element:this.element,positions:[s.southArrowNorth,s.southArrowNorthMiddleWest,s.southArrowNorthMiddleEast,s.southArrowNorthWest,s.southArrowNorthEast,s.northArrowSouth,s.northArrowSouthMiddleWest,s.northArrowSouthMiddleEast,s.northArrowSouthWest,s.northArrowSouthEast,s.viewportStickyNorth],limiter:ke.document.body,fitInViewport:!0},e),o=Oi._getOptimalPosition(r)||jY,l=parseInt(o.left),u=parseInt(o.top),f=o.name,h=o.config||{},{withArrow:m=!0}=h;return this.top=u,this.left=l,this.position=f,this.withArrow=m,!0}pin(e){this.unpin(),this._startPinning(e)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){if(!this.attachTo(e))return!1;let i=sp(e.target);const s=e.limiter?sp(e.limiter):ke.document.body;if(this.listenTo(ke.document,"scroll",(r,o)=>{const l=o.target,u=i&&l.contains(i),f=s&&l.contains(s);(u||f||!i||!s)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(ke.window,"resize",()=>{this.attachTo(e)}),!this._resizeObserver&&(i&&Yt(i)&&(i=i.parentElement),i)){const r=()=>{Ar(i)||this.unpin()};this._resizeObserver=new O1(i,r)}return!0}_stopPinning(){this.stopListening(ke.document,"scroll"),this.stopListening(ke.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(e={}){const{sideOffset:i=Oi.arrowSideOffset,heightOffset:s=Oi.arrowHeightOffset,stickyVerticalOffset:r=Oi.stickyVerticalOffset,config:o}=e;return{northWestArrowSouthWest:(f,h)=>({top:l(f,h),left:f.left-i,name:"arrow_sw",...o&&{config:o}}),northWestArrowSouthMiddleWest:(f,h)=>({top:l(f,h),left:f.left-h.width*.25-i,name:"arrow_smw",...o&&{config:o}}),northWestArrowSouth:(f,h)=>({top:l(f,h),left:f.left-h.width/2,name:"arrow_s",...o&&{config:o}}),northWestArrowSouthMiddleEast:(f,h)=>({top:l(f,h),left:f.left-h.width*.75+i,name:"arrow_sme",...o&&{config:o}}),northWestArrowSouthEast:(f,h)=>({top:l(f,h),left:f.left-h.width+i,name:"arrow_se",...o&&{config:o}}),northArrowSouthWest:(f,h)=>({top:l(f,h),left:f.left+f.width/2-i,name:"arrow_sw",...o&&{config:o}}),northArrowSouthMiddleWest:(f,h)=>({top:l(f,h),left:f.left+f.width/2-h.width*.25-i,name:"arrow_smw",...o&&{config:o}}),northArrowSouth:(f,h)=>({top:l(f,h),left:f.left+f.width/2-h.width/2,name:"arrow_s",...o&&{config:o}}),northArrowSouthMiddleEast:(f,h)=>({top:l(f,h),left:f.left+f.width/2-h.width*.75+i,name:"arrow_sme",...o&&{config:o}}),northArrowSouthEast:(f,h)=>({top:l(f,h),left:f.left+f.width/2-h.width+i,name:"arrow_se",...o&&{config:o}}),northEastArrowSouthWest:(f,h)=>({top:l(f,h),left:f.right-i,name:"arrow_sw",...o&&{config:o}}),northEastArrowSouthMiddleWest:(f,h)=>({top:l(f,h),left:f.right-h.width*.25-i,name:"arrow_smw",...o&&{config:o}}),northEastArrowSouth:(f,h)=>({top:l(f,h),left:f.right-h.width/2,name:"arrow_s",...o&&{config:o}}),northEastArrowSouthMiddleEast:(f,h)=>({top:l(f,h),left:f.right-h.width*.75+i,name:"arrow_sme",...o&&{config:o}}),northEastArrowSouthEast:(f,h)=>({top:l(f,h),left:f.right-h.width+i,name:"arrow_se",...o&&{config:o}}),southWestArrowNorthWest:f=>({top:u(f),left:f.left-i,name:"arrow_nw",...o&&{config:o}}),southWestArrowNorthMiddleWest:(f,h)=>({top:u(f),left:f.left-h.width*.25-i,name:"arrow_nmw",...o&&{config:o}}),southWestArrowNorth:(f,h)=>({top:u(f),left:f.left-h.width/2,name:"arrow_n",...o&&{config:o}}),southWestArrowNorthMiddleEast:(f,h)=>({top:u(f),left:f.left-h.width*.75+i,name:"arrow_nme",...o&&{config:o}}),southWestArrowNorthEast:(f,h)=>({top:u(f),left:f.left-h.width+i,name:"arrow_ne",...o&&{config:o}}),southArrowNorthWest:f=>({top:u(f),left:f.left+f.width/2-i,name:"arrow_nw",...o&&{config:o}}),southArrowNorthMiddleWest:(f,h)=>({top:u(f),left:f.left+f.width/2-h.width*.25-i,name:"arrow_nmw",...o&&{config:o}}),southArrowNorth:(f,h)=>({top:u(f),left:f.left+f.width/2-h.width/2,name:"arrow_n",...o&&{config:o}}),southArrowNorthMiddleEast:(f,h)=>({top:u(f),left:f.left+f.width/2-h.width*.75+i,name:"arrow_nme",...o&&{config:o}}),southArrowNorthEast:(f,h)=>({top:u(f),left:f.left+f.width/2-h.width+i,name:"arrow_ne",...o&&{config:o}}),southEastArrowNorthWest:f=>({top:u(f),left:f.right-i,name:"arrow_nw",...o&&{config:o}}),southEastArrowNorthMiddleWest:(f,h)=>({top:u(f),left:f.right-h.width*.25-i,name:"arrow_nmw",...o&&{config:o}}),southEastArrowNorth:(f,h)=>({top:u(f),left:f.right-h.width/2,name:"arrow_n",...o&&{config:o}}),southEastArrowNorthMiddleEast:(f,h)=>({top:u(f),left:f.right-h.width*.75+i,name:"arrow_nme",...o&&{config:o}}),southEastArrowNorthEast:(f,h)=>({top:u(f),left:f.right-h.width+i,name:"arrow_ne",...o&&{config:o}}),westArrowEast:(f,h)=>({top:f.top+f.height/2-h.height/2,left:f.left-h.width-s,name:"arrow_e",...o&&{config:o}}),eastArrowWest:(f,h)=>({top:f.top+f.height/2-h.height/2,left:f.right+s,name:"arrow_w",...o&&{config:o}}),viewportStickyNorth:(f,h,m)=>{const b=new Je(ke.document.body).getIntersection(m.getVisible());if(!b)return null;const w=b.getVisible();return!f.getIntersection(w)||!(w.top-f.top-r<h.height&&w.bottom-f.bottom<h.height)?null:{top:w.top+r,left:f.left+f.width/2-h.width/2,name:"arrowless",config:{withArrow:!1,...o}}}};function l(f,h){return f.top-h.height-s}function u(f){return f.bottom+s}}};y(Oi,"arrowSideOffset",25),y(Oi,"arrowHeightOffset",10),y(Oi,"stickyVerticalOffset",20),y(Oi,"_getOptimalPosition",M1),y(Oi,"defaultPositions",Oi.generatePositions());let ec=Oi;function sp(n){return wo(n)?n:Om(n)?n.commonAncestorContainer:typeof n=="function"?sp(n()):null}class NO extends Te{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class WY extends Te{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function qY(n){return n.bindTemplate.to(t=>{t.target===n.element&&t.preventDefault()})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function VO(n){if(Array.isArray(n))return{items:n,removeItems:[]};const t={items:[],removeItems:[]};return n?{...t,...n}:t}const GY={alignLeft:hO,bold:pO,importExport:bK,paragraph:AK,plus:OK,text:DK,threeVerticalDots:J1,pilcrow:RK,dragIndicator:pK};class iw extends Te{constructor(e,i){super(e);y(this,"options");y(this,"items");y(this,"focusTracker");y(this,"keystrokes");y(this,"itemsView");y(this,"children");y(this,"focusables");y(this,"_focusCycler");y(this,"_behavior");const s=this.bindTemplate,r=this.t;this.options=i||{},this.set("ariaLabel",r("Editor toolbar")),this.set("maxWidth","auto"),this.set("role","toolbar"),this.set("isGrouping",!!this.options.shouldGroupWhenFull),this.items=this.createCollection(),this.focusTracker=new Ln,this.keystrokes=new ii,this.set("class",void 0),this.set("isCompact",!1),this.set("isVertical",!1),this.itemsView=new KY(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const o=e.uiLanguageDirection==="rtl";this._focusCycler=new Ys({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[o?"arrowright":"arrowleft","arrowup"],focusNext:[o?"arrowleft":"arrowright","arrowdown"]}});const l=["ck","ck-toolbar",s.to("class"),s.if("isCompact","ck-toolbar_compact"),s.if("isGrouping","ck-toolbar_grouping"),s.if("isVertical","ck-toolbar_vertical")];this.options.shouldGroupWhenFull&&this.options.isFloating&&l.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:l,role:s.to("role"),"aria-label":s.to("ariaLabel"),style:{maxWidth:s.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:qY(this)}}),this._behavior=this.options.shouldGroupWhenFull?new YT(this):new KT(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e);this.items.on("add",(e,i)=>{this.focusTracker.add(i)}),this.items.on("remove",(e,i)=>{this.focusTracker.remove(i)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,i,s){this.items.addMany(this._buildItemsFromConfig(e,i,s))}switchBehavior(e){this._behavior.type!==e&&(this._behavior.destroy(),this.itemsView.children.clear(),this.focusables.clear(),e==="dynamic"?(this._behavior=new YT(this),this._behavior.render(this),this._behavior.refreshItems()):(this._behavior=new KT(this),this._behavior.render(this)))}_buildItemsFromConfig(e,i,s){const r=VO(e),o=s||r.removeItems;return this._cleanItemsConfiguration(r.items,i,o).map(u=>xr(u)?this._createNestedToolbarDropdown(u,i,o):u==="|"?new NO:u==="-"?new WY:i.create(u)).filter(u=>!!u)}_cleanItemsConfiguration(e,i,s){const r=e.filter((o,l,u)=>o==="|"?!0:s.indexOf(o)!==-1?!1:o==="-"?this.options.shouldGroupWhenFull?(zt("toolbarview-line-break-ignored-when-grouping-items",u),!1):!0:!xr(o)&&!i.has(o)?(zt("toolbarview-item-unavailable",{item:o}),!1):!0);return this._cleanSeparatorsAndLineBreaks(r)}_cleanSeparatorsAndLineBreaks(e){const i=l=>l!=="-"&&l!=="|",s=e.length,r=e.findIndex(i);if(r===-1)return[];const o=s-e.slice().reverse().findIndex(i);return e.slice(r,o).filter((l,u,f)=>i(l)?!0:!(u>0&&f[u-1]===l))}_createNestedToolbarDropdown(e,i,s){let{label:r,icon:o,items:l,tooltip:u=!0,withText:f=!1}=e;if(l=this._cleanItemsConfiguration(l,i,s),!l.length)return null;const h=this.locale,m=Jd(h);return r||zt("toolbarview-nested-toolbar-dropdown-missing-label",e),m.class="ck-toolbar__nested-toolbar-dropdown",m.buttonView.set({label:r,tooltip:u,withText:!!f}),o!==!1?m.buttonView.icon=GY[o]||o||J1:m.buttonView.withText=!0,sw(m,()=>m.toolbarView._buildItemsFromConfig(l,i,s)),m}}class KY extends Te{constructor(e){super(e);y(this,"children");this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class KT{constructor(t){y(this,"type","static");t.isGrouping=!1,t.itemsView.children.bindTo(t.items).using(e=>e),t.focusables.bindTo(t.items).using(e=>Yd(e)?e:null)}render(){}destroy(){}}class YT{constructor(t){y(this,"type","dynamic");y(this,"view");y(this,"viewChildren");y(this,"viewFocusables");y(this,"viewItemsView");y(this,"viewFocusTracker");y(this,"viewLocale");y(this,"ungroupedItems");y(this,"groupedItems");y(this,"groupedItemsDropdown");y(this,"resizeObserver",null);y(this,"cachedPadding",null);y(this,"shouldUpdateGroupingOnNextResize",!1);y(this,"viewElement");this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.view.isGrouping=!0,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),t.itemsView.children.bindTo(this.ungroupedItems).using(e=>e),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),t.children.on("change",this._updateFocusCyclableItems.bind(this)),t.items.on("change",(e,i)=>{const s=i.index,r=Array.from(i.added);for(const o of i.removed)s>=this.ungroupedItems.length?this.groupedItems.remove(o):this.ungroupedItems.remove(o);for(let o=s;o<s+r.length;o++){const l=r[o-s];o>this.ungroupedItems.length?this.groupedItems.add(l,o-this.ungroupedItems.length):this.ungroupedItems.add(l,o)}this._updateGrouping()})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.viewChildren.length>1&&(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last)),this.resizeObserver.destroy()}refreshItems(){const t=this.view;if(t.items.length){for(let e=0;e<t.items.length;e++){const i=[...t.items][e];this.ungroupedItems.add(i,e)}this._updateGrouping()}}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Ar(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const t=this.groupedItems.length;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,i=new Je(t.lastChild),s=new Je(t);if(!this.cachedPadding){const r=ke.window.getComputedStyle(t),o=e==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(r[o])}return e==="ltr"?i.right>s.right-this.cachedPadding:i.left<s.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new O1(this.viewElement,e=>{(!t||t!==e.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=e.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new NO),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,i=Jd(t);return i.class="ck-toolbar__grouped-dropdown",i.panelPosition=t.uiLanguageDirection==="ltr"?"sw":"se",sw(i,this.groupedItems),i.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:t.uiLanguageDirection==="rtl"?"se":"sw",icon:J1}),i}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{Yd(t)&&this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class FO extends Te{constructor(e,i){super(e);y(this,"children");y(this,"actionView");y(this,"arrowView");y(this,"keystrokes");y(this,"focusTracker");const s=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(i),this.arrowView=this._createArrowView(),this.keystrokes=new ii,this.focusTracker=new Ln,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",s.to("class"),s.if("isVisible","ck-hidden",r=>!r),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,i)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),i())}),this.keystrokes.set("arrowleft",(e,i)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),i())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const i=e||new ct;return e||i.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),i.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),i.delegate("execute").to(this),i}_createArrowView(){const e=new ct,i=e.bindTemplate;return e.icon=Bm,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":i.to("isOn"),"aria-haspopup":!0,"aria-expanded":i.to("isOn",s=>String(s))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}function Jd(n,t=HY){const e=typeof t=="function"?new t(n):t,i=new $Y(n),s=new wv(n,e,i);return e.bind("isEnabled").to(s),e instanceof FO?e.arrowView.bind("isOn").to(s,"isOpen"):e.bind("isOn").to(s,"isOpen"),YY(s),s}function sw(n,t,e={}){n.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),n.isOpen?XT(n,t,e):n.once("change:isOpen",()=>XT(n,t,e),{priority:"highest"}),e.enableActiveItemFocusOnDropdownOpen&&rw(n,()=>n.toolbarView.items.find(i=>i.isOn))}function XT(n,t,e){const i=n.locale,s=i.t,r=n.toolbarView=new iw(i),o=typeof t=="function"?t():t;r.ariaLabel=e.ariaLabel||s("Dropdown toolbar"),e.maxWidth&&(r.maxWidth=e.maxWidth),e.class&&(r.class=e.class),e.isCompact&&(r.isCompact=e.isCompact),e.isVertical&&(r.isVertical=!0),o instanceof ds?r.items.bindTo(o).using(l=>l):r.items.addMany(o),n.panelView.children.add(r),n.focusTracker.add(r),r.items.delegate("execute").to(n)}function rw(n,t){n.on("change:isOpen",()=>{if(!n.isOpen)return;const e=t();e&&(typeof e.focus=="function"?e.focus():zt("ui-dropdown-focus-child-on-open-child-missing-focus",{view:e}))},{priority:da.low-10})}function YY(n){XY(n),JY(n),ZY(n),QY(n),eX(n),tX(n)}function XY(n){tw({emitter:n,activator:()=>n.isRendered&&n.isOpen,callback:()=>{n.isOpen=!1},contextElements:()=>[n.element,...zO(n.focusTracker).filter(t=>!n.element.contains(t))]})}function zO(n){return[...n.elements,...n.externalViews.flatMap(t=>zO(t.focusTracker))]}function JY(n){n.on("execute",t=>{t.source instanceof nw||(n.isOpen=!1)})}function ZY(n){n.focusTracker.on("change:isFocused",(t,e,i)=>{i||!n.isOpen||(n.isOpen=!1)})}function QY(n){n.keystrokes.set("arrowdown",(t,e)=>{n.isOpen&&(n.panelView.focus(),e())}),n.keystrokes.set("arrowup",(t,e)=>{n.isOpen&&(n.panelView.focusLast(),e())})}function eX(n){n.on("change:isOpen",(t,e,i)=>{if(i)return;n.focusTracker.elements.some(r=>r.contains(ke.document.activeElement))&&n.buttonView.focus()})}function tX(n){n.on("change:isOpen",(t,e,i)=>{i&&n.panelView.focus()},{priority:"low"})}const _v=(n,t,e)=>{const i=new zY(n.locale);return i.set({id:t,ariaDescribedById:e}),i.bind("isReadOnly").to(n,"isEnabled",s=>!s),i.bind("hasError").to(n,"errorText",s=>!!s),i.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(i),i},nX=(n,t,e)=>{const i=new UY(n.locale);return i.set({id:t,ariaDescribedById:e,inputMode:"numeric"}),i.bind("isReadOnly").to(n,"isEnabled",s=>!s),i.bind("hasError").to(n,"errorText",s=>!!s),i.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(i),i},iX=150;class sX extends Te{constructor(e,i={}){super(e);y(this,"hexInputRow");y(this,"_debounceColorPickerEvent");y(this,"_config");this.set({color:"",_hexColor:""}),this.hexInputRow=this._createInputRow();const s=this.createCollection();i.hideInput||s.add(this.hexInputRow),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:s}),this._config=i,this._debounceColorPickerEvent=Tr(r=>{this.set("color",r),this.fire("colorSelected",{color:this.color})},iX,{leading:!0}),this.on("set:color",(r,o,l)=>{r.return=IO(l,this._config.format||"hsl")}),this.on("change:color",()=>{this._hexColor=Q0(this.color)}),this.on("change:_hexColor",()=>{document.activeElement!==this.picker&&this.picker.setAttribute("color",this._hexColor),Q0(this.color)!=Q0(this._hexColor)&&(this.color=this._hexColor)})}render(){if(super.render(),BY("hex-color-picker",rY),this.picker=ke.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);const e=document.createElement("style");e.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(e)}this.picker.addEventListener("color-changed",e=>{const i=e.detail.value;this._debounceColorPickerEvent(i)})}focus(){/* istanbul ignore next -- @preserve */!this._config.hideInput&&(Ie.isGecko||Ie.isiOS||Ie.isSafari||Ie.isBlink)&&this.hexInputRow.children.get(1).focus(),this.slidersView.first.focus()}_createSlidersView(){const s=[...this.picker.shadowRoot.children].filter(r=>r.getAttribute("role")==="slider").map(r=>new rX(r));this.slidersView=this.createCollection(),s.forEach(r=>{this.slidersView.add(r)})}_createInputRow(){const e=this._createColorInput();return new aX(this.locale,e)}_createColorInput(){const e=new $p(this.locale,_v),{t:i}=this.locale;return e.set({label:i("HEX"),class:"color-picker-hex-input"}),e.fieldView.bind("value").to(this,"_hexColor",s=>e.isFocused?e.fieldView.value:s.startsWith("#")?s.substring(1):s),e.fieldView.on("input",()=>{const s=e.fieldView.element.value;if(s){const r=UO(s);r&&this._debounceColorPickerEvent(r)}}),e}isValid(){const{t:e}=this.locale;return this._config.hideInput?!0:(this.resetValidationStatus(),this.hexInputRow.getParsedColor()?!0:(this.hexInputRow.inputView.errorText=e('Please enter a valid color (e.g. "ff0000").'),!1))}resetValidationStatus(){this.hexInputRow.inputView.errorText=null}}function Q0(n){let t=LY(n);return t||(t="#000"),t.length===4&&(t="#"+[t[1],t[1],t[2],t[2],t[3],t[3]].join("")),t.toLowerCase()}class rX extends Te{constructor(t){super(),this.element=t}focus(){this.element.focus()}}class oX extends Te{constructor(t){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class aX extends Te{constructor(e,i){super(e);y(this,"children");y(this,"inputView");this.inputView=i,this.children=this.createCollection([new oX,this.inputView]),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}getParsedColor(){return UO(this.inputView.fieldView.element.value)}}function UO(n){if(!n)return null;const t=n.trim().replace(/^#/,"");return![3,4,6,8].includes(t.length)||!/^(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})$/.test(t)?null:`#${t}`}class lX extends jt(Gs){constructor(t){super(t),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(t,e){return this.find(i=>i.color===t.color)?this:super.add(t,e)}hasColor(t){return!!this.find(e=>e.color===t)}}class cX extends Te{constructor(e,{colors:i,columns:s,removeButtonLabel:r,documentColorsLabel:o,documentColorsCount:l,colorPickerLabel:u,focusTracker:f,focusables:h}){super(e);y(this,"items");y(this,"colorDefinitions");y(this,"focusTracker");y(this,"columns");y(this,"documentColors");y(this,"documentColorsCount");y(this,"staticColorsGrid");y(this,"documentColorsGrid");y(this,"colorPickerButtonView");y(this,"removeColorButtonView");y(this,"_focusables");y(this,"_documentColorsLabel");y(this,"_removeButtonLabel");y(this,"_colorPickerLabel");const m=this.bindTemplate;this.set("isVisible",!0),this.focusTracker=f,this.items=this.createCollection(),this.colorDefinitions=i,this.columns=s,this.documentColors=new lX,this.documentColorsCount=l,this._focusables=h,this._removeButtonLabel=r,this._colorPickerLabel=u,this._documentColorsLabel=o,this.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",m.if("isVisible","ck-hidden",b=>!b)]},children:this.items}),this.removeColorButtonView=this._createRemoveColorButton(),this.items.add(this.removeColorButtonView)}updateDocumentColors(e,i){const s=e.document,r=this.documentColorsCount;this.documentColors.clear();for(const o of s.getRoots()){const l=e.createRangeIn(o);for(const u of l.getItems())if(u.is("$textProxy")&&u.hasAttribute(i)&&(this._addColorToDocumentColors(u.getAttribute(i)),this.documentColors.length>=r))return}}updateSelectedColors(){const e=this.documentColorsGrid,i=this.staticColorsGrid,s=this.selectedColor;i.selectedColor=s,e&&(e.selectedColor=s)}render(){if(super.render(),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){const e=rs.bind(this.documentColors,this.documentColors),i=new Te(this.locale);i.setTemplate({tag:"span",attributes:{class:["ck","ck-color-grid__label",e.if("isEmpty","ck-hidden")]},children:[{text:this._documentColorsLabel}]}),this.items.add(i),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker()}focus(){this.removeColorButtonView.focus()}destroy(){super.destroy()}addColorPickerButton(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}_addColorSelectorElementsToFocusTracker(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}_createColorPickerButton(){this.colorPickerButtonView=new ct,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:dK,class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",()=>{this.fire("colorPicker:show")})}_createRemoveColorButton(){const e=new ct;return e.set({withText:!0,icon:mK,label:this._removeButtonLabel}),e.class="ck-color-selector__remove-color",e.on("execute",()=>{this.fire("execute",{value:null,source:"removeColorButton"})}),e.render(),e}_createStaticColorsGrid(){const e=new qT(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return e.on("execute",(i,s)=>{this.fire("execute",{value:s.value,source:"staticColorsGrid"})}),e}_createDocumentColorsGrid(){const e=rs.bind(this.documentColors,this.documentColors),i=new qT(this.locale,{columns:this.columns});return i.extendTemplate({attributes:{class:e.if("isEmpty","ck-hidden")}}),i.items.bindTo(this.documentColors).using(s=>{var o;const r=new MO;return r.set({color:s.color,hasBorder:(o=s.options)==null?void 0:o.hasBorder}),s.label&&r.set({label:s.label,tooltip:!0}),r.on("execute",()=>{this.fire("execute",{value:s.color,source:"documentColorsGrid"})}),r}),this.documentColors.on("change:isEmpty",(s,r,o)=>{o&&(i.selectedColor=null)}),i}_addColorToDocumentColors(e){const i=this.colorDefinitions.find(s=>s.color===e);i?this.documentColors.add(Object.assign({},i)):this.documentColors.add({color:e,label:e,options:{hasBorder:!1}})}}class uX extends Te{constructor(e,{focusTracker:i,focusables:s,keystrokes:r,colorPickerViewConfig:o}){super(e);y(this,"items");y(this,"colorPickerView");y(this,"saveButtonView");y(this,"cancelButtonView");y(this,"actionBarView");y(this,"focusTracker");y(this,"keystrokes");y(this,"_focusables");y(this,"_colorPickerViewConfig");this.items=this.createCollection(),this.focusTracker=i,this.keystrokes=r,this.set("isVisible",!1),this.set("selectedColor",void 0),this._focusables=s,this._colorPickerViewConfig=o;const l=this.bindTemplate,{saveButtonView:u,cancelButtonView:f}=this._createActionButtons();this.saveButtonView=u,this.cancelButtonView=f,this.actionBarView=this._createActionBarView({saveButtonView:u,cancelButtonView:f}),this.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",l.if("isVisible","ck-hidden",h=>!h)]},children:this.items})}render(){super.render();const e=new sX(this.locale,{...this._colorPickerViewConfig});this.colorPickerView=e,this.colorPickerView.render(),this.selectedColor&&(e.color=this.selectedColor),this.listenTo(this,"change:selectedColor",(i,s,r)=>{e.color=r}),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}destroy(){super.destroy()}focus(){this.colorPickerView.focus()}resetValidationStatus(){this.colorPickerView.resetValidationStatus()}_executeOnEnterPress(){this.keystrokes.set("enter",e=>{this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element&&this.colorPickerView.isValid()&&(this.fire("execute",{value:this.selectedColor}),e.stopPropagation(),e.preventDefault())})}_stopPropagationOnArrowsKeys(){const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}_addColorPickersElementsToFocusTracker(){for(const i of this.colorPickerView.slidersView)this.focusTracker.add(i.element),this._focusables.add(i);const e=this.colorPickerView.hexInputRow.children.get(1);e.element&&(this.focusTracker.add(e.element),this._focusables.add(e)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}_createActionBarView({saveButtonView:e,cancelButtonView:i}){const s=new Te,r=this.createCollection();return r.add(e),r.add(i),s.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:r}),s}_createActionButtons(){const e=this.locale,i=e.t,s=new ct(e),r=new ct(e);return s.set({icon:gO,class:"ck-button-save",type:"button",withText:!1,label:i("Accept")}),r.set({icon:mO,class:"ck-button-cancel",type:"button",withText:!1,label:i("Cancel")}),s.on("execute",()=>{this.colorPickerView.isValid()&&this.fire("execute",{source:"colorPickerSaveButton",value:this.selectedColor})}),r.on("execute",()=>{this.fire("colorPicker:cancel")}),{saveButtonView:s,cancelButtonView:r}}_executeUponColorChange(){this.colorPickerView.on("colorSelected",(e,i)=>{this.fire("execute",{value:i.color,source:"colorPicker"}),this.set("selectedColor",i.color)})}}class $O extends Te{constructor(e,{colors:i,columns:s,removeButtonLabel:r,documentColorsLabel:o,documentColorsCount:l,colorPickerLabel:u,colorPickerViewConfig:f}){super(e);y(this,"focusTracker");y(this,"keystrokes");y(this,"items");y(this,"colorGridsFragmentView");y(this,"colorPickerFragmentView");y(this,"_focusCycler");y(this,"_focusables");y(this,"_colorPickerViewConfig");this.items=this.createCollection(),this.focusTracker=new Ln,this.keystrokes=new ii,this._focusables=new ds,this._colorPickerViewConfig=f,this._focusCycler=new Ys({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.colorGridsFragmentView=new cX(e,{colors:i,columns:s,removeButtonLabel:r,documentColorsLabel:o,documentColorsCount:l,colorPickerLabel:u,focusTracker:this.focusTracker,focusables:this._focusables}),this.colorPickerFragmentView=new uX(e,{focusables:this._focusables,focusTracker:this.focusTracker,keystrokes:this.keystrokes,colorPickerViewConfig:f}),this.set("_isColorGridsFragmentVisible",!0),this.set("_isColorPickerFragmentVisible",!1),this.set("selectedColor",void 0),this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"),this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"),this.on("change:selectedColor",(h,m,b)=>{this.colorGridsFragmentView.set("selectedColor",b),this.colorPickerFragmentView.set("selectedColor",b)}),this.colorGridsFragmentView.on("change:selectedColor",(h,m,b)=>{this.set("selectedColor",b)}),this.colorPickerFragmentView.on("change:selectedColor",(h,m,b)=>{this.set("selectedColor",b)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:this.items})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendUI(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}showColorPickerFragment(){!this.colorPickerFragmentView.colorPickerView||this._isColorPickerFragmentVisible||(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this.colorPickerFragmentView.resetValidationStatus(),this._isColorGridsFragmentVisible=!1)}showColorGridsFragment(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}updateDocumentColors(e,i){this.colorGridsFragmentView.updateDocumentColors(e,i)}updateSelectedColors(){this.colorGridsFragmentView.updateSelectedColors()}_appendColorGridsFragment(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}_appendColorPickerFragment(){this.items.length!==2&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{this.showColorPickerFragment()}),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}class dX{constructor(t){y(this,"editor");y(this,"_components",new Map);this.editor=t}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){this._components.set(ey(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new j("componentfactory-item-missing",this,{name:t});return this._components.get(ey(t)).callback(this.editor.locale)}has(t){return this._components.has(ey(t))}}function ey(n){return String(n).toLowerCase()}const JT="ck-tooltip",On=class On extends wi(){constructor(e){super();y(this,"tooltipTextView");y(this,"balloonPanelView");y(this,"_currentElementWithTooltip",null);y(this,"_currentTooltipPosition",null);y(this,"_mutationObserver",null);y(this,"_pinTooltipDebounced");y(this,"_unpinTooltipDebounced");y(this,"_watchdogExcluded");if(On._editors.add(e),On._instance)return On._instance;On._instance=this,this.tooltipTextView=new Te(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new ec(e.locale),this.balloonPanelView.class=JT,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=fX(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=Tr(this._pinTooltip,600),this._unpinTooltipDebounced=Tr(this._unpinTooltip,400),this.listenTo(ke.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(ke.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(ke.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(ke.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(ke.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(ke.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const i=e.ui.view&&e.ui.view.body;On._editors.delete(e),this.stopListening(e.ui),i&&i.has(this.balloonPanelView)&&i.remove(this.balloonPanelView),On._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),On._instance=null)}static getPositioningFunctions(e){const i=On.defaultBalloonPositions;return{s:[i.southArrowNorth,i.southArrowNorthEast,i.southArrowNorthWest],n:[i.northArrowSouth],e:[i.eastArrowWest],w:[i.westArrowEast],sw:[i.southArrowNorthEast],se:[i.southArrowNorthWest]}[e]}_onKeyDown(e,i){i.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),i.stopPropagation())}_onEnterOrFocus(e,{target:i}){const s=ty(i);if(!s){e.name==="focus"&&this._unpinTooltip();return}if(s===this._currentElementWithTooltip){this._unpinTooltipDebounced.cancel();return}this._unpinTooltip(),e.name==="focus"&&!s.matches(":hover")||s.matches("[data-cke-tooltip-instant]")?this._pinTooltip(s,ny(s)):this._pinTooltipDebounced(s,ny(s))}_onLeaveOrBlur(e,{target:i,relatedTarget:s}){if(e.name==="mouseleave"){if(!wo(i))return;const r=this.balloonPanelView.element,o=r&&(r===s||r.contains(s)),l=!o&&i===r;if(o){this._unpinTooltipDebounced.cancel();return}if(!l&&this._currentElementWithTooltip&&i!==this._currentElementWithTooltip)return;const u=ty(i),f=ty(s);(l||u&&u!==f)&&(this._pinTooltipDebounced.cancel(),this._currentElementWithTooltip&&this._currentElementWithTooltip.matches("[data-cke-tooltip-instant]")||u&&u.matches("[data-cke-tooltip-instant]")?this._unpinTooltip():this._unpinTooltipDebounced())}else{if(this._currentElementWithTooltip&&i!==this._currentElementWithTooltip)return;this._pinTooltipDebounced.cancel(),this._unpinTooltipDebounced()}}_onScroll(e,{target:i}){this._currentElementWithTooltip&&(i.contains(this.balloonPanelView.element)&&i.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:i,position:s,cssClass:r}){this._unpinTooltip();const o=$i(On._editors.values()).ui.view.body;o.has(this.balloonPanelView)||o.add(this.balloonPanelView),this.tooltipTextView.text=i,this.balloonPanelView.class=[JT,r].filter(l=>l).join(" "),this.balloonPanelView.pin({target:e,positions:On.getPositioningFunctions(s)}),this._mutationObserver.attach(e);for(const l of On._editors)this.listenTo(l.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=s}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of On._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const e=ny(this._currentElementWithTooltip);if(!Ar(this._currentElementWithTooltip)||!e.text){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:On.getPositioningFunctions(e.position)})}};y(On,"defaultBalloonPositions",ec.generatePositions({heightOffset:5,sideOffset:13})),y(On,"_editors",new Set),y(On,"_instance",null);let kv=On;function ty(n){return wo(n)?n.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function ny(n){return{text:n.dataset.ckeTooltipText,position:n.dataset.ckeTooltipPosition||"s",cssClass:n.dataset.ckeTooltipClass||""}}function fX(n){const t=new MutationObserver(()=>{n()});return{attach(e){t.observe(e,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){t.disconnect()}}}const hX=50,pX=350;class HO extends wi(){constructor(e,i={}){super();y(this,"editor");y(this,"_balloonView",null);y(this,"_showBalloonThrottled",Mp(()=>this._showBalloon(),50,{leading:!0}));y(this,"_lastFocusedEditableElement",null);y(this,"_balloonClass");this.editor=e,this._balloonClass=i.balloonClass,e.on("ready",()=>this._handleEditorReady())}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;this._isEnabled()&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(i,s,r)=>{this._updateLastFocusedEditableElement(),r?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(i,s,r)=>{this._updateLastFocusedEditableElement(),r&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_getNormalizedConfig(){return{side:this.editor.locale.contentLanguageDirection==="ltr"?"right":"left",position:"border",verticalOffset:0,horizontalOffset:5}}_showBalloon(){const e=this._getBalloonAttachOptions();e&&(this._balloonView||(this._balloonView=this._createBalloonView()),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_createBalloonView(){const e=this.editor,i=new ec,s=this._createBadgeContent();return i.content.add(s),this._balloonClass&&(i.class=this._balloonClass),e.ui.view.body.add(i),i}_getBalloonAttachOptions(){if(!this._lastFocusedEditableElement)return null;const e=this._getNormalizedConfig(),i=e.side==="right"?mX(this._lastFocusedEditableElement,e):gX(this._lastFocusedEditableElement,e);return{target:this._lastFocusedEditableElement,positions:[i]}}_updateLastFocusedEditableElement(){const e=this.editor,i=e.ui.focusTracker.isFocused,s=e.ui.focusTracker.focusedElement;if(!i||!s){this._lastFocusedEditableElement=null;return}const r=Array.from(e.ui.getEditableElementsNames()).map(o=>e.ui.getEditableElement(o));r.includes(s)?this._lastFocusedEditableElement=s:this._lastFocusedEditableElement=r[0]}}function mX(n,t){return jO(n,t,(e,i)=>e.left+e.width-i.width-t.horizontalOffset)}function gX(n,t){return jO(n,t,e=>e.left+t.horizontalOffset)}function jO(n,t,e){return(i,s)=>{const r=new Je(n);if(r.width<pX||r.height<hX)return null;let o;t.position==="inside"?o=r.bottom-s.height:o=r.bottom-s.height/2,o-=t.verticalOffset;const l=e(r,s),f=i.clone().moveTo(l,o).getIntersection(s.clone().moveTo(l,o)).getVisible();return!f||f.getArea()<s.getArea()?null:{top:o,left:l,name:`position_${t.position}-side_${t.side}`,config:{withArrow:!1}}}}const bX="Powered by";class yX extends HO{constructor(t){super(t,{balloonClass:"ck-powered-by-balloon"})}_isEnabled(){const t=this.editor;if(t.config.get("ui.poweredBy.forceVisible"))return!0;const i=t.config.get("licenseKey");if(i=="GPL")return!0;const s=D1(i.split(".")[1]);return s?!s.whiteLabel:!0}_createBadgeContent(){return new vX(this.editor.locale,this._getNormalizedConfig().label)}_getNormalizedConfig(){const t=super._getNormalizedConfig(),e=this.editor.config.get("ui.poweredBy")||{},i=e.position||t.position,s=i==="inside"?5:t.verticalOffset;return{position:i,side:e.side||t.side,label:e.label===void 0?bX:e.label,verticalOffset:e.verticalOffset!==void 0?e.verticalOffset:s,horizontalOffset:e.horizontalOffset!==void 0?e.horizontalOffset:t.horizontalOffset,forceVisible:!!e.forceVisible}}}class vX extends Te{constructor(t,e){super(t);const i=new qs,s=this.bindTemplate;i.set({content:MK,isColorInherited:!1}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/powered-by-ckeditor/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...e?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[e]}]:[],i],on:{dragstart:s.to(r=>r.preventDefault())}}]})}}class wX extends HO{constructor(e){super(e,{balloonClass:"ck-evaluation-badge-balloon"});y(this,"licenseTypeMessage",{evaluation:"For evaluation purposes only",trial:"For evaluation purposes only",development:"For development purposes only"})}_isEnabled(){const i=this.editor.config.get("licenseKey"),s=ZT(i);return!!(s&&this.licenseTypeMessage[s])}_createBadgeContent(){const e=this.editor.config.get("licenseKey"),i=ZT(e);return new _X(this.editor.locale,this.licenseTypeMessage[i])}_getNormalizedConfig(){const e=super._getNormalizedConfig(),i=this.editor.config.get("ui.poweredBy")||{},s=i.position||e.position,r=i.side||e.side;return{position:s,side:r==="left"?"right":"left",verticalOffset:e.verticalOffset,horizontalOffset:e.horizontalOffset}}}class _X extends Te{constructor(t,e){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-evaluation-badge"],"aria-hidden":!0},children:[{tag:"span",attributes:{class:["ck","ck-evaluation-badge__label"]},children:[e]}]})}}function ZT(n){if(n=="GPL")return"GPL";const t=D1(n.split(".")[1]);return t?t.licenseType||"production":null}const QT={POLITE:"polite",ASSERTIVE:"assertive"};class kX{constructor(t){y(this,"editor");y(this,"view");this.editor=t,t.once("ready",()=>{for(const e of Object.values(QT))this.announce("",e)})}announce(t,e=QT.POLITE){const i=this.editor;if(!i.ui.view)return;this.view||(this.view=new CX(i.locale),i.ui.view.body.add(this.view));const{politeness:s,isUnsafeHTML:r}=typeof e=="string"?{politeness:e}:e;let o=this.view.regionViews.find(l=>l.politeness===s);o||(o=new SX(i,s),this.view.regionViews.add(o)),o.announce({announcement:t,isUnsafeHTML:r})}}class CX extends Te{constructor(e){super(e);y(this,"regionViews");this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class SX extends Te{constructor(e,i){super(e.locale);y(this,"politeness");y(this,"_domConverter");y(this,"_pruneAnnouncementsInterval");this.setTemplate({tag:"div",attributes:{"aria-live":i,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=i,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:i}){if(!e.trim().length)return;const s=document.createElement("li");i?this._domConverter.setContentOf(s,e):s.innerText=e,this._listElement.appendChild(s)}get _listElement(){return this.element.querySelector("ul")}}class ow extends ko{constructor(t,e){super(t);const i=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:i.to("mouseenter")}}),this.delegate("mouseenter").to(e)}}const Lh=5,Tl={toggleMenusAndFocusItemsOnHover(n){n.on("menu:mouseenter",t=>{if(!(!n.isFocusBorderEnabled&&!n.isOpen)){if(n.isOpen)for(const e of n.menus){const i=t.path[0],s=i instanceof ow&&i.children.first===e;e.isOpen=(t.path.includes(e)||s)&&e.isEnabled}t.source.focus()}})},focusCycleMenusOnArrows(n){const t=n.locale.uiLanguageDirection==="rtl";n.on("menu:arrowright",i=>{e(i.source,t?-1:1)}),n.on("menu:arrowleft",i=>{e(i.source,t?1:-1)});function e(i,s){const r=n.children.getIndex(i),o=i.isOpen,l=n.children.length,u=n.children.get((r+l+s)%l);i.isOpen=!1,o&&(u.isOpen=!0),u.buttonView.focus()}},closeMenusWhenTheBarCloses(n){n.on("change:isOpen",()=>{n.isOpen||n.menus.forEach(t=>{t.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(n){n.on("menu:change:isOpen",(t,e,i)=>{i&&n.menus.filter(s=>t.source.parentMenuView===s.parentMenuView&&t.source!==s&&s.isOpen).forEach(s=>{s.isOpen=!1})})},closeOnClickOutside(n){tw({emitter:n,activator:()=>n.isOpen,callback:()=>n.close(),contextElements:()=>n.children.map(t=>t.element)})},enableFocusHighlightOnInteraction(n){let t=!1;n.on("change:isOpen",(e,i,s)=>{s||(t||(n.isFocusBorderEnabled=!1),t=!1)}),n.listenTo(n.element,"keydown",()=>{t=!0},{useCapture:!0}),n.listenTo(n.element,"keyup",()=>{t=!1},{useCapture:!0}),n.listenTo(n.element,"focus",()=>{t&&(n.isFocusBorderEnabled=!0)},{useCapture:!0})}},ro={openAndFocusPanelOnArrowDownKey(n){n.keystrokes.set("arrowdown",(t,e)=>{n.isEnabled&&n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen||(n.isOpen=!0),n.panelView.focus(),e())})},openOnArrowRightKey(n){const t=n.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";n.keystrokes.set(t,(e,i)=>{n.focusTracker.focusedElement!==n.buttonView.element||!n.isEnabled||(n.isOpen||(n.isOpen=!0),n.panelView.focus(),i())})},openOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!0})},toggleOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!n.isOpen})},openAndFocusOnEnterKeyPress(n){n.keystrokes.set("enter",(t,e)=>{n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen=!0,n.panelView.focus(),e())})},closeOnArrowLeftKey(n){const t=n.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";n.keystrokes.set(t,(e,i)=>{n.isOpen&&(n.isOpen=!1,n.focus(),i())})},closeOnEscKey(n){n.keystrokes.set("esc",(t,e)=>{n.isOpen&&(n.isOpen=!1,n.focus(),e())})},closeOnParentClose(n){n.parentMenuView.on("change:isOpen",(t,e,i)=>{!i&&t.source===n.parentMenuView&&(n.isOpen=!1)})}},xX={southEast:n=>({top:n.bottom,left:n.left,name:"se"}),southWest:(n,t)=>({top:n.bottom,left:n.left-t.width+n.width,name:"sw"}),northEast:(n,t)=>({top:n.top-t.height,left:n.left,name:"ne"}),northWest:(n,t)=>({top:n.top-t.height,left:n.left-t.width+n.width,name:"nw"}),eastSouth:n=>({top:n.top,left:n.right-Lh,name:"es"}),eastNorth:(n,t)=>({top:n.top-t.height,left:n.right-Lh,name:"en"}),westSouth:(n,t)=>({top:n.top,left:n.left-t.width+Lh,name:"ws"}),westNorth:(n,t)=>({top:n.top-t.height,left:n.left-t.width+Lh,name:"wn"})},TX=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditingEnhanced",items:["menuBar:sourceEditingEnhanced"]},{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"fullscreen",items:["menuBar:fullscreen"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable","menuBar:insertTableLayout"]},{groupId:"insertInline",items:["menuBar:link","menuBar:bookmark","menuBar:comment","menuBar:insertMergeField","menuBar:emoji"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function EX(n){let t;return!("items"in n)||!n.items?t={items:Vi(TX),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...n}:t={items:n.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...n},t}function AX({normalizedConfig:n,locale:t,componentFactory:e,extraItems:i}){const s=Vi(n);return eE(n,s,i),PX(n,s),eE(n,s,s.addItems),RX(n,s,e),WO(n,s),OX(s,t),s}function PX(n,t){const e=t.removeItems,i=[];t.items=t.items.filter(({menuId:s})=>e.includes(s)?(i.push(s),!1):!0),uc(t.items,s=>{s.groups=s.groups.filter(({groupId:r})=>e.includes(r)?(i.push(r),!1):!0);for(const r of s.groups)r.items=r.items.filter(o=>{const l=qO(o);return e.includes(l)?(i.push(l),!1):!0})});for(const s of e)i.includes(s)||zt("menu-bar-item-could-not-be-removed",{menuBarConfig:n,itemName:s})}function eE(n,t,e){const i=[];if(e.length!=0){for(const s of e){const r=LX(s.position),o=BX(s.position);if(MX(s))if(!o)r==="start"?(t.items.unshift(s.menu),i.push(s)):r==="end"&&(t.items.push(s.menu),i.push(s));else{const l=t.items.findIndex(u=>u.menuId===o);l!=-1?r==="before"?(t.items.splice(l,0,s.menu),i.push(s)):r==="after"&&(t.items.splice(l+1,0,s.menu),i.push(s)):tE(t,s.menu,o,r)&&i.push(s)}else IX(s)?uc(t.items,l=>{if(l.menuId===o)r==="start"?(l.groups.unshift(s.group),i.push(s)):r==="end"&&(l.groups.push(s.group),i.push(s));else{const u=l.groups.findIndex(f=>f.groupId===o);u!==-1&&(r==="before"?(l.groups.splice(u,0,s.group),i.push(s)):r==="after"&&(l.groups.splice(u+1,0,s.group),i.push(s)))}}):tE(t,s.item,o,r)&&i.push(s)}for(const s of e)i.includes(s)||zt("menu-bar-item-could-not-be-added",{menuBarConfig:n,addedItemConfig:s})}}function tE(n,t,e,i){let s=!1;return uc(n.items,r=>{for(const{groupId:o,items:l}of r.groups){if(s)return;if(o===e)i==="start"?(l.unshift(t),s=!0):i==="end"&&(l.push(t),s=!0);else{const u=l.findIndex(f=>qO(f)===e);u!==-1&&(i==="before"?(l.splice(u,0,t),s=!0):i==="after"&&(l.splice(u+1,0,t),s=!0))}}}),s}function RX(n,t,e){uc(t.items,i=>{for(const s of i.groups)s.items=s.items.filter(r=>{const o=typeof r=="string"&&!e.has(r);return o&&!t.isUsingDefaultConfig&&zt("menu-bar-item-unavailable",{menuBarConfig:n,parentMenuConfig:Vi(i),componentName:r}),!o})})}function WO(n,t){const e=t.isUsingDefaultConfig;let i=!1;if(t.items=t.items.filter(s=>s.groups.length?!0:(iy(n,s,e),!1)),!t.items.length){iy(n,n,e);return}uc(t.items,s=>{s.groups=s.groups.filter(r=>r.items.length?!0:(i=!0,!1));for(const r of s.groups)r.items=r.items.filter(o=>GO(o)&&!o.groups.length?(iy(n,o,e),i=!0,!1):!0)}),i&&WO(n,t)}function iy(n,t,e){e||zt("menu-bar-menu-empty",{menuBarConfig:n,emptyMenuConfig:t})}function OX(n,t){const e=t.t,i={File:e({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:e({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:e({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:e({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:e({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:e({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:e({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:e({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:e({string:"Font",id:"MENU_BAR_MENU_FONT"})};uc(n.items,s=>{s.label in i&&(s.label=i[s.label])})}function uc(n,t){if(Array.isArray(n))for(const i of n)e(i);function e(i){t(i);for(const s of i.groups)for(const r of s.items)GO(r)&&e(r)}}function MX(n){return typeof n=="object"&&"menu"in n}function IX(n){return typeof n=="object"&&"group"in n}function LX(n){return n.startsWith("start")?"start":n.startsWith("end")?"end":n.startsWith("after")?"after":"before"}function BX(n){const t=n.match(/^[^:]+:(.+)/);return t?t[1]:null}function qO(n){return typeof n=="string"?n:n.menuId}function GO(n){return typeof n=="object"&&"menuId"in n}class DX extends jt(){constructor(e){super();y(this,"editor");y(this,"componentFactory");y(this,"focusTracker");y(this,"tooltipManager");y(this,"poweredBy");y(this,"evaluationBadge");y(this,"ariaLiveAnnouncer");y(this,"isReady",!1);y(this,"_editableElementsMap",new Map);y(this,"_focusableToolbarDefinitions",[]);y(this,"_extraMenuBarElements",[]);y(this,"_lastFocusedForeignElement",null);y(this,"_domEmitter");const i=e.editing.view;this.editor=e,this.componentFactory=new dX(e),this.focusTracker=new Ln,this.tooltipManager=new kv(e),this.poweredBy=new yX(e),this.evaluationBadge=new wX(e),this.ariaLiveAnnouncer=new kX(e),this._initViewportOffset(this._readViewportOffsetFromConfig()),this.once("ready",()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0}),this.listenTo(i.document,"layoutChanged",this.update.bind(this)),this.listenTo(i,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking(),this._initVisualViewportSupport()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy(),this.evaluationBadge.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this._domEmitter&&this._domEmitter.stopListening()}setEditableElement(e,i){this._editableElementsMap.set(e,i),i.ckeditorInstance||(i.ckeditorInstance=this.editor),this.focusTracker.add(i);const s=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(i)};this.isReady?s():this.once("ready",s)}removeEditableElement(e){const i=this._editableElementsMap.get(e);i&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(i),this.focusTracker.remove(i),i.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,i={}){e.isRendered?(this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:i})}extendMenuBar(e){this._extraMenuBarElements.push(e)}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}initMenuBar(e){const i=e.element;this.focusTracker.add(i),this.editor.keystrokes.listenTo(i);const s=EX(this.editor.config.get("menuBar")||{});e.fillFromConfig(s,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",(r,o)=>{i.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),o())}),this.editor.keystrokes.set("Alt+F9",(r,o)=>{i.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),e.isFocusBorderEnabled=!0,e.focus(),o())})}_readViewportOffsetFromConfig(){const e=this.editor,i=e.config.get("ui.viewportOffset");if(i)return i;const s=e.config.get("toolbar.viewportTopOffset");return s?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:s}):{top:0}}_initFocusTracking(){const e=this.editor;let i;e.keystrokes.set("Alt+F10",(s,r)=>{this._saveLastFocusedForeignElement();const o=this._getCurrentFocusedToolbarDefinition();(!o||!i)&&(i=this._getFocusableCandidateToolbarDefinitions());for(let l=0;l<i.length;l++){const u=i.shift();if(i.push(u),u!==o&&this._focusFocusableCandidateToolbar(u)){o&&o.options.afterBlur&&o.options.afterBlur();break}}r()}),e.keystrokes.set("Esc",(s,r)=>{const o=this._getCurrentFocusedToolbarDefinition();o&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):e.editing.view.focus(),o.options.afterBlur&&o.options.afterBlur(),r())})}_saveLastFocusedForeignElement(){const e=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(e)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(e)&&(this._lastFocusedForeignElement=e)}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const i of this._focusableToolbarDefinitions){const{toolbarView:s,options:r}=i;(Ar(s.element)||r.beforeFocus)&&e.push(i)}return e.sort((i,s)=>nE(i)-nE(s)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:i,options:{beforeFocus:s}}=e;return s&&s(),Ar(i.element)?(i.focus(),!0):!1}_handleScrollToTheSelection(e,i){const s={top:0,bottom:0,left:0,right:0,...this.viewportOffset};i.viewportOffset.top+=s.top,i.viewportOffset.bottom+=s.bottom,i.viewportOffset.left+=s.left,i.viewportOffset.right+=s.right}_bindBodyCollectionWithFocusTracker(){const e=this.view.body;for(const i of e)this.focusTracker.add(i.element);e.on("add",(i,s)=>{this.focusTracker.add(s.element)}),e.on("remove",(i,s)=>{this.focusTracker.remove(s.element)})}_initViewportOffset(e){this.on("set:viewportOffset",(i,s,r)=>{const o=this._getVisualViewportTopOffset(r);r.visualTop!==o&&(i.return={...r,visualTop:o})}),this.set("viewportOffset",e)}_initVisualViewportSupport(){if(!ke.window.visualViewport)return;const e=()=>{const i=this._getVisualViewportTopOffset(this.viewportOffset);this.viewportOffset.visualTop!==i&&(this.viewportOffset={...this.viewportOffset,visualTop:i})};this._domEmitter=new(wi()),this._domEmitter.listenTo(ke.window.visualViewport,"scroll",e),this._domEmitter.listenTo(ke.window.visualViewport,"resize",e)}_getVisualViewportTopOffset(e){const i=tp().top,s=e.top||0;return i>s?0:s-i}}function nE(n){const{toolbarView:t,options:e}=n;let i=10;return Ar(t.element)&&i--,e.isContextual&&(i-=2),i}class NX extends Te{constructor(e){super(e);y(this,"body");y(this,"menuBarView");y(this,"toolbar");this.body=new vv(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class VX extends NX{constructor(e){super(e);y(this,"top");y(this,"main");y(this,"_voiceLabelView");this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,i=new Fm;return i.text=e("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}class FX extends Te{constructor(e,i,s){super(e);y(this,"name",null);y(this,"_editingView");y(this,"_editableElement");y(this,"_hasExternalElement");this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=s,this._hasExternalElement=!!this._editableElement,this._editingView=i}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?s(this):i(this);function i(r){e.change(o=>{const l=e.document.getRoot(r.name);o.addClass(r.isFocused?"ck-focused":"ck-blurred",l),o.removeClass(r.isFocused?"ck-blurred":"ck-focused",l)})}function s(r){e.once("change:isRenderingInProgress",(o,l,u)=>{u?s(r):i(r)})}}}class zX extends FX{constructor(e,i,s,r={}){super(e,i,s);y(this,"_options");this._options=r,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const e=this._editingView;e.change(i=>{const s=e.document.getRoot(this.name);i.setAttribute("aria-label",this.getEditableAriaLabel(),s)})}getEditableAriaLabel(){const e=this.locale.t,i=this._options.label,s=this._editableElement,r=this.name;if(typeof i=="string")return i;if(typeof i=="object")return i[r];if(typeof i=="function")return i(this);if(s){const o=s.getAttribute("aria-label");if(o)return o}return e("Rich Text Editor. Editing area: %0",r)}}class iE extends Te{constructor(e,i={}){super(e);y(this,"children");const s=this.bindTemplate;this.set("class",["ck","ck-form__row",...Wt(i.class||[])]),this.children=this.createCollection(),i.children&&i.children.forEach(r=>this.children.add(r)),this.set("_role",null),this.set("_ariaLabelledBy",null),i.labelView&&this.set({_role:"group",_ariaLabelledBy:i.labelView.id}),this.setTemplate({tag:"div",attributes:{class:s.to("class",r=>r.join(" ")),role:s.to("_role"),"aria-labelledby":s.to("_ariaLabelledBy")},children:this.children})}}const Bh=Gd("px");class sE extends De{constructor(e){super(e);y(this,"positionLimiter");y(this,"visibleStack");y(this,"_viewToStack",new Map);y(this,"_idToStack",new Map);y(this,"_view",null);y(this,"_rotatorView",null);y(this,"_fakePanelsView",null);this.positionLimiter=()=>{const i=this.editor.editing.view,r=i.document.selection.editableElement;return r?i.domConverter.mapViewToDom(r.root):null},this.decorate("getPositionOptions"),this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new j("contextualballoon-add-view-exist",[this,e]);const i=e.stackId||"main";if(!this._idToStack.has(i)){this._idToStack.set(i,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(i);return}const s=this._idToStack.get(i);e.singleViewMode&&this.showStack(i),s.set(e.view,e),this._viewToStack.set(e.view,s),s===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new j("contextualballoon-remove-view-not-exist",[this,e]);const i=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition()}getPositionOptions(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:{...this.editor.ui.viewportOffset,top:this.editor.ui.viewportOffset.visualTop}})),e}showStack(e){this.visibleStack=e;const i=this._idToStack.get(e);if(!i)throw new j("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}_createPanelView(){this._view=new ec(this.editor.locale),this.editor.ui.view.body.add(this._view),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(s=>s[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)+1;e[i]||(i=0),this.showStack(this._getStackId(e[i]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)-1;e[i]||(i=e.length-1),this.showStack(this._getStackId(e[i]))}_createRotatorView(){const e=new UX(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(s,r)=>!r&&s>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(s,r)=>{if(r<2)return"";const o=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return i("%0 of %1",[o,r])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new $X(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(i,s)=>!s&&i>=2?Math.min(i-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:i="",withArrow:s=!0,singleViewMode:r=!1}){this.view.class=i,this.view.withArrow=s,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition(),r&&(this._singleViewMode=!0)}}class UX extends Te{constructor(e){super(e);y(this,"focusTracker");y(this,"buttonPrevView");y(this,"buttonNextView");y(this,"content");const i=e.t,s=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Ln,this.buttonPrevView=this._createButtonView(i("Previous"),Dm),this.buttonNextView=this._createButtonView(i("Next"),bO),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",s.to("isNavigationVisible",r=>r?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:s.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,i){const s=new ct(this.locale);return s.set({label:e,icon:i,tooltip:!0}),s}}class $X extends Te{constructor(e,i){super(e);y(this,"content");y(this,"_balloonPanelView");const s=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=i,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",s.to("numberOfPanels",r=>r?"":"ck-hidden")],style:{top:s.to("top",Bh),left:s.to("left",Bh),width:s.to("width",Bh),height:s.to("height",Bh)}},children:this.content}),this.on("change:numberOfPanels",(r,o,l,u)=>{l>u?this._addPanels(l-u):this._removePanels(u-l),this.updatePosition()})}_addPanels(e){for(;e--;){const i=new Te;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}_removePanels(e){for(;e--;){const i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:i}=this._balloonPanelView,{width:s,height:r}=new Je(this._balloonPanelView.element);Object.assign(this,{top:e,left:i,width:s,height:r})}}}const El=Gd("px");class HX extends Te{constructor(e){super(e);y(this,"content");y(this,"contentPanelElement");y(this,"_contentPanelPlaceholder");const i=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new rs({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",s=>s?"block":"none"),height:i.to("isSticky",s=>s?El(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new rs({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",s=>s?El(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:i.to("_stickyTopOffset",s=>s&&El(s)),bottom:i.to("_stickyBottomOffset",s=>s&&El(s)),marginLeft:i.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(ke.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()}),ke.window.visualViewport&&(this.listenTo(ke.window.visualViewport,"scroll",()=>{this.checkIfShouldBeSticky()}),this.listenTo(ke.window.visualViewport,"resize",()=>{this.checkIfShouldBeSticky()}))}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive){this._unstick();return}const e=new Je(this.limiterElement);let i=e.getVisible();if(i){const o=new Je(ke.window);o.top+=this.viewportTopOffset,o.height-=this.viewportTopOffset,i=i.getIntersection(o)}const{left:s,top:r}=tp();if(e.moveBy(s,r),i&&i.moveBy(s,r),i&&e.top<i.top)if(this._contentPanelRect.height+this.limiterBottomOffset>i.height){const o=Math.max(e.bottom-i.bottom,0)+this.limiterBottomOffset;this._contentPanelRect.height+o+1<e.height?this._stickToBottomOfLimiter(o):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(i.top):this._unstick();else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=El(-ke.window.scrollX+tp().left)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=El(-ke.window.scrollX+tp().left)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Je(this.contentPanelElement)}}class jX extends Vm{constructor(e){super(e);y(this,"arrowView");const i=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",s=>String(s)),"data-cke-tooltip-disabled":i.to("isOn")},on:{mouseenter:i.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new qs;return e.content=Bm,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}class WX extends Te{constructor(e){super(e);y(this,"children");const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",i.to("position",s=>`ck-menu-bar__menu__panel_position_${s}`),i.if("isVisible","ck-hidden",s=>!s)],tabindex:"-1"},children:this.children,on:{selectstart:i.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}const Kp=class Kp extends Te{constructor(e){super(e);y(this,"buttonView");y(this,"panelView");y(this,"focusTracker");y(this,"keystrokes");const i=this.bindTemplate;this.buttonView=new jX(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new WX(e),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new ii,this.focusTracker=new Ln,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",i.to("class"),i.if("isEnabled","ck-disabled",s=>!s),i.if("parentMenuView","ck-menu-bar__menu_top-level",s=>!s)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),ro.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(ro.openOnButtonClick(this),ro.openOnArrowRightKey(this),ro.closeOnArrowLeftKey(this),ro.openAndFocusOnEnterKeyPress(this),ro.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),ro.openAndFocusPanelOnArrowDownKey(this),ro.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(e,i)=>{this.fire("arrowright"),i()}),this.keystrokes.set("arrowleft",(e,i)=>{this.fire("arrowleft"),i()})}_repositionPanelOnOpen(){this.on("change:isOpen",(e,i,s)=>{if(!s)return;const r=Kp._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=r?r.name:this._defaultMenuPositionName})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:i,northEast:s,northWest:r,westSouth:o,eastSouth:l,westNorth:u,eastNorth:f}=xX;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[l,f,o,u]:[e,i,s,r]:this.parentMenuView?[o,u,l,f]:[i,e,r,s]}get _defaultMenuPositionName(){return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?"es":"se":this.parentMenuView?"ws":"sw"}};y(Kp,"_getOptimalPosition",M1);let bo=Kp;class Cv extends Xd{constructor(t){super(t),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){const t=Array.from(this.items).some(e=>{const i=rE(e);return i&&i.isToggleable});this.items.forEach(e=>{const i=rE(e);i&&(i.hasCheckSpace=t)})}}function rE(n){return n instanceof ko?n.children.map(t=>qX(t)?t.buttonView:t).find(t=>t instanceof Vm):null}function qX(n){return typeof n=="object"&&"buttonView"in n&&n.buttonView instanceof ct}class GX extends EY{constructor(t){super(t),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}const oE=["mouseenter","arrowleft","arrowright","change:isOpen"];class KX extends Te{constructor(e){super(e);y(this,"children");y(this,"menus",[]);const i=e.t,s=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",s.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":i("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,i,s=[]){const r=this.locale,l=AX({normalizedConfig:e,locale:r,componentFactory:i,extraItems:s}).items.map(u=>this._createMenu({componentFactory:i,menuDefinition:u}));this.children.addMany(l)}render(){super.render(),Tl.toggleMenusAndFocusItemsOnHover(this),Tl.closeMenusWhenTheBarCloses(this),Tl.closeMenuWhenAnotherOnTheSameLevelOpens(this),Tl.focusCycleMenusOnArrows(this),Tl.closeOnClickOutside(this),Tl.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}disable(){for(const e of this.children)e.isEnabled=!1}enable(){for(const e of this.children)e.isEnabled=!0}registerMenu(e,i=null){i?(e.delegate(...oE).to(i),e.parentMenuView=i):e.delegate(...oE).to(this,s=>"menu:"+s),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:i,parentMenuView:s}){const r=this.locale,o=new bo(r);return this.registerMenu(o,s),o.buttonView.set({label:i.label}),o.once("change:isOpen",()=>{const l=new Cv(r);l.ariaLabel=i.label,o.panelView.children.add(l),l.items.addMany(this._createMenuItems({menuDefinition:i,parentMenuView:o,componentFactory:e}))}),o}_createMenuItems({menuDefinition:e,parentMenuView:i,componentFactory:s}){const r=this.locale,o=[];for(const l of e.groups){for(const u of l.items){const f=new ow(r,i);if(xr(u))f.children.add(this._createMenu({componentFactory:s,menuDefinition:u,parentMenuView:i}));else{const h=this._createMenuItemContentFromFactory({componentName:u,componentFactory:s,parentMenuView:i});if(!h)continue;f.children.add(h)}o.push(f)}l!==e.groups[e.groups.length-1]&&o.push(new DO(r))}return o}_createMenuItemContentFromFactory({componentName:e,parentMenuView:i,componentFactory:s}){const r=s.create(e);return r instanceof bo||r instanceof Ir||r instanceof GX?(this._registerMenuTree(r,i),r.on("execute",()=>{this.close()}),r):(zt("menu-bar-component-unsupported",{componentName:e,componentView:r}),null)}_registerMenuTree(e,i){if(!(e instanceof bo)){e.delegate("mouseenter").to(i);return}this.registerMenu(e,i);const s=e.panelView.children.filter(o=>o instanceof Cv)[0];if(!s){e.delegate("mouseenter").to(i);return}const r=s.items.filter(o=>o instanceof ko);for(const o of r)this._registerMenuTree(o.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(i,s,r)=>{clearTimeout(e),r?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(o=>o.isOpen)},0)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const aw=["left","right","center","justify"];function KO(n){return aw.includes(n)}function YO(n,t){return t.contentLanguageDirection=="rtl"?n==="right":n==="left"}function XO(n){const t=n.map(i=>{let s;return typeof i=="string"?s={name:i}:s=i,s}).filter(i=>{const s=aw.includes(i.name);return s||zt("alignment-config-name-not-recognized",{option:i}),s}),e=t.filter(i=>!!i.className).length;if(e&&e<t.length)throw new j("alignment-config-classnames-are-missing",{configuredOptions:n});return t.forEach((i,s,r)=>{const o=r.slice(s+1);if(o.some(u=>u.name==i.name))throw new j("alignment-config-name-already-defined",{option:i,configuredOptions:n});if(i.className&&o.some(f=>f.className==i.className))throw new j("alignment-config-classname-already-defined",{option:i,configuredOptions:n})}),t}const lw="alignment";class YX extends Xt{refresh(){const e=this.editor.locale,i=$i(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!i&&this._canBeAligned(i),this.isEnabled&&i.hasAttribute("alignment")?this.value=i.getAttribute("alignment"):this.value=e.contentLanguageDirection==="rtl"?"right":"left"}execute(t={}){const e=this.editor,i=e.locale,s=e.model,r=s.document,o=t.value;s.change(l=>{const u=Array.from(r.selection.getSelectedBlocks()).filter(m=>this._canBeAligned(m)),f=u[0].getAttribute("alignment");YO(o,i)||f===o||!o?XX(u,l):JX(u,l,o)})}_canBeAligned(t){return this.editor.model.schema.checkAttribute(t,lw)}}function XX(n,t){for(const e of n)t.removeAttribute(lw,e)}function JX(n,t,e){for(const i of n)t.setAttribute(lw,e,i)}class ZX extends De{static get pluginName(){return"AlignmentEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("alignment",{options:aw.map(e=>({name:e}))})}init(){const t=this.editor,e=t.locale,i=t.model.schema,r=XO(t.config.get("alignment.options")).filter(f=>KO(f.name)&&!YO(f.name,e)),o=r.some(f=>!!f.className);i.extend("$block",{allowAttributes:"alignment"}),t.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),o?t.conversion.attributeToAttribute(nJ(r)):t.conversion.for("downcast").attributeToAttribute(QX(r));const l=eJ(r);for(const f of l)t.conversion.for("upcast").attributeToAttribute(f);const u=tJ(r);for(const f of u)t.conversion.for("upcast").attributeToAttribute(f);t.commands.add("alignment",new YX(t))}}function QX(n){const t={};for(const{name:i}of n)t[i]={key:"style",value:{"text-align":i}};return{model:{key:"alignment",values:n.map(i=>i.name)},view:t}}function eJ(n){const t=[];for(const{name:e}of n)t.push({view:{key:"style",value:{"text-align":e}},model:{key:"alignment",value:e}});return t}function tJ(n){const t=[];for(const{name:e}of n)t.push({view:{key:"align",value:e},model:{key:"alignment",value:e}});return t}function nJ(n){const t={};for(const i of n)t[i.name]={key:"class",value:i.className};return{model:{key:"alignment",values:n.map(i=>i.name)},view:t}}const Tu=new Map([["left",hO],["right",uK],["center",lK],["justify",cK]]);class iJ extends De{get localizedOptionTitles(){const t=this.editor.t;return{left:t("Align left"),right:t("Align right"),center:t("Align center"),justify:t("Justify")}}static get pluginName(){return"AlignmentUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=XO(t.config.get("alignment.options"));e.map(i=>i.name).filter(KO).forEach(i=>this._addButton(i)),this._addToolbarDropdown(e),this._addMenuBarMenu(e)}_addButton(t){this.editor.ui.componentFactory.add(`alignment:${t}`,i=>this._createButton(i,t))}_createButton(t,e,i={}){const s=this.editor,r=s.commands.get("alignment"),o=new ct(t);return o.set({label:this.localizedOptionTitles[e],icon:Tu.get(e),tooltip:!0,isToggleable:!0,...i}),o.bind("isEnabled").to(r),o.bind("isOn").to(r,"value",l=>l===e),this.listenTo(o,"execute",()=>{s.execute("alignment",{value:e}),s.editing.view.focus()}),o}_addToolbarDropdown(t){const e=this.editor;e.ui.componentFactory.add("alignment",s=>{const r=Jd(s),o=s.uiLanguageDirection==="rtl"?"w":"e",l=s.t;sw(r,()=>t.map(h=>this._createButton(s,h.name,{tooltipPosition:o})),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:l("Text alignment toolbar")}),r.buttonView.set({label:l("Text alignment"),tooltip:!0}),r.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const u=s.contentLanguageDirection==="rtl"?Tu.get("right"):Tu.get("left"),f=e.commands.get("alignment");return r.buttonView.bind("icon").to(f,"value",h=>Tu.get(h)||u),r.bind("isEnabled").to(f,"isEnabled"),this.listenTo(r,"execute",()=>{e.editing.view.focus()}),r})}_addMenuBarMenu(t){const e=this.editor;e.ui.componentFactory.add("menuBar:alignment",i=>{const s=e.commands.get("alignment"),r=i.t,o=new bo(i),l=new Cv(i);o.bind("isEnabled").to(s),l.set({ariaLabel:r("Text alignment"),role:"menu"}),o.buttonView.set({label:r("Text alignment")});for(const u of t){const f=new ow(i,o),h=new Ir(i);h.delegate("execute").to(o),h.set({label:this.localizedOptionTitles[u.name],icon:Tu.get(u.name),role:"menuitemcheckbox",isToggleable:!0}),h.on("execute",()=>{e.execute("alignment",{value:u.name}),e.editing.view.focus()}),h.bind("isOn").to(s,"value",m=>m===u.name),h.bind("isEnabled").to(s,"isEnabled"),f.children.add(h),l.items.add(f)}return o.panelView.children.add(l),o})}}class sJ extends De{static get requires(){return[ZX,iJ]}static get pluginName(){return"Alignment"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class JO{constructor(t,e=20){y(this,"model");y(this,"limit");y(this,"_isLocked");y(this,"_size");y(this,"_batch",null);y(this,"_changeCallback");y(this,"_selectionChangeCallback");this.model=t,this._size=0,this.limit=e,this._isLocked=!1,this._changeCallback=(i,s)=>{s.isLocal&&s.isUndoable&&s!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(t){this._size+=t,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t=!1){(!this.isLocked||t)&&(this._batch=null,this._size=0)}}class rJ extends Xt{constructor(e,i){super(e);y(this,"_buffer");this._buffer=new JO(e.model,i),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const i=this.editor.model,s=i.document,r=e.text||"",o=r.length;let l=s.selection;if(e.selection?l=e.selection:e.range&&(l=i.createSelection(e.range)),!i.canEditAt(l))return;const u=e.resultRange;i.enqueueChange(this._buffer.batch,f=>{this._buffer.lock();const h=Array.from(s.selection.getAttributes());i.deleteContent(l),r&&i.insertContent(f.createText(r,h),l),u?f.setSelection(u):l.is("documentSelection")||f.setSelection(l),this._buffer.unlock(),this._buffer.input(o)})}}const ZO=["insertText","insertReplacementText"],oJ=[...ZO,"insertCompositionText"];class aJ extends Ks{constructor(e){super(e);y(this,"focusObserver");this.focusObserver=e.getObserver(Vp);const i=Ie.isAndroid?oJ:ZO,s=e.document;s.on("beforeinput",(r,o)=>{if(!this.isEnabled)return;const{data:l,targetRanges:u,inputType:f,domEvent:h,isComposing:m}=o;if(!i.includes(f))return;this.focusObserver.flush();const b=new Er(s,"insertText");s.fire(b,new wa(e,h,{text:l,selection:e.createSelection(u),isComposing:m})),b.stop.called&&r.stop()}),Ie.isAndroid||s.on("compositionend",(r,{data:o,domEvent:l})=>{this.isEnabled&&o&&s.fire("insertText",new wa(e,l,{text:o,isComposing:!0}))},{priority:"low"})}observe(){}stopObserving(){}}class QO extends De{constructor(){super(...arguments);y(this,"_typingQueue")}static get pluginName(){return"Input"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.model,s=e.editing.view,r=e.editing.mapper,o=i.document.selection;this._typingQueue=new lJ(e),s.addObserver(aJ);const l=new rJ(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",l),e.commands.add("input",l),this.listenTo(s.document,"beforeinput",()=>{this._typingQueue.flush("next beforeinput")},{priority:"high"}),this.listenTo(s.document,"insertText",(u,f)=>{const{text:h,selection:m}=f;if(s.document.selection.isFake&&m&&s.document.selection.isSimilar(m)&&f.preventDefault(),!l.isEnabled){f.preventDefault();return}let b;m?b=Array.from(m.getRanges()).map(k=>r.toModelRange(k)):b=Array.from(o.getRanges());let w=h;if(Ie.isAndroid){const k=Array.from(b[0].getItems()).reduce((x,A)=>x+(A.is("$textProxy")?A.data:""),"");if(k&&(k.length<=w.length?w.startsWith(k)&&(w=w.substring(k.length),b[0].start=b[0].start.getShiftedBy(k.length)):k.startsWith(w)&&(b[0].start=b[0].start.getShiftedBy(w.length),w="")),w.length==0&&b[0].isCollapsed)return}const _={text:w,selection:i.createSelection(b)};this._typingQueue.push(_,!!f.isComposing),f.domEvent.defaultPrevented&&this._typingQueue.flush("beforeinput default prevented")}),Ie.isAndroid?this.listenTo(s.document,"keydown",(u,f)=>{o.isCollapsed||f.keyCode!=229||!s.document.isComposing||aE(i,l)}):this.listenTo(s.document,"compositionstart",()=>{o.isCollapsed||aE(i,l)},{priority:"high"}),this.listenTo(s.document,"mutations",(u,{mutations:f})=>{if(this._typingQueue.hasAffectedElements())for(const{node:h}of f){const m=uJ(h,r),b=r.toModelElement(m);if(this._typingQueue.isElementAffected(b)){this._typingQueue.flush("mutations");return}}}),this.listenTo(s.document,"compositionend",()=>{this._typingQueue.flush("before composition end")},{priority:"high"}),this.listenTo(s.document,"compositionend",()=>{this._typingQueue.flush("after composition end");const u=[];if(this._typingQueue.hasAffectedElements())for(const f of this._typingQueue.flushAffectedElements()){const h=r.toViewElement(f);h&&u.push({type:"children",node:h})}(u.length||!Ie.isAndroid)&&s.document.fire("mutations",{mutations:u})},{priority:"lowest"})}destroy(){super.destroy(),this._typingQueue.destroy()}}class lJ{constructor(t){y(this,"editor");y(this,"flushDebounced",Tr(()=>this.flush("timeout"),50));y(this,"_queue",[]);y(this,"_isComposing",!1);y(this,"_affectedElements",new Set);this.editor=t}destroy(){for(this.flushDebounced.cancel(),this._affectedElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(t,e){const i={text:t.text};if(t.selection){i.selectionRanges=[];for(const s of t.selection.getRanges())i.selectionRanges.push(is.fromRange(s)),this._affectedElements.add(s.start.parent)}this._queue.push(i),this._isComposing||(this._isComposing=e),this.flushDebounced()}shift(){const t=this._queue.shift(),e={text:t.text};if(t.selectionRanges){const i=t.selectionRanges.map(s=>cJ(s)).filter(s=>!!s);i.length&&(e.selection=this.editor.model.createSelection(i))}return e}flush(t){const e=this.editor,i=e.model,s=e.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;const o=e.commands.get("insertText").buffer;i.enqueueChange(o.batch,()=>{for(o.lock();this._queue.length;){const l=this.shift();e.execute("insertText",l)}o.unlock(),this._isComposing||this._affectedElements.clear(),this._isComposing=!1}),s.scrollToTheSelection()}isElementAffected(t){return this._affectedElements.has(t)}hasAffectedElements(){return this._affectedElements.size>0}flushAffectedElements(){const t=Array.from(this._affectedElements);return this._affectedElements.clear(),t}}function aE(n,t){if(!t.isEnabled)return;const e=t.buffer;e.lock(),n.enqueueChange(e.batch,()=>{n.deleteContent(n.document.selection)}),e.unlock()}function cJ(n){const t=n.toRange();return n.detach(),t.root.rootName=="$graveyard"?null:t}function uJ(n,t){let e=n.is("$text")?n.parent:n;for(;!t.toModelElement(e);)e=e.parent;return e}class lE extends Xt{constructor(e,i){super(e);y(this,"direction");y(this,"_buffer");this.direction=i,this._buffer=new JO(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const i=this.editor.model,s=i.document;i.enqueueChange(this._buffer.batch,r=>{this._buffer.lock();const o=r.createSelection(e.selection||s.selection);if(!i.canEditAt(o))return;const l=e.sequence||1,u=o.isCollapsed;if(o.isCollapsed&&i.modifySelection(o,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(l)){this._replaceEntireContentWithParagraph(r);return}if(this._shouldReplaceFirstBlockWithParagraph(o,l)){this.editor.execute("paragraph",{selection:o});return}if(o.isCollapsed)return;let f=0;o.getFirstRange().getMinimalFlatRanges().forEach(h=>{f+=nv(h.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),i.deleteContent(o,{doNotResetEntireContent:u,direction:this.direction}),this._buffer.input(f),r.setSelection(o),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const i=this.editor.model,r=i.document.selection,o=i.schema.getLimitElement(r);if(!(r.isCollapsed&&r.containsEntireContent(o))||!i.schema.checkChild(o,"paragraph"))return!1;const u=o.getChild(0);return!(u&&u.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const i=this.editor.model,r=i.document.selection,o=i.schema.getLimitElement(r),l=e.createElement("paragraph");e.remove(e.createRangeIn(o)),e.insert(l,o),e.setSelection(l,0)}_shouldReplaceFirstBlockWithParagraph(e,i){const s=this.editor.model;if(i>1||this.direction!="backward"||!e.isCollapsed)return!1;const r=e.getFirstPosition(),o=s.schema.getLimitElement(r),l=o.getChild(0);return!(r.parent!=l||!e.containsEntireContent(l)||!s.schema.checkChild(o,"paragraph")||l.name=="paragraph")}}const dJ="character",cE="word",fJ="codePoint",uo="selection",Il="backward",Fu="forward",e4={deleteContent:{unit:uo,direction:Il},deleteContentBackward:{unit:fJ,direction:Il},deleteWordBackward:{unit:cE,direction:Il},deleteHardLineBackward:{unit:uo,direction:Il},deleteSoftLineBackward:{unit:uo,direction:Il},deleteContentForward:{unit:dJ,direction:Fu},deleteWordForward:{unit:cE,direction:Fu},deleteHardLineForward:{unit:uo,direction:Fu},deleteSoftLineForward:{unit:uo,direction:Fu}};class hJ extends Ks{constructor(t){super(t);const e=t.document;let i=0;e.on("keydown",()=>{i++}),e.on("keyup",()=>{i=0}),e.on("beforeinput",(s,r)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:l,inputType:u}=r,f=e4[u];if(!f)return;const h={direction:f.direction,unit:f.unit,sequence:i};h.unit==uo&&(h.selectionToRemove=t.createSelection(o[0])),u==="deleteContentBackward"&&(Ie.isAndroid&&(h.sequence=1),mJ(o)&&(h.unit=uo,h.selectionToRemove=t.createSelection(o)));const m=new Pa(e,"delete",o[0]);e.fire(m,new wa(t,l,h)),m.stop.called&&s.stop()}),Ie.isBlink&&pJ(this)}observe(){}stopObserving(){}}function pJ(n){const t=n.view,e=t.document;let i=null,s=!1;e.on("keydown",(l,{keyCode:u})=>{i=u,s=!1}),e.on("keyup",(l,{keyCode:u,domEvent:f})=>{const h=e.selection,m=n.isEnabled&&u==i&&r(u)&&!h.isCollapsed&&!s;if(i=null,m){const b=h.getFirstRange(),w=new Pa(e,"delete",b),_={unit:uo,direction:o(u),selectionToRemove:h};e.fire(w,new wa(t,f,_))}}),e.on("beforeinput",(l,{inputType:u})=>{const f=e4[u];r(i)&&f&&f.direction==o(i)&&(s=!0)},{priority:"high"}),e.on("beforeinput",(l,{inputType:u,data:f})=>{i==Ke.delete&&u=="insertText"&&f==""&&l.stop()},{priority:"high"});function r(l){return l==Ke.backspace||l==Ke.delete}function o(l){return l==Ke.backspace?Il:Fu}}function mJ(n){if(n.length!=1||n[0].isCollapsed)return!1;const t=n[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let e=0;for(const{nextPosition:i,item:s}of t){if(i.parent.is("$text")){const r=i.parent.data,o=i.offset;if(N1(r,o)||V1(r,o)||yR(r,o))continue;e++}else(s.is("containerElement")||s.is("emptyElement"))&&e++;if(e>1)return!0}return!1}class Zd extends De{constructor(){super(...arguments);y(this,"_undoOnBackspace")}static get pluginName(){return"Delete"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.editing.view,s=i.document,r=e.model.document;i.addObserver(hJ),this._undoOnBackspace=!1;const o=new lE(e,"forward");e.commands.add("deleteForward",o),e.commands.add("forwardDelete",o),e.commands.add("delete",new lE(e,"backward")),this.listenTo(s,"delete",(l,u)=>{s.isComposing||u.preventDefault();const{direction:f,sequence:h,selectionToRemove:m,unit:b}=u,w=f==="forward"?"deleteForward":"delete",_={sequence:h};if(b=="selection"){const k=Array.from(m.getRanges()).map(x=>e.editing.mapper.toModelRange(x));_.selection=e.model.createSelection(k)}else _.unit=b;e.execute(w,_),i.scrollToTheSelection()},{priority:"low"}),this.listenTo(s,"keydown",(l,u)=>{if(s.isComposing||u.keyCode!=Ke.backspace||!r.selection.isCollapsed)return;const f=e.model.schema.getLimitElement(r.selection),h=e.model.createPositionAt(f,0);if(h.isTouching(r.selection.getFirstPosition())){u.preventDefault();const m=e.model.schema.getNearestSelectionRange(h,"forward");if(!m)return;const b=i.createSelection(e.editing.mapper.toViewRange(m)),w=b.getFirstRange(),_=new Pa(document,"delete",w),k={unit:"selection",direction:"backward",selectionToRemove:b};s.fire(_,new wa(i,u.domEvent,k))}}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(s,"delete",(l,u)=>{this._undoOnBackspace&&u.direction=="backward"&&u.sequence==1&&u.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),u.preventDefault(),l.stop())},{context:"$capture"}),this.listenTo(r,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class gJ extends De{static get requires(){return[QO,Zd]}static get pluginName(){return"Typing"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function t4(n,t){let e=n.start;return{text:Array.from(n.getWalker({ignoreElementEnd:!1})).reduce((s,{item:r})=>r.is("$text")||r.is("$textProxy")?s+r.data:(e=t.createPositionAfter(r),""),""),range:t.createRange(e,n.end)}}class bJ extends jt(){constructor(e,i){super();y(this,"model");y(this,"testCallback");y(this,"_hasMatch");this.model=e,this.testCallback=i,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const i=this.model.document;this.listenTo(i.selection,"change:range",(s,{directChange:r})=>{if(r){if(!i.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(i,"change:data",(s,r)=>{r.isUndo||!r.isLocal||this._evaluateTextBeforeSelection("data",{batch:r})})}_evaluateTextBeforeSelection(e,i={}){const s=this.model,o=s.document.selection,l=s.createRange(s.createPositionAt(o.focus.parent,0),o.focus),{text:u,range:f}=t4(l,s),h=this.testCallback(u);if(!h&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!h,h){const m=Object.assign(i,{text:u,range:f});typeof h=="object"&&Object.assign(m,h),this.fire(`matched:${e}`,m)}}}class uE extends De{constructor(e){super(e);y(this,"attributes");y(this,"_overrideUid");y(this,"_isNextGravityRestorationSkipped",!1);this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.model,s=e.editing.view,r=e.locale,o=i.document.selection;this.listenTo(s.document,"arrowKey",(l,u)=>{if(!o.isCollapsed||u.shiftKey||u.altKey||u.ctrlKey)return;const f=u.keyCode==Ke.arrowright,h=u.keyCode==Ke.arrowleft;if(!f&&!h)return;const m=r.contentLanguageDirection;let b=!1;m==="ltr"&&f||m==="rtl"&&h?b=this._handleForwardMovement(u):b=this._handleBackwardMovement(u),b===!0&&l.stop()},{context:"$text",priority:"highest"}),this.listenTo(o,"change:range",(l,u)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!u.directChange&&Zi(o.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const i=this.attributes,s=this.editor.model,r=s.document.selection,o=r.getFirstPosition();return this._isGravityOverridden||o.isAtStart&&pr(r,i)?!1:Zi(o,i)?(e&&Au(e),pr(r,i)&&Zi(o,i,!0)?Eu(s,i):this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const i=this.attributes,s=this.editor.model,r=s.document.selection,o=r.getFirstPosition();return this._isGravityOverridden?(e&&Au(e),this._restoreGravity(),Zi(o,i,!0)?Eu(s,i):Dh(s,i,o),!0):o.isAtStart?pr(r,i)?(e&&Au(e),Dh(s,i,o),!0):!1:!pr(r,i)&&Zi(o,i,!0)?(e&&Au(e),Dh(s,i,o),!0):dE(o,i)?o.isAtEnd&&!pr(r,i)&&Zi(o,i)?(e&&Au(e),Dh(s,i,o),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}_enableClickingAfterNode(){const e=this.editor,i=e.model,s=i.document.selection,r=e.editing.view.document;e.editing.view.addObserver(K1),e.editing.view.addObserver($G);let o=!1,l=!1;this.listenTo(r,"touchstart",()=>{l=!1,o=!0}),this.listenTo(r,"mousedown",()=>{l=!0}),this.listenTo(r,"selectionChange",()=>{const u=this.attributes;if(!l&&!o||(l=!1,o=!1,!s.isCollapsed)||!pr(s,u))return;const f=s.getFirstPosition();Zi(f,u)&&(f.isAtStart||Zi(f,u,!0)?Eu(i,u):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const i=this.editor.model,s=i.document.selection,r=this.attributes;this.listenTo(i,"insertContent",()=>{const o=s.getFirstPosition();pr(s,r)&&Zi(o,r)&&Eu(i,r)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,i=e.model,s=i.document.selection,r=e.editing.view;let o=!1,l=!1;this.listenTo(r.document,"delete",(u,f)=>{o=f.direction==="backward"},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{if(!o)return;const u=s.getFirstPosition();l=pr(s,this.attributes)&&!dE(u,this.attributes)},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{o&&(o=!1,!l&&e.model.enqueueChange(()=>{const u=s.getFirstPosition();pr(s,this.attributes)&&Zi(u,this.attributes)&&(u.isAtStart||Zi(u,this.attributes,!0)?Eu(i,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function pr(n,t){for(const e of t)if(n.hasAttribute(e))return!0;return!1}function Dh(n,t,e){const i=e.nodeBefore;n.change(s=>{if(i){const r=[],o=n.schema.isObject(i)&&n.schema.isInline(i);for(const[l,u]of i.getAttributes())n.schema.checkAttribute("$text",l)&&(!o||n.schema.getAttributeProperties(l).copyFromObject!==!1)&&r.push([l,u]);s.setSelectionAttribute(r)}else s.removeSelectionAttribute(t)})}function Eu(n,t){n.change(e=>{e.removeSelectionAttribute(t)})}function Au(n){n.preventDefault()}function dE(n,t){const e=n.getShiftedBy(-1);return Zi(e,t)}function Zi(n,t,e=!1){const{nodeBefore:i,nodeAfter:s}=n;for(const r of t){const o=i?i.getAttribute(r):void 0,l=s?s.getAttribute(r):void 0;if(!(e&&(o===void 0||l===void 0))&&l!==o)return!0}return!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function zm(n,t,e,i){return i.createRange(fE(n,t,e,!0,i),fE(n,t,e,!1,i))}function fE(n,t,e,i,s){let r=n.textNode||(i?n.nodeBefore:n.nodeAfter),o=null;for(;r&&r.getAttribute(t)==e;)o=r,r=i?r.previousSibling:r.nextSibling;return o?s.createPositionAt(o,i?"before":"after"):n}function yJ(n,t,e,i){const s=n.editing.view,r=new Set;s.document.registerPostFixer(o=>{const l=n.model.document.selection;let u=!1;if(l.hasAttribute(t)){const f=zm(l.getFirstPosition(),t,l.getAttribute(t),n.model),h=n.editing.mapper.toViewRange(f);for(const m of h.getItems())m.is("element",e)&&!m.hasClass(i)&&(o.addClass(i,m),r.add(m),u=!0)}return u}),n.conversion.for("editingDowncast").add(o=>{o.on("insert",l,{priority:"highest"}),o.on("remove",l,{priority:"highest"}),o.on("attribute",l,{priority:"highest"}),o.on("selection",l,{priority:"highest"});function l(){s.change(u=>{for(const f of r.values())u.removeClass(i,f),r.delete(f)})}})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class vJ extends De{constructor(e){super(e);y(this,"adapter");y(this,"_debouncedSave");y(this,"_lastDocumentVersion");y(this,"_savePromise");y(this,"_domEmitter");y(this,"_config");y(this,"_pendingActions");y(this,"_makeImmediateSave");y(this,"_action",null);const i=e.config.get("autosave")||{},s=i.waitingTime||1e3;this.set("state","synchronized"),this._debouncedSave=Tr(this._save.bind(this),s),this._lastDocumentVersion=e.model.document.version,this._savePromise=null,this._domEmitter=new(wi()),this._config=i,this._pendingActions=e.plugins.get(wT),this._makeImmediateSave=!1}static get pluginName(){return"Autosave"}static get isOfficialPlugin(){return!0}static get requires(){return[wT]}init(){const e=this.editor,i=e.model.document;this.listenTo(e,"ready",()=>{this.listenTo(i,"change:data",(s,r)=>{this._saveCallbacks.length&&r.isLocal&&(this.state==="synchronized"&&(this.state="waiting",this._setPendingAction()),this.state==="waiting"&&this._debouncedSave())})}),this.listenTo(e,"destroy",()=>this._flush(),{priority:"highest"});/* istanbul ignore next -- @preserve */this._domEmitter.listenTo(window,"beforeunload",(s,r)=>{this._pendingActions.hasAny&&(r.returnValue=this._pendingActions.first.message)})}destroy(){this._domEmitter.stopListening(),super.destroy()}save(){return this._debouncedSave.cancel(),this._save()}_flush(){this._debouncedSave.flush()}_save(){return this._savePromise?(this._makeImmediateSave=this.editor.model.document.version>this._lastDocumentVersion,this._savePromise):(this._setPendingAction(),this.state="saving",this._lastDocumentVersion=this.editor.model.document.version,this._savePromise=Promise.resolve().then(()=>Promise.all(this._saveCallbacks.map(e=>e(this.editor)))).finally(()=>{this._savePromise=null}).then(()=>{if(this._makeImmediateSave)return this._makeImmediateSave=!1,this._save();this.editor.model.document.version>this._lastDocumentVersion?(this.state="waiting",this._debouncedSave()):(this.state="synchronized",this._pendingActions.remove(this._action),this._action=null)}).catch(e=>{throw this.state="error",this.state="saving",this._debouncedSave(),e}),this._savePromise)}_setPendingAction(){const e=this.editor.t;this._action||(this._action=this._pendingActions.add(e("Saving changes")))}get _saveCallbacks(){const e=[];return this.adapter&&this.adapter.save&&e.push(this.adapter.save),this._config.save&&e.push(this._config.save),e}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class wJ extends Xt{constructor(e,i){super(e);y(this,"attributeKey");this.attributeKey=i}refresh(){const e=this.editor.model,i=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(e={}){const i=this.editor.model,r=i.document.selection,o=e.forceValue===void 0?!this.value:e.forceValue;i.change(l=>{if(r.isCollapsed)o?l.setSelectionAttribute(this.attributeKey,!0):l.removeSelectionAttribute(this.attributeKey);else{const u=i.schema.getValidRanges(r.getRanges(),this.attributeKey);for(const f of u)o?l.setAttribute(this.attributeKey,o,f):l.removeAttribute(this.attributeKey,f)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,i=e.schema,s=e.document.selection;if(s.isCollapsed)return s.hasAttribute(this.attributeKey);for(const r of s.getRanges())for(const o of r.getItems())if(i.checkAttribute(o,this.attributeKey))return o.hasAttribute(this.attributeKey);return!1}}const Al="bold";class _J extends De{static get pluginName(){return"BoldEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Al}),t.model.schema.setAttributeProperties(Al,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Al,view:"strong",upcastAlso:["b",i=>{const s=i.getStyle("font-weight");return s&&(s=="bold"||Number(s)>=600)?{name:!0,styles:["font-weight"]}:null}]}),t.commands.add(Al,new wJ(t,Al)),t.keystrokes.set("CTRL+B",Al),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Bold text"),keystroke:"CTRL+B"}]})}}function kJ({editor:n,commandName:t,plugin:e,icon:i,label:s,keystroke:r}){return o=>{const l=n.commands.get(t),u=new o(n.locale);return u.set({label:s,icon:i,keystroke:r,isToggleable:!0}),u.bind("isEnabled").to(l,"isEnabled"),u.bind("isOn").to(l,"value"),u instanceof Ir?u.set({role:"menuitemcheckbox"}):u.set({tooltip:!0}),e.listenTo(u,"execute",()=>{n.execute(t),n.editing.view.focus()}),u}}const sy="bold";class CJ extends De{static get pluginName(){return"BoldUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=kJ({editor:t,commandName:sy,plugin:this,icon:pO,label:e("Bold"),keystroke:"CTRL+B"});t.ui.componentFactory.add(sy,()=>i(ct)),t.ui.componentFactory.add("menuBar:"+sy,()=>i(Ir))}}class SJ extends De{static get requires(){return[_J,CJ]}static get pluginName(){return"Bold"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function*n4(n,t){for(const e of t)e&&n.getAttributeProperties(e[0]).copyOnEnter&&(yield e)}class xJ extends Xt{execute(){this.editor.model.change(t=>{this.enterBlock(t),this.fire("afterExecute",{writer:t})})}enterBlock(t){const e=this.editor.model,i=e.document.selection,s=e.schema,r=i.isCollapsed,o=i.getFirstRange(),l=o.start.parent,u=o.end.parent;if(s.isLimit(l)||s.isLimit(u))return!r&&l==u&&e.deleteContent(i),!1;if(r){const f=n4(t.model.schema,i.getAttributes());return hE(t,o.start),t.setSelectionAttribute(f),!0}else{const f=!(o.start.isAtStart&&o.end.isAtEnd),h=l==u;if(e.deleteContent(i,{leaveUnmerged:f}),f){if(h)return hE(t,i.focus),!0;t.setSelection(u,0)}}return!1}}function hE(n,t){n.split(t),n.setSelection(t.parent.nextSibling,0)}const TJ={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class i4 extends Ks{constructor(t){super(t);const e=this.document;let i=!1;e.on("keydown",(s,r)=>{i=r.shiftKey}),e.on("beforeinput",(s,r)=>{if(!this.isEnabled)return;let o=r.inputType;Ie.isSafari&&i&&o=="insertParagraph"&&(o="insertLineBreak");const l=r.domEvent,u=TJ[o];if(!u)return;const f=new Pa(e,"enter",r.targetRanges[0]);e.fire(f,new wa(t,l,{isSoft:u.isSoft})),f.stop.called&&s.stop()})}observe(){}stopObserving(){}}class cw extends De{static get pluginName(){return"Enter"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.editing.view,i=e.document,s=this.editor.t;e.addObserver(i4),t.commands.add("enter",new xJ(t)),this.listenTo(i,"enter",(r,o)=>{i.isComposing||o.preventDefault(),!o.isSoft&&(t.execute("enter"),e.scrollToTheSelection())},{priority:"low"}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:s("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class EJ extends Xt{execute(){const t=this.editor.model,e=t.document;t.change(i=>{PJ(t,i,e.selection),this.fire("afterExecute",{writer:i})})}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=AJ(t.schema,e.selection)}}function AJ(n,t){if(t.rangeCount>1)return!1;const e=t.anchor;if(!e||!n.checkChild(e,"softBreak"))return!1;const i=t.getFirstRange(),s=i.start.parent,r=i.end.parent;return!((Sv(s,n)||Sv(r,n))&&s!==r)}function PJ(n,t,e){const i=e.isCollapsed,s=e.getFirstRange(),r=s.start.parent,o=s.end.parent,l=r==o;if(i){const u=n4(n.schema,e.getAttributes());pE(n,t,s.end),t.removeSelectionAttribute(e.getAttributeKeys()),t.setSelectionAttribute(u)}else{const u=!(s.start.isAtStart&&s.end.isAtEnd);n.deleteContent(e,{leaveUnmerged:u}),l?pE(n,t,e.focus):u&&t.setSelection(o,0)}}function pE(n,t,e){const i=t.createElement("softBreak");n.insertContent(i,e),t.setSelection(i,"after")}function Sv(n,t){return n.is("rootElement")?!1:t.isLimit(n)||Sv(n.parent,t)}class RJ extends De{static get pluginName(){return"ShiftEnter"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model.schema,i=t.conversion,s=t.editing.view,r=s.document,o=this.editor.t;e.register("softBreak",{allowWhere:"$text",isInline:!0}),i.for("upcast").elementToElement({model:"softBreak",view:"br"}),i.for("downcast").elementToElement({model:"softBreak",view:(l,{writer:u})=>u.createEmptyElement("br")}),s.addObserver(i4),t.commands.add("shiftEnter",new EJ(t)),this.listenTo(r,"enter",(l,u)=>{r.isComposing||u.preventDefault(),u.isSoft&&(t.execute("shiftEnter"),s.scrollToTheSelection())},{priority:"low"}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class OJ extends Ct(){constructor(){super(...arguments);y(this,"_stack",[])}add(e,i){const s=this._stack,r=s[0];this._insertDescriptor(e);const o=s[0];r!==o&&!ry(r,o)&&this.fire("change:top",{oldDescriptor:r,newDescriptor:o,writer:i})}remove(e,i){const s=this._stack,r=s[0];this._removeDescriptor(e);const o=s[0];r!==o&&!ry(r,o)&&this.fire("change:top",{oldDescriptor:r,newDescriptor:o,writer:i})}_insertDescriptor(e){const i=this._stack,s=i.findIndex(o=>o.id===e.id);if(ry(e,i[s]))return;s>-1&&i.splice(s,1);let r=0;for(;i[r]&&MJ(i[r],e);)r++;i.splice(r,0,e)}_removeDescriptor(e){const i=this._stack,s=i.findIndex(r=>r.id===e);s>-1&&i.splice(s,1)}}function ry(n,t){return n&&t&&n.priority==t.priority&&Hp(n.classes)==Hp(t.classes)}function MJ(n,t){return n.priority>t.priority?!0:n.priority<t.priority?!1:Hp(n.classes)>Hp(t.classes)}function Hp(n){return Array.isArray(n)?n.sort().join(","):n}const IJ="ck-widget",mE="ck-widget_selected";function mn(n){return n.is("element")?!!n.getCustomProperty("widget"):!1}function LJ(n,t,e={}){if(!n.is("containerElement"))throw new j("widget-to-widget-wrong-element-type",null,{element:n});return t.setAttribute("contenteditable","false",n),t.addClass(IJ,n),t.setCustomProperty("widget",!0,n),n.getFillerOffset=UJ,t.setCustomProperty("widgetLabel",[],n),e.label&&VJ(n,e.label),e.hasSelectionHandle&&$J(n,t),NJ(n,t),n}function BJ(n,t,e){if(t.classes&&e.addClass(Wt(t.classes),n),t.attributes)for(const i in t.attributes)e.setAttribute(i,t.attributes[i],n)}function DJ(n,t,e){if(t.classes&&e.removeClass(Wt(t.classes),n),t.attributes)for(const i in t.attributes)e.removeAttribute(i,n)}function NJ(n,t,e=BJ,i=DJ){const s=new OJ;s.on("change:top",(l,u)=>{u.oldDescriptor&&i(n,u.oldDescriptor,u.writer),u.newDescriptor&&e(n,u.newDescriptor,u.writer)});const r=(l,u,f)=>s.add(u,f),o=(l,u,f)=>s.remove(u,f);t.setCustomProperty("addHighlight",r,n),t.setCustomProperty("removeHighlight",o,n)}function VJ(n,t){n.getCustomProperty("widgetLabel").push(t)}function FJ(n){return n.getCustomProperty("widgetLabel").reduce((e,i)=>typeof i=="function"?e?e+". "+i():i():e?e+". "+i:i,"")}function zJ(n,t){const e=n.getSelectedElement();if(e){const i=co(n);if(i)return t.createRange(t.createPositionAt(e,i))}return t.schema.findOptimalInsertionRange(n)}function UJ(){return null}function $J(n,t){const e=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(i){const s=this.toDomElement(i),r=new qs;return r.set("content",hK),r.render(),s.appendChild(r.element),s});t.insert(t.createPositionAt(n,0),e),t.addClass(["ck-widget_with-selection-handle"],n)}const br="widget-type-around";function ea(n,t,e){return!!n&&mn(n)&&!e.isInline(t)}function HJ(n){return n.closest(".ck-widget__type-around__button")}function jJ(n){return n.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function WJ(n,t){const e=n.closest(".ck-widget");return t.mapDomToView(e)}function co(n){return n.getAttribute(br)}const s4=["before","after"],qJ=new DOMParser().parseFromString(IK,"image/svg+xml").firstChild,gE="ck-widget__type-around_disabled";class GJ extends De{constructor(){super(...arguments);y(this,"_currentFakeCaretModelElement",null)}static get pluginName(){return"WidgetTypeAround"}static get isOfficialPlugin(){return!0}static get requires(){return[cw,Zd]}init(){const e=this.editor,i=e.editing.view;this.on("change:isEnabled",(s,r,o)=>{i.change(l=>{for(const u of i.document.roots)o?l.removeClass(gE,u):l.addClass(gE,u)}),o||e.model.change(l=>{l.removeSelectionAttribute(br)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,i){const s=this.editor,r=s.editing.view,o=s.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);s.execute("insertParagraph",{position:s.model.createPositionAt(e,i),attributes:o}),r.focus(),r.scrollToTheSelection()}_listenToIfEnabled(e,i,s,r){this.listenTo(e,i,(...o)=>{this.isEnabled&&s(...o)},r)}_insertParagraphAccordingToFakeCaretPosition(){const s=this.editor.model.document.selection,r=co(s);if(!r)return!1;const o=s.getSelectedElement();return this._insertParagraph(o,r),!0}_enableTypeAroundUIInjection(){const e=this.editor,i=e.model.schema,s=e.locale.t,r={before:s("Insert paragraph before block"),after:s("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(o,l,u)=>{const f=u.mapper.toViewElement(l.item);f&&ea(f,l.item,i)&&(KJ(u.writer,r,f),f.getCustomProperty("widgetLabel").push(()=>this.isEnabled?s("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,i=e.model,s=i.document.selection,r=i.schema,o=e.editing.view;this._listenToIfEnabled(o.document,"arrowKey",(u,f)=>{this._handleArrowKeyPress(u,f)},{context:[mn,"$text"],priority:"high"}),this._listenToIfEnabled(s,"change:range",(u,f)=>{f.directChange&&e.model.change(h=>{h.removeSelectionAttribute(br)})}),this._listenToIfEnabled(i.document,"change:data",()=>{const u=s.getSelectedElement();if(u){const f=e.editing.mapper.toViewElement(u);if(ea(f,u,r))return}e.model.change(f=>{f.removeSelectionAttribute(br)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(u,f,h)=>{const m=h.writer;if(this._currentFakeCaretModelElement){const k=h.mapper.toViewElement(this._currentFakeCaretModelElement);k&&(m.removeClass(s4.map(l),k),this._currentFakeCaretModelElement=null)}const b=f.selection.getSelectedElement();if(!b)return;const w=h.mapper.toViewElement(b);if(!ea(w,b,r))return;const _=co(f.selection);_&&(m.addClass(l(_),w),this._currentFakeCaretModelElement=b)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(u,f,h)=>{h||e.model.change(m=>{m.removeSelectionAttribute(br)})});function l(u){return`ck-widget_type-around_show-fake-caret_${u}`}}_handleArrowKeyPress(e,i){const s=this.editor,r=s.model,o=r.document.selection,l=r.schema,u=s.editing.view,f=i.keyCode,h=GH(f,s.locale.contentLanguageDirection),m=u.document.selection.getSelectedElement(),b=s.editing.mapper.toModelElement(m);let w;ea(m,b,l)?w=this._handleArrowKeyPressOnSelectedWidget(h):o.isCollapsed?w=this._handleArrowKeyPressWhenSelectionNextToAWidget(h):i.shiftKey||(w=this._handleArrowKeyPressWhenNonCollapsedSelection(h)),w&&(i.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const s=this.editor.model,r=s.document.selection,o=co(r);return s.change(l=>{if(o){if(!(o===(e?"after":"before")))return l.removeSelectionAttribute(br),!0}else return l.setSelectionAttribute(br,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const i=this.editor,s=i.model,r=s.schema,o=i.plugins.get("Widget"),l=o._getObjectElementNextToSelection(e),u=i.editing.mapper.toViewElement(l);return ea(u,l,r)?(s.change(f=>{o._setSelectionOverElement(l),f.setSelectionAttribute(br,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const i=this.editor,s=i.model,r=s.schema,o=i.editing.mapper,l=s.document.selection,u=e?l.getLastPosition().nodeBefore:l.getFirstPosition().nodeAfter,f=o.toViewElement(u);return ea(f,u,r)?(s.change(h=>{h.setSelection(u,"on"),h.setSelectionAttribute(br,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,i=e.editing.view;this._listenToIfEnabled(i.document,"mousedown",(s,r)=>{const o=HJ(r.domTarget);if(!o)return;const l=jJ(o),u=WJ(o,i.domConverter),f=e.editing.mapper.toModelElement(u);this._insertParagraph(f,l),r.preventDefault(),s.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,i=e.model.document.selection,s=e.editing.view;this._listenToIfEnabled(s.document,"enter",(r,o)=>{if(r.eventPhase!="atTarget")return;const l=i.getSelectedElement(),u=e.editing.mapper.toViewElement(l),f=e.model.schema;let h;this._insertParagraphAccordingToFakeCaretPosition()?h=!0:ea(u,l,f)&&(this._insertParagraph(l,o.isSoft?"before":"after"),h=!0),h&&(o.preventDefault(),r.stop())},{context:mn})}_enableInsertingParagraphsOnTypingKeystroke(){const i=this.editor.editing.view.document;this._listenToIfEnabled(i,"insertText",(s,r)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(r.selection=i.selection)},{priority:"high"}),Ie.isAndroid?this._listenToIfEnabled(i,"keydown",(s,r)=>{r.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(i,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"highest"})}_enableDeleteIntegration(){const e=this.editor,i=e.editing.view,s=e.model,r=s.schema;this._listenToIfEnabled(i.document,"delete",(o,l)=>{if(o.eventPhase!="atTarget")return;const u=co(s.document.selection);if(!u)return;const f=l.direction,h=s.document.selection.getSelectedElement(),m=u==="before",b=f=="forward";if(m===b)e.execute("delete",{selection:s.createSelection(h,"on")});else{const _=r.getNearestSelectionRange(s.createPositionAt(h,u),f);if(_)if(!_.isCollapsed)s.change(k=>{k.setSelection(_),e.execute(b?"deleteForward":"delete")});else{const k=s.createSelection(_.start);if(s.modifySelection(k,{direction:f}),!k.focus.isEqual(_.start))s.change(x=>{x.setSelection(_),e.execute(b?"deleteForward":"delete")});else{const x=JJ(r,_.start.parent);s.deleteContent(s.createSelection(x,"on"),{doNotAutoparagraph:!0})}}}l.preventDefault(),o.stop()},{context:mn})}_enableInsertContentIntegration(){const e=this.editor,i=this.editor.model,s=i.document.selection;this._listenToIfEnabled(e.model,"insertContent",(r,[o,l])=>{if(l&&!l.is("documentSelection"))return;const u=co(s);if(u)return r.stop(),i.change(f=>{const h=s.getSelectedElement(),m=i.createPositionAt(h,u),b=f.createSelection(m),w=i.insertContent(o,b);return f.setSelection(b),w})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(r,o)=>{const[,l,u={}]=o;if(l&&!l.is("documentSelection"))return;const f=co(s);f&&(u.findOptimalPosition=f,o[3]=u)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(r,[o])=>{if(o&&!o.is("documentSelection"))return;co(s)&&r.stop()},{priority:"high"})}}function KJ(n,t,e){const i=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(s){const r=this.toDomElement(s);return YJ(r,t),XJ(r),r});n.insert(n.createPositionAt(e,"end"),i)}function YJ(n,t){for(const e of s4){const i=new rs({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${e}`],title:t[e],"aria-hidden":"true"},children:[n.ownerDocument.importNode(qJ,!0)]});n.appendChild(i.render())}}function XJ(n){const t=new rs({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});n.appendChild(t.render())}function JJ(n,t){let e=t;for(const i of t.getAncestors({parentFirst:!0})){if(i.childCount>1||n.isLimit(i))break;e=i}return e}function ZJ(n){const t=n.model;return(e,i)=>{const s=i.keyCode==Ke.arrowup,r=i.keyCode==Ke.arrowdown,o=i.shiftKey,l=t.document.selection;if(!s&&!r)return;const u=r;if(o&&tZ(l,u))return;const f=QJ(n,l,u);if(f){if(f.isCollapsed){if(l.isCollapsed)return;if(o)return}(f.isCollapsed||eZ(n,f,u))&&(t.change(h=>{const m=u?f.end:f.start;if(o){const b=t.createSelection(l.anchor);b.setFocus(m),h.setSelection(b)}else h.setSelection(m)}),e.stop(),i.preventDefault(),i.stopPropagation())}}}function QJ(n,t,e){const i=n.model;if(e){const s=t.isCollapsed?t.focus:t.getLastPosition(),r=bE(i,s,"forward");if(!r)return null;const o=i.createRange(s,r),l=yE(i.schema,o,"backward");return l?i.createRange(s,l):null}else{const s=t.isCollapsed?t.focus:t.getFirstPosition(),r=bE(i,s,"backward");if(!r)return null;const o=i.createRange(r,s),l=yE(i.schema,o,"forward");return l?i.createRange(l,s):null}}function bE(n,t,e){const i=n.schema,s=n.createRangeIn(t.root),r=e=="forward"?"elementStart":"elementEnd";for(const{previousPosition:o,item:l,type:u}of s.getWalker({startPosition:t,direction:e})){if(i.isLimit(l)&&!i.isInline(l))return o;if(u==r&&i.isBlock(l))return null}return null}function yE(n,t,e){const i=e=="backward"?t.end:t.start;if(n.checkChild(i,"$text"))return i;for(const{nextPosition:s}of t.getWalker({direction:e}))if(n.checkChild(s,"$text"))return s;return null}function eZ(n,t,e){const i=n.model,s=n.view.domConverter;if(e){const f=i.createSelection(t.start);i.modifySelection(f),!f.focus.isAtEnd&&!t.start.isEqual(f.focus)&&(t=i.createRange(f.focus,t.end))}const r=n.mapper.toViewRange(t),o=s.viewRangeToDom(r),l=Je.getDomRangeRects(o);let u;for(const f of l){if(u===void 0){u=Math.round(f.bottom);continue}if(Math.round(f.top)>=u)return!1;u=Math.max(u,Math.round(f.bottom))}return!0}function tZ(n,t){return!n.isCollapsed&&n.isBackward==t}class nZ extends De{constructor(){super(...arguments);y(this,"_previouslySelected",new Set)}static get pluginName(){return"Widget"}static get isOfficialPlugin(){return!0}static get requires(){return[GJ,Zd]}init(){const e=this.editor,i=e.editing.view,s=i.document,r=e.t;this.editor.editing.downcastDispatcher.on("selection",(o,l,u)=>{const f=u.writer,h=l.selection;if(h.isCollapsed)return;const m=h.getSelectedElement();if(!m)return;const b=e.editing.mapper.toViewElement(m);mn(b)&&u.consumable.consume(h,"selection")&&f.setSelection(f.createRangeOn(b),{fake:!0,label:FJ(b)})}),this.editor.editing.downcastDispatcher.on("selection",(o,l,u)=>{this._clearPreviouslySelectedWidgets(u.writer);const f=u.writer,h=f.document.selection;let m=null;for(const b of h.getRanges())for(const w of b){const _=w.item;mn(_)&&!rZ(_,m)&&(f.addClass(mE,_),this._previouslySelected.add(_),m=_)}},{priority:"low"}),i.addObserver(K1),this.listenTo(s,"mousedown",(...o)=>this._onMousedown(...o)),this.listenTo(s,"arrowKey",(...o)=>{this._handleSelectionChangeOnArrowKeyPress(...o)},{context:[mn,"$text"]}),this.listenTo(s,"arrowKey",(...o)=>{this._preventDefaultOnArrowKeyPress(...o)},{context:"$root"}),this.listenTo(s,"arrowKey",ZJ(this.editor.editing),{context:"$text"}),this.listenTo(s,"delete",(o,l)=>{this._handleDelete(l.direction=="forward")&&(l.preventDefault(),o.stop())},{context:"$root"}),this.listenTo(s,"tab",(o,l)=>{o.eventPhase=="atTarget"&&(l.shiftKey||this._selectFirstNestedEditable()&&(l.preventDefault(),o.stop()))},{context:mn,priority:"low"}),this.listenTo(s,"tab",(o,l)=>{l.shiftKey&&this._selectAncestorWidget()&&(l.preventDefault(),o.stop())},{priority:"low"}),this.listenTo(s,"keydown",(o,l)=>{l.keystroke==Ke.esc&&this._selectAncestorWidget()&&(l.preventDefault(),o.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:r("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:r("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:r("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:r("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:r("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:r("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,i){const s=this.editor,r=s.editing.view,o=r.document;let l=i.target;if(!l)return;if(i.domEvent.detail>=3){this._selectBlockContent(l)&&i.preventDefault();return}if(!mn(l)){const f=iZ(l);if(!f)return;if(mn(f))l=f;else{const h=sZ(r,i);if(h&&mn(h))l=h;else return}}Ie.isAndroid&&i.preventDefault(),o.isFocused||r.focus();const u=s.editing.mapper.toModelElement(l);this._setSelectionOverElement(u)}_selectBlockContent(e){const i=this.editor,s=i.model,r=i.editing.mapper,o=s.schema,l=r.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),u=oZ(r.toModelElement(l),s.schema);return u?(s.change(f=>{const h=o.isLimit(u)?null:aZ(f.createPositionAfter(u),o),m=f.createPositionAt(u,0),b=h?f.createPositionAt(h,0):f.createPositionAt(u,"end");f.setSelection(f.createRange(m,b))}),!0):!1}_handleSelectionChangeOnArrowKeyPress(e,i){const s=i.keyCode,r=this.editor.model,o=r.schema,l=r.document.selection,u=l.getSelectedElement(),f=L1(s,this.editor.locale.contentLanguageDirection),h=f=="down"||f=="right",m=f=="up"||f=="down";if(u&&o.isObject(u)){const w=h?l.getLastPosition():l.getFirstPosition(),_=o.getNearestSelectionRange(w,h?"forward":"backward");_&&(r.change(k=>{k.setSelection(_)}),i.preventDefault(),e.stop());return}if(!l.isCollapsed&&!i.shiftKey){const w=l.getFirstPosition(),_=l.getLastPosition(),k=w.nodeAfter,x=_.nodeBefore;(k&&o.isObject(k)||x&&o.isObject(x))&&(r.change(A=>{A.setSelection(h?_:w)}),i.preventDefault(),e.stop());return}if(!l.isCollapsed)return;const b=this._getObjectElementNextToSelection(h);if(b&&o.isObject(b)){if(o.isInline(b)&&m)return;this._setSelectionOverElement(b),i.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,i){const s=this.editor.model,r=s.schema,o=s.document.selection.getSelectedElement();o&&r.isObject(o)&&(i.preventDefault(),e.stop())}_handleDelete(e){const s=this.editor.model.document.selection;if(!this.editor.model.canEditAt(s)||!s.isCollapsed)return;const r=this._getObjectElementNextToSelection(e);if(r)return this.editor.model.change(o=>{let l=s.anchor.parent;for(;l.isEmpty;){const u=l;l=u.parent,o.remove(u)}this._setSelectionOverElement(r)}),!0}_setSelectionOverElement(e){this.editor.model.change(i=>{i.setSelection(i.createRangeOn(e))})}_getObjectElementNextToSelection(e){const i=this.editor.model,s=i.schema,r=i.document.selection,o=i.createSelection(r);if(i.modifySelection(o,{direction:e?"forward":"backward"}),o.isEqual(r))return null;const l=e?o.focus.nodeBefore:o.focus.nodeAfter;return l&&s.isObject(l)?l:null}_clearPreviouslySelectedWidgets(e){for(const i of this._previouslySelected)e.removeClass(mE,i);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,s=this.editor.editing.view.document;for(const r of s.selection.getFirstRange().getItems())if(r.is("editableElement")){const o=e.editing.mapper.toModelElement(r);/* istanbul ignore next -- @preserve */if(!o)continue;const l=e.model.createPositionAt(o,0),u=e.model.schema.getNearestSelectionRange(l,"forward");return e.model.change(f=>{f.setSelection(u)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,i=e.editing.mapper,r=e.editing.view.document.selection.getFirstPosition().parent,l=(r.is("$text")?r.parent:r).findAncestor(mn);if(!l)return!1;const u=i.toModelElement(l);/* istanbul ignore next -- @preserve */return u?(e.model.change(f=>{f.setSelection(u,"on")}),!0):!1}}function iZ(n){let t=n;for(;t;){if(t.is("editableElement")||mn(t))return t;t=t.parent}return null}function sZ(n,t){const e=cR(t.domEvent);let i=null;if(e?i=n.domConverter.domRangeToView(e):i=n.createRange(n.createPositionAt(t.target,0)),!i)return null;const s=i.start;if(!s.parent)return null;let r=s.parent;return s.parent.is("editableElement")&&(s.isAtEnd&&s.nodeBefore?r=s.nodeBefore:s.isAtStart&&s.nodeAfter&&(r=s.nodeAfter)),r.is("$text")?r.parent:r}function rZ(n,t){return t?Array.from(n.getAncestors()).includes(t):!1}function oZ(n,t){for(const e of n.getAncestors({includeSelf:!0,parentFirst:!0})){if(t.checkChild(e,"$text"))return e;if(t.isLimit(e)&&!t.isObject(e))break}return null}function aZ(n,t){const e=new wr({startPosition:n});for(const{item:i}of e){if(t.isLimit(i)||!i.is("element"))return null;if(t.checkChild(i,"$text"))return i}return null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Rd extends Mr{constructor(e){super(e);y(this,"domEventType",["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"]);const i=this.document;this.listenTo(i,"paste",s("clipboardInput"),{priority:"low"}),this.listenTo(i,"drop",s("clipboardInput"),{priority:"low"}),this.listenTo(i,"dragover",s("dragging"),{priority:"low"});function s(r){return(o,l)=>{l.preventDefault();const u=l.dropRange?[l.dropRange]:null,f=new Er(i,r);i.fire(f,{dataTransfer:l.dataTransfer,method:o.name,targetRanges:u,target:l.target,domEvent:l.domEvent}),f.stop.called&&l.stopPropagation()}}}onDomEvent(e){const i="clipboardData"in e?e.clipboardData:e.dataTransfer,s=e.type=="drop"||e.type=="paste",r={dataTransfer:new MR(i,{cacheFiles:s})};if(e.type=="drop"||e.type=="dragover"){const o=cR(e);r.dropRange=o&&this.view.domConverter.domRangeToView(o)}this.fire(e.type,e,r)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function lZ(n){return n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(n.includes("</p><p>")||n.includes("<br>"))&&(n=`<p>${n}</p>`),n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function cZ(n){return n.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>e.length==1?" ":e).replace(/<!--[\s\S]*?-->/g,"")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const vE=["figcaption","li"],wE=["ol","ul"];function r4(n,t){if(t.is("$text")||t.is("$textProxy"))return t.data;if(t.is("element","img")&&t.hasAttribute("alt"))return t.getAttribute("alt");if(t.is("element","br"))return`
`;let e="",i=null;for(const s of t.getChildren())e+=uZ(s,i)+r4(n,s),i=s;if(t.is("rawElement")){const s=document.createElement("div");t.render(s,n),e+=o4(s)}return e}function o4(n){let t="";if(n.nodeType===Node.TEXT_NODE)return n.textContent;if(n.tagName==="BR")return`
`;for(const e of n.childNodes)t+=o4(e);return t}function uZ(n,t){return t?n.is("element","li")&&!n.isEmpty&&n.getChild(0).is("containerElement")||wE.includes(n.name)&&wE.includes(t.name)?`

`:!n.is("containerElement")&&!t.is("containerElement")?"":vE.includes(n.name)||vE.includes(t.name)?`
`:n.is("element")&&n.getCustomProperty("dataPipeline:transparentRendering")||t.is("element")&&t.getCustomProperty("dataPipeline:transparentRendering")?"":`

`:""}class a4 extends De{constructor(){super(...arguments);y(this,"_markersToCopy",new Map)}static get pluginName(){return"ClipboardMarkersUtils"}static get isOfficialPlugin(){return!0}_registerMarkerToCopy(e,i){this._markersToCopy.set(e,i)}_copySelectedFragmentWithMarkers(e,i,s=r=>r.model.getSelectedContent(r.model.document.selection)){return this.editor.model.change(r=>{const o=r.model.document.selection;r.setSelection(i);const l=this._insertFakeMarkersIntoSelection(r,r.model.document.selection,e),u=s(r),f=this._removeFakeMarkersInsideElement(r,u);for(const[h,m]of Object.entries(l)){f[h]||(f[h]=r.createRangeIn(u));for(const b of m)r.remove(b)}u.markers.clear();for(const[h,m]of Object.entries(f))u.markers.set(h,m);return r.setSelection(o),u})}_pasteMarkersIntoTransformedElement(e,i){const s=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(r=>{const o=this._insertFakeMarkersElements(r,s),l=i(r),u=this._removeFakeMarkersInsideElement(r,l);for(const f of Object.values(o).flat())r.remove(f);for(const[f,h]of Object.entries(u))r.model.markers.has(f)||r.addMarker(f,{usingOperation:!0,affectsData:!0,range:h});return l})}_pasteFragmentWithMarkers(e){const i=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const s of i)e.markers.set(s.name,s.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,i,s={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const r=this._markersToCopy.get(e);this._markersToCopy.set(e,s),i(),r?this._markersToCopy.set(e,r):this._markersToCopy.delete(e)}_isMarkerCopyable(e,i){const s=this._getMarkerClipboardConfig(e);if(!s)return!1;if(!i)return!0;const{allowedActions:r}=s;return r==="all"||r.includes(i)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[i]=e.split(":");return this._markersToCopy.get(i)||null}_insertFakeMarkersIntoSelection(e,i,s){const r=this._getCopyableMarkersFromSelection(e,i,s);return this._insertFakeMarkersElements(e,r)}_getCopyableMarkersFromSelection(e,i,s){const r=Array.from(i.getRanges()),o=new Set(r.flatMap(u=>Array.from(e.model.markers.getMarkersIntersectingRange(u)))),l=u=>{if(!this._isMarkerCopyable(u.name,s))return!1;const{copyPartiallySelected:h}=this._getMarkerClipboardConfig(u.name);if(!h){const m=u.getRange();return r.some(b=>b.containsRange(m,!0))}return!0};return Array.from(o).filter(l).map(u=>({name:s==="dragstart"?this._getUniqueMarkerName(u.name):u.name,range:u.getRange()}))}_getPasteMarkersFromRangeMap(e,i=null){const{model:s}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([o,l])=>{if(!this._hasMarkerConfiguration(o))return[{name:o,range:l}];if(this._isMarkerCopyable(o,i)){const u=this._getMarkerClipboardConfig(o),f=s.markers.has(o)&&s.markers.get(o).getRange().root.rootName==="$graveyard";return(u.duplicateOnPaste||f)&&(o=this._getUniqueMarkerName(o)),[{name:o,range:l}]}return[]})}_insertFakeMarkersElements(e,i){const s={},r=i.flatMap(o=>{const{start:l,end:u}=o.range;return[{position:l,marker:o,type:"start"},{position:u,marker:o,type:"end"}]}).sort(({position:o},{position:l})=>o.isBefore(l)?1:-1);for(const{position:o,marker:l,type:u}of r){const f=e.createElement("$marker",{"data-name":l.name,"data-type":u});s[l.name]||(s[l.name]=[]),s[l.name].push(f),e.insert(f,o)}return s}_removeFakeMarkersInsideElement(e,i){const r=this._getAllFakeMarkersFromElement(e,i).reduce((o,l)=>{const u=l.markerElement&&e.createPositionBefore(l.markerElement);let f=o[l.name],h=!1;return f!=null&&f.start&&(f!=null&&f.end)&&(this._getMarkerClipboardConfig(l.name).duplicateOnPaste?o[this._getUniqueMarkerName(l.name)]=o[l.name]:h=!0,f=null),h||(o[l.name]={...f,[l.type]:u}),l.markerElement&&e.remove(l.markerElement),o},{});return G$(r,o=>new ie(o.start||e.createPositionFromPath(i,[0]),o.end||e.createPositionAt(i,"end")))}_getAllFakeMarkersFromElement(e,i){const s=Array.from(e.createRangeIn(i)).flatMap(({item:l})=>{if(!l.is("element","$marker"))return[];const u=l.getAttribute("data-name"),f=l.getAttribute("data-type");return[{markerElement:l,name:u,type:f}]}),r=[],o=[];for(const l of s)l.type==="end"&&(s.some(f=>f.name===l.name&&f.type==="start")||r.push({markerElement:null,name:l.name,type:"start"})),l.type==="start"&&(s.some(f=>f.name===l.name&&f.type==="end")||o.unshift({markerElement:null,name:l.name,type:"end"}));return[...r,...s,...o]}_getUniqueMarkerName(e){const i=e.split(":"),s=vi().substring(1,6);return i.length===3?`${i.slice(0,2).join(":")}:${s}`:`${i.join(":")}:${s}`}}class _a extends De{static get pluginName(){return"ClipboardPipeline"}static get isOfficialPlugin(){return!0}static get requires(){return[a4]}init(){this.editor.editing.view.addObserver(Rd),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(t,e,i){const s=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:i==="cut"},()=>{const r=s._copySelectedFragmentWithMarkers(i,e);this.fire("outputTransformation",{dataTransfer:t,content:r,method:i})})}_setupPasteDrop(){const t=this.editor,e=t.model,i=t.editing.view,s=i.document,r=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(s,"clipboardInput",(o,l)=>{l.method=="paste"&&!t.model.canEditAt(t.model.document.selection)&&o.stop()},{priority:"highest"}),this.listenTo(s,"clipboardInput",(o,l)=>{const u=l.dataTransfer;let f;if(l.content)f=l.content;else{let b="";u.getData("text/html")?b=cZ(u.getData("text/html")):u.getData("text/plain")&&(b=lZ(u.getData("text/plain"))),f=this.editor.data.htmlProcessor.toView(b)}const h=new Er(this,"inputTransformation"),m=u.getData("application/ckeditor5-editor-id")||null;this.fire(h,{content:f,dataTransfer:u,sourceEditorId:m,targetRanges:l.targetRanges,method:l.method}),h.stop.called&&o.stop(),i.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(o,l)=>{if(l.content.isEmpty)return;const f=this.editor.data.toModel(l.content,"$clipboardHolder");f.childCount!=0&&(o.stop(),e.change(()=>{this.fire("contentInsertion",{content:f,method:l.method,sourceEditorId:l.sourceEditorId,dataTransfer:l.dataTransfer,targetRanges:l.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(o,l)=>{l.resultRange=r._pasteFragmentWithMarkers(l.content)},{priority:"low"})}_setupCopyCut(){const t=this.editor,e=t.model.document,s=t.editing.view.document,r=(o,l)=>{const u=l.dataTransfer;l.preventDefault(),this._fireOutputTransformationEvent(u,e.selection,o.name)};this.listenTo(s,"copy",r,{priority:"low"}),this.listenTo(s,"cut",(o,l)=>{t.model.canEditAt(t.model.document.selection)?r(o,l):l.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(o,l)=>{const u=t.data.toView(l.content,{isClipboardPipeline:!0});s.fire("clipboardOutput",{dataTransfer:l.dataTransfer,content:u,method:l.method})},{priority:"low"}),this.listenTo(s,"clipboardOutput",(o,l)=>{l.content.isEmpty||(l.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(l.content)),l.dataTransfer.setData("text/plain",r4(t.data.htmlProcessor.domConverter,l.content)),l.dataTransfer.setData("application/ckeditor5-editor-id",this.editor.id)),l.method=="cut"&&t.model.deleteContent(e.selection)},{priority:"low"})}}const oy=Gd("px");class dZ extends Te{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",t.if("isVisible","ck-hidden",e=>!e)],style:{left:t.to("left",e=>oy(e)),top:t.to("top",e=>oy(e)),width:t.to("width",e=>oy(e))}}})}}class Nh extends De{constructor(){super(...arguments);y(this,"removeDropMarkerDelayed",B1(()=>this.removeDropMarker(),40));y(this,"_updateDropMarkerThrottled",Mp(e=>this._updateDropMarker(e),40));y(this,"_reconvertMarkerThrottled",Mp(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0));y(this,"_dropTargetLineView",new dZ);y(this,"_domEmitter",new(wi()));y(this,"_scrollables",new Map)}static get pluginName(){return"DragDropTarget"}static get isOfficialPlugin(){return!0}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,i,s,r,o,l){this.removeDropMarkerDelayed.cancel();const u=_E(this.editor,e,i,s,r,o,l);/* istanbul ignore next -- @preserve */if(u){if(l&&l.containsRange(u))return this.removeDropMarker();this._updateDropMarkerThrottled(u)}}getFinalDropRange(e,i,s,r,o,l){const u=_E(this.editor,e,i,s,r,o,l);return this.removeDropMarker(),u}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(i=>{i.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(i,{writer:s})=>{if(e.model.schema.checkChild(i.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(s);i.markerRange.isCollapsed?this._updateDropTargetLine(i.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const i=this.editor,s=i.model.markers;i.model.change(r=>{s.has("drop-target")?s.get("drop-target").getRange().isEqual(e)||r.updateMarker("drop-target",{range:e}):r.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(i){const s=this.toDomElement(i);return s.append("⁠",i.createElement("span"),"⁠"),s})}_updateDropTargetLine(e){const i=this.editor.editing,s=e.start.nodeBefore,r=e.start.nodeAfter,o=e.start.parent,l=s?i.mapper.toViewElement(s):null,u=l?i.view.domConverter.mapViewToDom(l):null,f=r?i.mapper.toViewElement(r):null,h=f?i.view.domConverter.mapViewToDom(f):null,m=i.mapper.toViewElement(o);if(!m)return;const b=i.view.domConverter.mapViewToDom(m),w=this._getScrollableRect(m),{scrollX:_,scrollY:k}=ke.window,x=u?new Je(u):null,A=h?new Je(h):null,L=new Je(b).excludeScrollbarsAndBorders(),E=x?x.bottom:L.top,P=A?A.top:L.bottom,R=ke.window.getComputedStyle(b),V=E<=P?(E+P)/2:P;if(w.top<V&&V<w.bottom){const I=L.left+parseFloat(R.paddingLeft),z=L.right-parseFloat(R.paddingRight),F=Math.max(I+_,w.left),C=Math.min(z+_,w.right);this._dropTargetLineView.set({isVisible:!0,left:F,top:V+k,width:C-F})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const i=e.root.rootName;let s;if(this._scrollables.has(i))s=this._scrollables.get(i).domElement;else{const r=this.editor.editing.view.domConverter.mapViewToDom(e);s=hZ(r),this._domEmitter.listenTo(s,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const o=new O1(s,this._reconvertMarkerThrottled);this._scrollables.set(i,{domElement:s,resizeObserver:o})}return new Je(s).excludeScrollbarsAndBorders()}}function _E(n,t,e,i,s,r,o){const l=n.model,u=n.editing.mapper;let h=kE(n,t);for(;h;){if(!r){if(l.schema.checkChild(h,"$text")){if(e){const m=e[0].start,b=u.toModelPosition(m);if(!o||Array.from(o.getItems({shallow:!0})).every(_=>l.schema.checkChild(b,_))){if(l.schema.checkChild(b,"$text"))return l.createRange(b);if(m)return Vh(n,kE(n,m.parent),i,s)}}}else if(l.schema.isInline(h))return Vh(n,h,i,s)}if(l.schema.isBlock(h))return Vh(n,h,i,s);if(l.schema.checkChild(h,"$block")){const m=Array.from(h.getChildren()).filter(_=>_.is("element")&&!fZ(n,_));let b=0,w=m.length;if(w==0)return l.createRange(l.createPositionAt(h,"end"));for(;b<w-1;){const _=Math.floor((b+w)/2);l4(n,m[_],i,s)=="before"?w=_:b=_}return Vh(n,m[b],i,s)}h=h.parent}return null}function fZ(n,t){const e=n.editing.mapper,i=n.editing.view.domConverter,s=e.toViewElement(t);if(!s)return!0;const r=i.mapViewToDom(s);return ke.window.getComputedStyle(r).float!="none"}function Vh(n,t,e,i){const s=n.model;return s.createRange(s.createPositionAt(t,l4(n,t,e,i)))}function l4(n,t,e,i){const s=n.editing.mapper,r=n.editing.view.domConverter,o=s.toViewElement(t),l=r.mapViewToDom(o),u=new Je(l);return n.model.schema.isInline(t)?e<(u.left+u.right)/2?"before":"after":i<(u.top+u.bottom)/2?"before":"after"}function kE(n,t){const e=n.editing.mapper,i=n.editing.view,s=e.toModelElement(t);if(s)return s;const r=i.createPositionBefore(t),o=e.findMappedViewAncestor(r);return e.toModelElement(o)}function hZ(n){let t=n;do{t=t.parentElement;const e=ke.window.getComputedStyle(t).overflowY;if(e=="auto"||e=="scroll")break}while(t.tagName!="BODY");return t}class pZ extends De{constructor(){super(...arguments);y(this,"_isBlockDragging",!1);y(this,"_domEmitter",new(wi()))}static get pluginName(){return"DragDropBlockToolbar"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(i,s,r)=>{r?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),Ie.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const s=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(s,"dragstart",(r,o)=>this._handleBlockDragStart(o)),this._domEmitter.listenTo(ke.document,"dragover",(r,o)=>this._handleBlockDragging(o)),this._domEmitter.listenTo(ke.document,"drop",(r,o)=>this._handleBlockDragging(o)),this._domEmitter.listenTo(ke.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&s.setAttribute("draggable","true"),this.on("change:isEnabled",(r,o,l)=>{s.setAttribute("draggable",l?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const i=this.editor.model,s=i.document.selection,r=this.editor.editing.view,o=Array.from(s.getSelectedBlocks()),l=i.createRange(i.createPositionBefore(o[0]),i.createPositionAfter(o[o.length-1]));i.change(u=>u.setSelection(l)),this._isBlockDragging=!0,r.focus(),r.getObserver(Rd).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const i=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),s=e.clientY,r=document.elementFromPoint(i,s),o=this.editor.editing.view;!r||!r.closest(".ck-editor__editable")||o.getObserver(Rd).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:r,clientX:i,clientY:s,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}class mZ extends De{constructor(){super(...arguments);y(this,"_draggedRange");y(this,"_draggingUid");y(this,"_draggableElement");y(this,"_clearDraggableAttributesDelayed",B1(()=>this._clearDraggableAttributes(),40));y(this,"_blockMode",!1);y(this,"_domEmitter",new(wi()));y(this,"_previewContainer")}static get pluginName(){return"DragDrop"}static get isOfficialPlugin(){return!0}static get requires(){return[_a,nZ,Nh,pZ]}init(){const e=this.editor,i=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,i.addObserver(Rd),i.addObserver(K1),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(s,r,o)=>{o?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(s,r,o)=>{o||this._finalizeDragging(!1)}),Ie.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,i=e.model,s=e.editing.view,r=s.document,o=e.plugins.get(Nh);this.listenTo(r,"dragstart",(l,u)=>{var k;if((k=u.target)!=null&&k.is("editableElement")){u.preventDefault();return}if(this._prepareDraggedRange(u.target),!this._draggedRange){u.preventDefault();return}this._draggingUid=vi(),u.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",u.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const f=i.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(u.dataTransfer,f,"dragstart");const{dataTransfer:m,domTarget:b,domEvent:w}=u,{clientX:_}=w;this._updatePreview({dataTransfer:m,domTarget:b,clientX:_}),u.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(r,"dragend",(l,u)=>{this._finalizeDragging(!u.dataTransfer.isCanceled&&u.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(ke.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(r,"dragenter",()=>{this.isEnabled&&s.focus()}),this.listenTo(r,"dragleave",()=>{o.removeDropMarkerDelayed()}),this.listenTo(r,"dragging",(l,u)=>{if(!this.isEnabled){u.dataTransfer.dropEffect="none";return}const{clientX:f,clientY:h}=u.domEvent;o.updateDropMarker(u.target,u.targetRanges,f,h,this._blockMode,this._draggedRange),this._draggedRange||(u.dataTransfer.dropEffect="copy"),Ie.isGecko||(u.dataTransfer.effectAllowed=="copy"?u.dataTransfer.dropEffect="copy":["all","copyMove"].includes(u.dataTransfer.effectAllowed)&&(u.dataTransfer.dropEffect="move")),l.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,s=e.editing.view.document,r=e.plugins.get(Nh);this.listenTo(s,"clipboardInput",(o,l)=>{if(l.method!="drop")return;const{clientX:u,clientY:f}=l.domEvent,h=r.getFinalDropRange(l.target,l.targetRanges,u,f,this._blockMode,this._draggedRange);if(!h){this._finalizeDragging(!1),o.stop();return}if(this._draggedRange&&this._draggingUid!=l.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),CE(l.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(h,!0)){this._finalizeDragging(!1),o.stop();return}l.targetRanges=[e.editing.mapper.toViewRange(h)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(_a);e.on("contentInsertion",(i,s)=>{if(!this.isEnabled||s.method!=="drop")return;const r=s.targetRanges.map(o=>this.editor.editing.mapper.toModelRange(o));this.editor.model.change(o=>o.setSelection(r))},{priority:"high"}),e.on("contentInsertion",(i,s)=>{if(!this.isEnabled||s.method!=="drop")return;const r=CE(s.dataTransfer)=="move",o=!s.resultRange||!s.resultRange.isCollapsed;this._finalizeDragging(o&&r)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,i=e.editing.view,s=i.document;this.listenTo(s,"mousedown",(r,o)=>{if(Ie.isAndroid||!o)return;this._clearDraggableAttributesDelayed.cancel();let l=SE(o.target);if(Ie.isBlink&&!e.isReadOnly&&!l&&!s.selection.isCollapsed){const u=s.selection.getSelectedElement();(!u||!mn(u))&&(l=s.selection.editableElement)}l&&(i.change(u=>{u.setAttribute("draggable","true",l)}),this._draggableElement=e.editing.mapper.toModelElement(l))}),this.listenTo(s,"mouseup",()=>{Ie.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(i=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&i.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const i=this.editor,s=i.model;i.plugins.get(Nh).removeDropMarker(),this._clearDraggableAttributes(),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&s.change(o=>{const l=s.createSelection(this._draggedRange);s.deleteContent(l,{doNotAutoparagraph:!0});const u=l.getFirstPosition().parent;u.isEmpty&&!s.schema.checkChild(u,"$text")&&s.schema.checkChild(u,"paragraph")&&o.insertElement("paragraph",u,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const i=this.editor,s=i.model,r=s.document.selection,o=e?SE(e):null;if(o){const h=i.editing.mapper.toModelElement(o);this._draggedRange=is.fromRange(s.createRangeOn(h)),this._blockMode=s.schema.isBlock(h),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(r.isCollapsed&&!r.getFirstPosition().parent.isEmpty)return;const l=Array.from(r.getSelectedBlocks()),u=r.getFirstRange();if(l.length==0){this._draggedRange=is.fromRange(u);return}const f=c4(s,l);if(l.length>1)this._draggedRange=is.fromRange(f),this._blockMode=!0;else if(l.length==1){const h=u.start.isTouching(f.start)&&u.end.isTouching(f.end);this._draggedRange=is.fromRange(h?f:u),this._blockMode=h}s.change(h=>h.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:i,clientX:s}){const r=this.editor.editing.view,o=r.document.selection.editableElement,l=r.domConverter.mapViewToDom(o),u=ke.window.getComputedStyle(l);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=bs(ke.document,"div",{style:"position: fixed; left: -999999px;"}),ke.document.body.appendChild(this._previewContainer));const f=new Je(l);if(l.contains(i))return;const h=parseFloat(u.paddingLeft),m=bs(ke.document,"div");m.className="ck ck-content",m.style.width=u.width,m.style.paddingLeft=`${f.left-s+h}px`,Ie.isiOS&&(m.style.backgroundColor="white"),r.domConverter.setContentOf(m,e.getData("text/html")),e.setDragImage(m,0,0),this._previewContainer.appendChild(m)}}function CE(n){return Ie.isGecko?n.dropEffect:["all","copyMove"].includes(n.effectAllowed)?"move":"copy"}function SE(n){if(n.is("editableElement"))return null;if(n.hasClass("ck-widget__selection-handle"))return n.findAncestor(mn);if(mn(n))return n;const t=n.findAncestor(e=>mn(e)||e.is("editableElement"));return mn(t)?t:null}function c4(n,t){const e=t[0],i=t[t.length-1],s=e.getCommonAncestor(i),r=n.createPositionBefore(e),o=n.createPositionAfter(i);if(s&&s.is("element")&&!n.schema.isLimit(s)){const l=n.createRangeOn(s),u=r.isTouching(l.start),f=o.isTouching(l.end);if(u&&f)return c4(n,[s])}return n.createRange(r,o)}class gZ extends De{static get pluginName(){return"PastePlainText"}static get isOfficialPlugin(){return!0}static get requires(){return[_a]}init(){const t=this.editor,e=t.model,i=t.editing.view,s=e.document.selection;i.addObserver(Rd),t.plugins.get(_a).on("contentInsertion",(r,o)=>{bZ(o.content,e)&&e.change(l=>{const u=Array.from(s.getAttributes()).filter(([h])=>e.schema.getAttributeProperties(h).isFormatting);s.isCollapsed||e.deleteContent(s,{doNotAutoparagraph:!0}),u.push(...s.getAttributes());const f=l.createRangeIn(o.content);for(const h of f.getItems())for(const m of u)e.schema.checkAttribute(h,m[0])&&l.setAttribute(m[0],m[1],h)})})}}function bZ(n,t){let e=t.createRangeIn(n);if(n.childCount==1){const i=n.getChild(0);i.is("element")&&t.schema.isBlock(i)&&!t.schema.isObject(i)&&!t.schema.isLimit(i)&&(e=t.createRangeIn(i))}for(const i of e.getItems())if(!t.schema.isInline(i)||Array.from(i.getAttributeKeys()).find(r=>t.schema.getAttributeProperties(r).isFormatting))return!1;return!0}class yZ extends De{static get pluginName(){return"Clipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[a4,_a,mZ,gZ]}init(){const t=this.editor,e=this.editor.t;t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Copy selected content"),keystroke:"CTRL+C"},{label:e("Paste content"),keystroke:"CTRL+V"},{label:e("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class vZ extends DX{constructor(e,i){super(e);y(this,"view");y(this,"_toolbarConfig");y(this,"_elementReplacer");this.view=i,this._toolbarConfig=VO(e.config.get("toolbar")),this._elementReplacer=new EH,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const i=this.editor,s=this.view,r=i.editing.view,o=s.editable,l=r.document.getRoot();o.name=l.rootName,s.render();const u=o.element;this.setEditableElement(o.name,u),s.editable.bind("isFocused").to(this.focusTracker),r.attachDomRoot(u),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),s.menuBarView&&this.initMenuBar(s.menuBarView),this._initDialogPluginIntegration(),this._initContextualBalloonIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.getDomRoot(e.editable.name)&&i.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({visualTop:i})=>i||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,i=e.editing.view,s=i.document.getRoot(),r=e.sourceElement;let o;const l=e.config.get("placeholder");l&&(o=typeof l=="string"?l:l[this.view.editable.name]),!o&&r&&r.tagName.toLowerCase()==="textarea"&&(o=r.getAttribute("placeholder")),o&&(s.placeholder=o),fj({view:i,element:s,isDirectHost:!1,keepOnFocus:!0})}_initContextualBalloonIntegration(){if(!this.editor.plugins.has("ContextualBalloon"))return;const{stickyPanel:e}=this.view,i=this.editor.plugins.get("ContextualBalloon");i.on("getPositionOptions",r=>{const o=r.return;if(!o||!e.isSticky||!e.element)return;const l=new Je(e.element).height,u=typeof o.target=="function"?o.target():o.target,f=typeof o.limiter=="function"?o.limiter():o.limiter;if(u&&f&&new Je(u).height>=new Je(f).height-l)return;const h={...o.viewportOffsetConfig},m=(h.top||0)+l;r.return={...o,viewportOffsetConfig:{...h,top:m}}},{priority:"low"});const s=()=>{i.visibleView&&i.updatePosition()};this.listenTo(e,"change:isSticky",s),this.listenTo(this.editor.ui,"change:viewportOffset",s)}_handleScrollToTheSelectionWithStickyPanel(e,i,s){const r=this.view.stickyPanel;if(r.isSticky){const o=new Je(r.element).height;i.viewportOffset.top+=o}else{const o=()=>{this.editor.editing.view.scrollToTheSelection(s)};this.listenTo(r,"change:isSticky",o),setTimeout(()=>{this.stopListening(r,"change:isSticky",o)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,i=this.editor.plugins.get("Dialog");i.on("show",()=>{const s=i.view;s.on("moveTo",(r,o)=>{if(!e.isSticky||s.wasMoved||s.isModal)return;const l=new Je(e.contentPanelElement);o[1]<l.bottom+Pd.defaultOffset&&(o[1]=l.bottom+Pd.defaultOffset)},{priority:"high"})},{priority:"low"})}}class wZ extends VX{constructor(e,i,s={}){super(e);y(this,"stickyPanel");y(this,"toolbar");y(this,"editable");this.stickyPanel=new HX(e),this.toolbar=new iw(e,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull}),s.useMenuBar&&(this.menuBarView=new KX(e)),this.editable=new zX(e,i,void 0,{label:s.label})}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class _Z extends pv(Ml){constructor(e,i={}){if(!rp(e)&&i.initialData!==void 0)throw new j("editor-create-initial-data",null);super(i);y(this,"ui");this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",kZ(e)),rp(e)&&(this.sourceElement=e),this.model.document.createRoot();const s=!this.config.get("toolbar.shouldNotGroupWhenFull"),r=this.config.get("menuBar"),o=new wZ(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:s,useMenuBar:r.isVisible,label:this.config.get("label")});this.ui=new vZ(this,o),oK(this)}static get editorName(){return"ClassicEditor"}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,i={}){return new Promise(s=>{const r=new this(e,i);s(r.initPlugins().then(()=>r.ui.init(rp(e)?e:null)).then(()=>r.data.init(r.config.get("initialData"))).then(()=>r.fire("ready")).then(()=>r))})}}function kZ(n){return rp(n)?MH(n):n}function rp(n){return wo(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class CZ extends Xt{constructor(t){super(t),this.affectsData=!1}execute(){const t=this.editor.model,e=t.document.selection;let i=t.schema.getLimitElement(e);if(e.containsEntireContent(i)||!xE(t.schema,i))do if(i=i.parent,!i)return;while(!xE(t.schema,i));t.change(s=>{s.setSelection(i,"in")})}}function xE(n,t){return n.isLimit(t)&&(n.checkChild(t,"$text")||n.checkChild(t,"paragraph"))}const SZ=Mm("Ctrl+A");class xZ extends De{static get pluginName(){return"SelectAllEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,s=t.editing.view.document;t.commands.add("selectAll",new CZ(t)),this.listenTo(s,"keydown",(r,o)=>{ya(o)===SZ&&(t.execute("selectAll"),o.preventDefault())}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Select all"),keystroke:"CTRL+A"}]})}}class TZ extends De{static get pluginName(){return"SelectAllUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",()=>{const e=this._createButton(ct);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(Ir))}_createButton(t){const e=this.editor,i=e.locale,s=e.commands.get("selectAll"),r=new t(e.locale),o=i.t;return r.set({label:o("Select all"),icon:LK,keystroke:"Ctrl+A"}),r.bind("isEnabled").to(s,"isEnabled"),this.listenTo(r,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),r}}class EZ extends De{static get requires(){return[xZ,TZ]}static get pluginName(){return"SelectAll"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class u4 extends Xt{constructor(e){super(e);y(this,"_stack",[]);y(this,"_createdBatches",new WeakSet);this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(i,s)=>{s[1]={...s[1]};const r=s[1];r.batchType||(r.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(i,s)=>{s[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const i=this.editor.model.document.selection,s={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:e,selection:s}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,i,s){const r=this.editor.model,o=r.document,l=[],u=e.map(h=>h.getTransformedByOperations(s)),f=u.flat();for(const h of u){const m=h.filter(b=>b.root!=o.graveyard).filter(b=>!PZ(b,f));m.length&&(AZ(m),l.push(m[0]))}l.length&&r.change(h=>{h.setSelection(l,{backward:i})})}_undo(e,i){const s=this.editor.model,r=s.document;this._createdBatches.add(i);const o=e.operations.slice().filter(l=>l.isDocumentOperation);o.reverse();for(const l of o){const u=l.baseVersion+1,f=Array.from(r.history.getOperations(u)),m=iG([l.getReversed()],f,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let b of m){const w=b.affectedSelectable;w&&!s.canEditAt(w)&&(b=new Sn(b.baseVersion)),i.addOperation(b),s.applyOperation(b),r.history.setOperationAsUndone(l,b)}}}}function AZ(n){n.sort((t,e)=>t.start.isBefore(e.start)?-1:1);for(let t=1;t<n.length;t++){const i=n[t-1].getJoined(n[t],!0);i&&(t--,n.splice(t,2,i))}}function PZ(n,t){return t.some(e=>e!==n&&e.containsRange(n,!0))}class RZ extends u4{execute(t=null){const e=t?this._stack.findIndex(r=>r.batch==t):this._stack.length-1,i=this._stack.splice(e,1)[0],s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{this._undo(i.batch,s);const r=this.editor.model.document.history.getOperations(i.batch.baseVersion);this._restoreSelection(i.selection.ranges,i.selection.isBackward,r)}),this.fire("revert",i.batch,s),this.refresh()}}class OZ extends u4{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(e,()=>{const s=t.batch.operations[t.batch.operations.length-1].baseVersion+1,r=this.editor.model.document.history.getOperations(s);this._restoreSelection(t.selection.ranges,t.selection.isBackward,r),this._undo(t.batch,e)}),this.refresh()}}class MZ extends De{constructor(){super(...arguments);y(this,"_undoCommand");y(this,"_redoCommand");y(this,"_batchRegistry",new WeakSet)}static get pluginName(){return"UndoEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.t;this._undoCommand=new RZ(e),this._redoCommand=new OZ(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(s,r)=>{const o=r[0];if(!o.isDocumentOperation)return;const l=o.batch,u=this._redoCommand.createdBatches.has(l),f=this._undoCommand.createdBatches.has(l);this._batchRegistry.has(l)||(this._batchRegistry.add(l),l.isUndoable&&(u?this._undoCommand.addBatch(l):f||(this._undoCommand.addBatch(l),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(s,r,o)=>{this._redoCommand.addBatch(o)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Undo"),keystroke:"CTRL+Z"},{label:i("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class IZ extends De{static get pluginName(){return"UndoUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale,i=t.t,s=e.uiLanguageDirection=="ltr"?CT:kT,r=e.uiLanguageDirection=="ltr"?kT:CT;this._addButtonsToFactory("undo",i("Undo"),"CTRL+Z",s),this._addButtonsToFactory("redo",i("Redo"),"CTRL+Y",r)}_addButtonsToFactory(t,e,i,s){const r=this.editor;r.ui.componentFactory.add(t,()=>{const o=this._createButton(ct,t,e,i,s);return o.set({tooltip:!0}),o}),r.ui.componentFactory.add("menuBar:"+t,()=>this._createButton(Ir,t,e,i,s))}_createButton(t,e,i,s,r){const o=this.editor,l=o.locale,u=o.commands.get(e),f=new t(l);return f.set({label:i,icon:r,keystroke:s}),f.bind("isEnabled").to(u,"isEnabled"),this.listenTo(f,"execute",()=>{o.execute(e),o.editing.view.focus()}),f}}class LZ extends De{static get requires(){return[MZ,IZ]}static get pluginName(){return"Undo"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class BZ extends De{static get requires(){return[TY,yZ,cw,EZ,RJ,gJ,LZ]}static get pluginName(){return"Essentials"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class DZ extends Xt{constructor(e,i){super(e);y(this,"attributeKey");this.attributeKey=i}refresh(){const e=this.editor.model,i=e.document;this.value=i.selection.getAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(e={}){const i=this.editor.model,r=i.document.selection,o=e.value,l=e.batch,u=f=>{if(r.isCollapsed)o?f.setSelectionAttribute(this.attributeKey,o):f.removeSelectionAttribute(this.attributeKey);else{const h=i.schema.getValidRanges(r.getRanges(),this.attributeKey);for(const m of h)o?f.setAttribute(this.attributeKey,o,m):f.removeAttribute(this.attributeKey,m)}};l?i.enqueueChange(l,f=>{u(f)}):i.change(f=>{u(f)})}}const Ds="fontColor";function NZ(n){return t=>zZ(t.getStyle(n))}function VZ(n){return(t,{writer:e})=>e.createAttributeElement("span",{style:`${n}:${t}`},{priority:7})}function FZ({dropdownView:n,colors:t,columns:e,removeButtonLabel:i,colorPickerLabel:s,documentColorsLabel:r,documentColorsCount:o,colorPickerViewConfig:l}){const u=n.locale,f=new $O(u,{colors:t,columns:e,removeButtonLabel:i,colorPickerLabel:s,documentColorsLabel:r,documentColorsCount:o,colorPickerViewConfig:l});return n.colorSelectorView=f,n.panelView.children.add(f),f}function zZ(n){return n.replace(/\s/g,"")}class UZ extends DZ{constructor(t){super(t,Ds)}}class $Z extends De{static get pluginName(){return"FontColorEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define(Ds,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:Ds,value:NZ("color")}}),t.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:Ds,value:e=>e.getAttribute("color")}}),t.conversion.for("downcast").attributeToElement({model:Ds,view:VZ("color")}),t.commands.add(Ds,new UZ(t)),t.model.schema.extend("$text",{allowAttributes:Ds}),t.model.schema.setAttributeProperties(Ds,{isFormatting:!0,copyOnEnter:!0})}}class HZ extends De{constructor(e,{commandName:i,componentName:s,icon:r,dropdownLabel:o}){super(e);y(this,"commandName");y(this,"componentName");y(this,"icon");y(this,"dropdownLabel");y(this,"columns");this.commandName=i,this.componentName=s,this.icon=r,this.dropdownLabel=o,this.columns=e.config.get(`${this.componentName}.columns`)}init(){const e=this.editor,i=e.locale,s=i.t,r=e.commands.get(this.commandName),o=e.config.get(this.componentName),l=MY(o.colors),u=OY(i,l),f=o.documentColors,h=o.colorPicker!==!1;e.ui.componentFactory.add(this.componentName,m=>{const b=Jd(m);let w=!1;const _=FZ({dropdownView:b,colors:u.map(k=>({label:k.label,color:k.model,options:{hasBorder:k.hasBorder}})),columns:this.columns,removeButtonLabel:s("Remove color"),colorPickerLabel:s("Color picker"),documentColorsLabel:f!==0?s("Document colors"):"",documentColorsCount:f===void 0?this.columns:f,colorPickerViewConfig:h?o.colorPicker||{}:!1});return _.bind("selectedColor").to(r,"value"),b.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),b.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),b.bind("isEnabled").to(r),_.on("execute",(k,x)=>{b.isOpen&&e.execute(this.commandName,{value:x.value,batch:this._undoStepBatch}),x.source!=="colorPicker"&&e.editing.view.focus(),x.source==="colorPickerSaveButton"&&(b.isOpen=!1)}),_.on("colorPicker:show",()=>{this._undoStepBatch=e.model.createBatch()}),_.on("colorPicker:cancel",()=>{this._undoStepBatch.operations.length&&(b.isOpen=!1,e.execute("undo",this._undoStepBatch)),e.editing.view.focus()}),b.on("change:isOpen",(k,x,A)=>{w||(w=!0,b.colorSelectorView.appendUI()),A&&(f!==0&&_.updateDocumentColors(e.model,this.componentName),_.updateSelectedColors(),_.showColorGridsFragment())}),rw(b,()=>b.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find(k=>k.isOn)),b}),e.ui.componentFactory.add(`menuBar:${this.componentName}`,m=>{const b=new bo(m);b.buttonView.set({label:this.dropdownLabel,icon:this.icon}),b.bind("isEnabled").to(r);let w=!1;const _=new $O(m,{colors:u.map(k=>({label:k.label,color:k.model,options:{hasBorder:k.hasBorder}})),columns:this.columns,removeButtonLabel:s("Remove color"),colorPickerLabel:s("Color picker"),documentColorsLabel:f!==0?s("Document colors"):"",documentColorsCount:f===void 0?this.columns:f,colorPickerViewConfig:!1});return _.bind("selectedColor").to(r,"value"),_.delegate("execute").to(b),_.on("execute",(k,x)=>{e.execute(this.commandName,{value:x.value,batch:this._undoStepBatch}),e.editing.view.focus()}),b.on("change:isOpen",(k,x,A)=>{w||(w=!0,_.appendUI()),A&&(f!==0&&_.updateDocumentColors(e.model,this.componentName),_.updateSelectedColors(),_.showColorGridsFragment())}),b.panelView.children.add(_),b})}}class jZ extends HZ{constructor(t){const e=t.locale.t;super(t,{commandName:Ds,componentName:Ds,icon:gK,dropdownLabel:e("Font Color")})}static get pluginName(){return"FontColorUI"}}class WZ extends De{static get requires(){return[$Z,jZ]}static get pluginName(){return"FontColor"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class qZ extends Xt{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}refresh(){const t=this.editor.model,e=t.document,i=$i(e.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&TE(i,t.schema)}execute(t={}){const e=this.editor.model,i=e.document,s=t.selection||i.selection;e.canEditAt(s)&&e.change(r=>{const o=s.getSelectedBlocks();for(const l of o)!l.is("element","paragraph")&&TE(l,e.schema)&&r.rename(l,"paragraph")})}}function TE(n,t){return t.checkChild(n.parent,"paragraph")&&!t.isObject(n)}class GZ extends Xt{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}execute(t){const e=this.editor.model,i=t.attributes;let s=t.position;return e.canEditAt(s)?e.change(r=>{if(s=this._findPositionToInsertParagraph(s,r),!s)return null;const o=r.createElement("paragraph");return i&&e.schema.setAllowedAttributes(o,i,r),e.insertContent(o,s),r.setSelection(o,"in"),r.createPositionAt(o,0)}):null}_findPositionToInsertParagraph(t,e){const i=this.editor.model;if(i.schema.checkChild(t,"paragraph"))return t;const s=i.schema.findAllowedParent(t,"paragraph");if(!s)return null;const r=t.parent,o=i.schema.checkChild(r,"$text");return r.isEmpty||o&&t.isAtEnd?i.createPositionAfter(r):!r.isEmpty&&o&&t.isAtStart?i.createPositionBefore(r):e.split(t,s).position}}const Yp=class Yp extends De{static get pluginName(){return"Paragraph"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model;t.commands.add("paragraph",new qZ(t)),t.commands.add("insertParagraph",new GZ(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(i,{writer:s})=>!Yp.paragraphLikeElements.has(i.name)||i.isEmpty?null:s.createElement("paragraph"),view:/.+/,converterPriority:"low"})}};y(Yp,"paragraphLikeElements",new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]));let xv=Yp;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function KZ(n,t){const e=$i(t.getSelectedBlocks());return!e||n.isObject(e)||e.isEmpty&&e.name!="listItem"?"imageBlock":"imageInline"}const YZ=/^(image|image-inline)$/;class d4 extends De{constructor(){super(...arguments);y(this,"_domEmitter",new(wi()))}static get pluginName(){return"ImageUtils"}static get isOfficialPlugin(){return!0}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},i=null,s=null,r={}){const o=this.editor,l=o.model,u=l.document.selection,f=f4(o,i||u,s);e={...Object.fromEntries(u.getAttributes()),...e};for(const h in e)l.schema.checkAttribute(f,h)||delete e[h];return l.change(h=>{const{setImageSizes:m=!0}=r,b=h.createElement(f,e);return l.insertObject(b,i,null,{setSelection:"on",findOptimalPosition:!i&&f!="imageInline"?"auto":void 0}),b.parent?(m&&this.setImageNaturalSizeAttributes(b),b):null})}setImageNaturalSizeAttributes(e){const i=e.getAttribute("src");i&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(s=>{const r=new ke.window.Image;this._domEmitter.listenTo(r,"load",()=>{!e.getAttribute("width")&&!e.getAttribute("height")&&this.editor.model.enqueueChange(s.batch,o=>{o.setAttribute("width",r.naturalWidth,e),o.setAttribute("height",r.naturalHeight,e)}),this._domEmitter.stopListening(r,"load")}),r.src=i}))}getClosestSelectedImageWidget(e){const i=e.getFirstPosition();if(!i)return null;const s=e.getSelectedElement();if(s&&this.isImageWidget(s))return s;let r=i.parent;for(;r;){if(r.is("element")&&this.isImageWidget(r))return r;r=r.parent}return null}getClosestSelectedImageElement(e){const i=e.getSelectedElement();return this.isImage(i)?i:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:YZ})}isImageAllowed(){const i=this.editor.model.document.selection;return XZ(this.editor,i)&&JZ(i)}toImageWidget(e,i,s){return i.setCustomProperty("image",!0,e),LJ(e,i,{label:()=>{const l=this.findViewImgElement(e).getAttribute("alt");return l?`${l} ${s}`:s}})}isImageWidget(e){return!!e.getCustomProperty("image")&&mn(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const i=this.editor.editing.view;for(const{item:s}of i.createRangeIn(e))if(this.isInlineImageView(s))return s}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function XZ(n,t){if(f4(n,t,null)=="imageBlock"){const i=ZZ(t,n.model);if(n.model.schema.checkChild(i,"imageBlock"))return!0}else if(n.model.schema.checkChild(t.focus,"imageInline"))return!0;return!1}function JZ(n){return[...n.focus.getAncestors()].every(t=>!t.is("element","imageBlock"))}function ZZ(n,t){const i=zJ(n,t).start.parent;return i.isEmpty&&!i.is("element","$root")?i.parent:i}function f4(n,t,e){const i=n.model.schema,s=n.config.get("image.insert.type");return n.plugins.has("ImageBlockEditing")?n.plugins.has("ImageInlineEditing")?e||(s==="inline"?"imageInline":s!=="auto"?"imageBlock":t.is("selection")?KZ(i,t):i.checkChild(t,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class QZ extends Ks{observe(t){this.listenTo(t,"load",(e,i)=>{const s=i.target;this.checkShouldIgnoreEventFromTarget(s)||s.tagName=="IMG"&&this._fireEvents(i)},{useCapture:!0})}stopObserving(t){this.stopListening(t)}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}class eQ extends Xt{constructor(t){super(t);const e=t.config.get("image.insert.type");t.plugins.has("ImageBlockEditing")||e==="block"&&zt("image-block-plugin-required"),t.plugins.has("ImageInlineEditing")||e==="inline"&&zt("image-inline-plugin-required")}refresh(){const t=this.editor.plugins.get("ImageUtils");this.isEnabled=t.isImageAllowed()}execute(t){const e=Wt(t.source),i=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),r=Object.fromEntries(i.getAttributes());e.forEach((o,l)=>{const u=i.getSelectedElement();if(typeof o=="string"&&(o={src:o}),l&&u&&s.isImage(u)){const f=this.editor.model.createPositionAfter(u);s.insertImage({...o,...r},f,t.imageType)}else t.breakBlock?s.insertImage({...o,...r},i.getFirstPosition(),t.imageType):s.insertImage({...o,...r},null,t.imageType)})}}class tQ extends Xt{constructor(t){super(t),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(i),this.value=this.isEnabled?i.getAttribute("src"):null}execute(t){const e=this.editor.model.document.selection.getSelectedElement(),i=this.editor.plugins.get("ImageUtils");this.editor.model.change(s=>{s.setAttribute("src",t.source,e),this.cleanupImage(s,e),i.setImageNaturalSizeAttributes(e)})}cleanupImage(t,e){t.removeAttribute("srcset",e),t.removeAttribute("sizes",e),t.removeAttribute("sources",e),t.removeAttribute("width",e),t.removeAttribute("height",e),t.removeAttribute("alt",e)}}class nQ extends De{static get requires(){return[d4]}static get pluginName(){return"ImageEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.conversion;t.editing.view.addObserver(QZ),e.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const i=new eQ(t),s=new tQ(t);t.commands.add("insertImage",i),t.commands.add("replaceImageSource",s),t.commands.add("imageInsert",i)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class iQ{constructor(){y(this,"_definitions",new Set)}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach(e=>this._definitions.add(e)):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",(e,i,s)=>{if(!s.consumable.test(i.item,"attribute:linkHref")||!(i.item.is("selection")||s.schema.isInline(i.item)))return;const r=s.writer,o=r.document.selection;for(const l of this._definitions){const u=r.createAttributeElement("a",l.attributes,{priority:5});l.classes&&r.addClass(l.classes,u);for(const f in l.styles)r.setStyle(f,l.styles[f],u);r.setCustomProperty("link",!0,u),l.callback(i.attributeNewValue)?i.item.is("selection")?r.wrap(o.getFirstRange(),u):r.wrap(s.mapper.toViewRange(i.range),u):r.unwrap(s.mapper.toViewRange(i.range),u)}},{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",(e,i,{writer:s,mapper:r})=>{const o=r.toViewElement(i.item),l=Array.from(o.getChildren()).find(u=>u.is("element","a"));if(l)for(const u of this._definitions){const f=Pr(u.attributes);if(u.callback(i.attributeNewValue)){for(const[h,m]of f)h==="class"?s.addClass(m,l):s.setAttribute(h,m,l);u.classes&&s.addClass(u.classes,l);for(const h in u.styles)s.setStyle(h,u.styles[h],l)}else{for(const[h,m]of f)h==="class"?s.removeClass(m,l):s.removeAttribute(h,l);u.classes&&s.removeClass(u.classes,l);for(const h in u.styles)s.removeStyle(h,l)}}})}}}const sQ=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,rQ="^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))",oQ=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,aQ=/^((\w+:(\/{2,})?)|(\W))/i,lQ=["https?","ftps?","mailto"],Fh="Ctrl+K";function cQ(n){return n.is("attributeElement")&&!!n.getCustomProperty("link")}function EE(n,{writer:t}){const e=t.createAttributeElement("a",{href:n},{priority:5});return t.setCustomProperty("link",!0,e),e}function h4(n,t=lQ){const e=String(n),i=t.join("|"),s=new RegExp(`${rQ.replace("<protocols>",i)}`,"i");return uQ(e,s)?e:"#"}function uQ(n,t){return!!n.replace(sQ,"").match(t)}function dQ(n,t){const e={"Open in a new tab":n("Open in a new tab"),Downloadable:n("Downloadable")};return t.forEach(i=>("label"in i&&e[i.label]&&(i.label=e[i.label]),i)),t}function fQ(n){const t=[];if(n)for(const[e,i]of Object.entries(n)){const s=Object.assign({},i,{id:`link${J$(e)}`});t.push(s)}return t}function Tv(n,t){return n?t.checkAttribute(n.name,"linkHref"):!1}function hQ(n){return oQ.test(n)}function uw(n,t){const e=hQ(n)?"mailto:":t,i=!!e&&!p4(n);return n&&i?e+n:n}function p4(n){return aQ.test(n)}function pQ(n){window.open(n,"_blank","noopener")}function Ev(n){let t="";for(const e of n.getItems()){if(!e.is("$text")&&!e.is("$textProxy"))return;t+=e.data}return t}class mQ extends Xt{constructor(){super(...arguments);y(this,"manualDecorators",new Gs);y(this,"automaticDecorators",new iQ)}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,i=e.document.selection,s=i.getSelectedElement()||$i(i.getSelectedBlocks());Tv(s,e.schema)?(this.value=s.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(s,"linkHref")):(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref"));for(const r of this.manualDecorators)r.value=this._getDecoratorStateFromModel(r.id)}execute(e,i={},s){const r=this.editor.model,o=r.document.selection,l=[],u=[];for(const f in i)i[f]?l.push(f):u.push(f);r.change(f=>{const h=w=>{f.setAttribute("linkHref",e,w),l.forEach(_=>f.setAttribute(_,!0,w)),u.forEach(_=>f.removeAttribute(_,w))},m=(w,_)=>{const k=Ev(w);if(!k)return w;let x=s;if(x||(x=_&&_==k?e:k),x!=k){const A=gQ(k,x);let L=0;for(const{offset:E,actual:P,expected:R}of A){const V=E+L,I=f.createRange(w.start.getShiftedBy(V),w.start.getShiftedBy(V+P.length)),F=bQ(I,w).getAttributes(),C=Array.from(F).filter(([H])=>r.schema.getAttributeProperties(H).isFormatting),N=f.createText(R,C);h(N),r.insertContent(N,I),L+=R.length}return f.createRange(w.start,w.start.getShiftedBy(x.length))}},b=w=>{const{plugins:_}=this.editor;if(f.setSelection(w.end),_.has("TwoStepCaretMovement"))_.get("TwoStepCaretMovement")._handleForwardMovement();else for(const k of["linkHref",...l,...u])f.removeSelectionAttribute(k)};if(o.isCollapsed){const w=o.getFirstPosition();if(o.hasAttribute("linkHref")){const _=o.getAttribute("linkHref"),k=zm(w,"linkHref",_,r),x=m(k,_);h(x||k),x&&b(x)}else if(e!==""){const _=Pr(o.getAttributes());_.set("linkHref",e),l.forEach(x=>{_.set(x,!0)});const k=r.insertContent(f.createText(s||e,_),w);b(k)}}else{const w=Array.from(o.getRanges()),_=r.schema.getValidRanges(w,"linkHref"),k=[];for(const L of o.getSelectedBlocks())r.schema.checkAttribute(L,"linkHref")&&k.push(f.createRangeOn(L));const x=k.slice();for(const L of _)this._isRangeToUpdate(L,k)&&x.push(L);const A=w.map(L=>({start:Mn.fromPosition(L.start,"toPrevious"),end:Mn.fromPosition(L.end,"toNext")}));for(let L of x){const E=(L.start.textNode||L.start.nodeAfter).getAttribute("linkHref");L=m(L,E)||L,h(L)}f.setSelection(A.map(L=>{const E=L.start.toPosition(),P=L.end.toPosition();return L.start.detach(),L.end.detach(),r.createRange(E,P)}))}})}_getDecoratorStateFromModel(e){const i=this.editor.model,s=i.document.selection,r=s.getSelectedElement();return Tv(r,i.schema)?r.getAttribute(e):s.getAttribute(e)}_isRangeToUpdate(e,i){for(const s of i)if(s.containsRange(e))return!1;return!0}}function gQ(n,t){const e=zl(n,t),i={equal:0,insert:0,delete:0},s=[];let r="",o="";for(const l of[...e,null])l=="insert"?o+=t[i.equal+i.insert]:l=="delete"?r+=n[i.equal+i.delete]:(r.length||o.length)&&(s.push({offset:i.equal,actual:r,expected:o}),r="",o=""),l&&i[l]++;return s}function bQ(n,t){if(!n.isCollapsed)return $i(n.getItems());const e=n.start;return e.textNode?e.textNode:!e.nodeBefore||e.isEqual(t.start)?e.nodeAfter:e.nodeBefore}class yQ extends Xt{refresh(){const t=this.editor.model,e=t.document.selection,i=e.getSelectedElement();Tv(i,t.schema)?this.isEnabled=t.schema.checkAttribute(i,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref")}execute(){const t=this.editor,e=this.editor.model,i=e.document.selection,s=t.commands.get("link");e.change(r=>{const o=i.isCollapsed?[zm(i.getFirstPosition(),"linkHref",i.getAttribute("linkHref"),e)]:e.schema.getValidRanges(i.getRanges(),"linkHref");for(const l of o)if(r.removeAttribute("linkHref",l),s)for(const u of s.manualDecorators)r.removeAttribute(u.id,l)})}}class vQ extends jt(){constructor({id:e,label:i,attributes:s,classes:r,styles:o,defaultValue:l}){super();y(this,"id");y(this,"defaultValue");y(this,"label");y(this,"attributes");y(this,"classes");y(this,"styles");this.id=e,this.set("value",void 0),this.defaultValue=l,this.label=i,this.attributes=s,this.classes=r,this.styles=o}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}const wQ="ck-link_selected",AE="automatic",_Q="manual",kQ=/^(https?:)?\/\//;class jp extends De{constructor(e){super(e);y(this,"_linkOpeners",[]);e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1,toolbar:["linkPreview","|","editLink","linkProperties","unlink"]})}static get pluginName(){return"LinkEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[uE,QO,_a]}init(){const e=this.editor,i=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:EE}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(o,l)=>EE(h4(o,i),l)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:o=>o.getAttribute("href")}}),e.commands.add("link",new mQ(e)),e.commands.add("unlink",new yQ(e));const s=dQ(e.t,fQ(e.config.get("link.decorators")));this._enableAutomaticDecorators(s.filter(o=>o.mode===AE)),this._enableManualDecorators(s.filter(o=>o.mode===_Q)),e.plugins.get(uE).registerAttribute("linkHref"),yJ(e,"linkHref","a",wQ),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_registerLinkOpener(e){this._linkOpeners.push(e)}_enableAutomaticDecorators(e){const i=this.editor,r=i.commands.get("link").automaticDecorators;i.config.get("link.addTargetToExternalLinks")&&r.add({id:"linkIsExternal",mode:AE,callback:o=>!!o&&kQ.test(o),attributes:{target:"_blank",rel:"noopener noreferrer"}}),r.add(e),r.length&&i.conversion.for("downcast").add(r.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const i=this.editor,r=i.commands.get("link").manualDecorators;e.forEach(o=>{i.model.schema.extend("$text",{allowAttributes:o.id});const l=new vQ(o);r.add(l),i.conversion.for("downcast").attributeToElement({model:l.id,view:(u,{writer:f,schema:h},{item:m})=>{if((m.is("selection")||h.isInline(m))&&u){const b=f.createAttributeElement("a",l.attributes,{priority:5});l.classes&&f.addClass(l.classes,b);for(const w in l.styles)f.setStyle(w,l.styles[w],b);return f.setCustomProperty("link",!0,b),b}}}),i.conversion.for("upcast").elementToAttribute({view:{name:"a",...l._createPattern()},model:{key:l.id}})})}_enableLinkOpen(){const e=this.editor,s=e.editing.view.document,r=o=>{this._linkOpeners.some(l=>l(o))||pQ(o)};this.listenTo(s,"click",(o,l)=>{if(!(Ie.isMac?l.domEvent.metaKey:l.domEvent.ctrlKey))return;let f=l.domTarget;if(f.tagName.toLowerCase()!="a"&&(f=f.closest("a")),!f)return;const h=f.getAttribute("href");h&&(o.stop(),l.preventDefault(),r(h))},{context:"$capture"}),this.listenTo(s,"keydown",(o,l)=>{const f=e.commands.get("link").value;f&&l.keyCode===Ke.enter&&l.altKey&&(o.stop(),r(f))})}_enableSelectionAttributesFixer(){const i=this.editor.model,s=i.document.selection;this.listenTo(s,"change:attribute",(r,{attributeKeys:o})=>{!o.includes("linkHref")||s.hasAttribute("linkHref")||i.change(l=>{CQ(l,SQ(i.schema))})})}_enableClipboardIntegration(){const e=this.editor,i=e.model,s=this.editor.config.get("link.defaultProtocol");s&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(r,o)=>{i.change(l=>{const u=l.createRangeIn(o.content);for(const f of u.getItems())if(f.hasAttribute("linkHref")){const h=uw(f.getAttribute("linkHref"),s);l.setAttribute("linkHref",h,f)}})})}}function CQ(n,t){n.removeSelectionAttribute("linkHref");for(const e of t)n.removeSelectionAttribute(e)}function SQ(n){return n.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}class xQ extends ct{constructor(t){super(t);const e=this.bindTemplate;this.set({href:void 0,withText:!0}),this.extendTemplate({attributes:{class:["ck-link-toolbar__preview"],href:e.to("href"),target:"_blank",rel:"noopener noreferrer"},on:{click:e.to(i=>{if(this.href){const s=()=>i.preventDefault();this.fire("navigate",this.href,s)}})}}),this.template.tag="a"}}class TQ extends Te{constructor(e,i){super(e);y(this,"focusTracker",new Ln);y(this,"keystrokes",new ii);y(this,"backButtonView");y(this,"saveButtonView");y(this,"displayedTextInputView");y(this,"urlInputView");y(this,"children");y(this,"providersListChildren");y(this,"_validators");y(this,"_focusables",new ds);y(this,"_focusCycler");this._validators=i,this.backButtonView=this._createBackButton(),this.saveButtonView=this._createSaveButton(),this.displayedTextInputView=this._createDisplayedTextInput(),this.urlInputView=this._createUrlInput(),this.providersListChildren=this.createCollection(),this.children=this.createCollection([this._createHeaderView()]),this._createFormChildren(),this.listenTo(this.providersListChildren,"add",()=>{this.stopListening(this.providersListChildren,"add"),this.children.add(this._createProvidersListView())}),this._focusCycler=new Ys({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-link-form","ck-responsive-form"],tabindex:"-1"},children:this.children})}render(){super.render(),bY({view:this}),[this.urlInputView,this.saveButtonView,...this.providersListChildren,this.backButtonView,this.displayedTextInputView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createBackButton(){const e=this.locale.t,i=new ct(this.locale);return i.set({class:"ck-button-back",label:e("Back"),icon:Dm,tooltip:!0}),i.delegate("execute").to(this,"cancel"),i}_createSaveButton(){const e=this.locale.t,i=new ct(this.locale);return i.set({label:e("Insert"),tooltip:!1,withText:!0,type:"submit",class:"ck-button-action ck-button-bold"}),i}_createHeaderView(){const e=this.locale.t,i=new Nm(this.locale,{label:e("Link")});return i.children.add(this.backButtonView,0),i}_createProvidersListView(){const e=new Xd(this.locale);return e.extendTemplate({attributes:{class:["ck-link-form__providers-list"]}}),e.items.bindTo(this.providersListChildren).using(i=>{const s=new ko(this.locale);return s.children.add(i),s}),e}_createDisplayedTextInput(){const e=this.locale.t,i=new $p(this.locale,_v);return i.label=e("Displayed text"),i.class="ck-labeled-field-view_full-width",i}_createUrlInput(){const e=this.locale.t,i=new $p(this.locale,_v);return i.fieldView.inputMode="url",i.label=e("Link URL"),i.class="ck-labeled-field-view_full-width",i}_createFormChildren(){this.children.add(new iE(this.locale,{children:[this.displayedTextInputView],class:["ck-form__row_large-top-padding"]})),this.children.add(new iE(this.locale,{children:[this.urlInputView,this.saveButtonView],class:["ck-form__row_with-submit","ck-form__row_large-top-padding","ck-form__row_large-bottom-padding"]}))}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}class EQ extends Te{constructor(e){super(e);y(this,"focusTracker",new Ln);y(this,"keystrokes",new ii);y(this,"backButtonView");y(this,"listView");y(this,"listChildren");y(this,"emptyListInformation");y(this,"children");y(this,"_focusables",new ds);y(this,"_focusCycler");this.listChildren=this.createCollection(),this.backButtonView=this._createBackButton(),this.listView=this._createListView(),this.emptyListInformation=this._createEmptyLinksListItemView(),this.children=this.createCollection([this._createHeaderView(),this.emptyListInformation]),this.set("title",""),this.set("emptyListPlaceholder",""),this.set("hasItems",!1),this.listenTo(this.listChildren,"change",()=>{this.hasItems=this.listChildren.length>0}),this.on("change:hasItems",(i,s,r)=>{r?(this.children.remove(this.emptyListInformation),this.children.add(this.listView)):(this.children.remove(this.listView),this.children.add(this.emptyListInformation))}),this.keystrokes.set("Esc",(i,s)=>{this.fire("cancel"),s()}),this._focusCycler=new Ys({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-providers"],tabindex:"-1"},children:this.children})}render(){super.render(),[this.listView,this.backButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createListView(){const e=new Xd(this.locale);return e.extendTemplate({attributes:{class:["ck-link-providers__list"]}}),e.items.bindTo(this.listChildren).using(i=>{const s=new ko(this.locale);return s.children.add(i),s}),e}_createBackButton(){const e=this.locale.t,i=new ct(this.locale);return i.set({class:"ck-button-back",label:e("Back"),icon:Dm,tooltip:!0}),i.delegate("execute").to(this,"cancel"),i}_createHeaderView(){const e=new Nm(this.locale);return e.bind("label").to(this,"title"),e.children.add(this.backButtonView,0),e}_createEmptyLinksListItemView(){const e=new Te(this.locale);return e.setTemplate({tag:"p",attributes:{class:["ck","ck-link__empty-list-info"]},children:[{text:this.bindTemplate.to("emptyListPlaceholder")}]}),e}}class AQ extends Te{constructor(e){super(e);y(this,"focusTracker",new Ln);y(this,"keystrokes",new ii);y(this,"backButtonView");y(this,"children");y(this,"listChildren");y(this,"_focusables",new ds);y(this,"_focusCycler");this.backButtonView=this._createBackButton(),this.listChildren=this.createCollection(),this.children=this.createCollection([this._createHeaderView(),this._createListView()]),this._focusCycler=new Ys({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-properties"],tabindex:"-1"},children:this.children}),this.keystrokes.set("Esc",(i,s)=>{this.fire("back"),s()})}render(){super.render(),[...this.listChildren,this.backButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBackButton(){const e=this.locale.t,i=new ct(this.locale);return i.set({class:"ck-button-back",label:e("Back"),icon:Dm,tooltip:!0}),i.delegate("execute").to(this,"back"),i}_createHeaderView(){const e=this.locale.t,i=new Nm(this.locale,{label:e("Link properties")});return i.children.add(this.backButtonView,0),i}_createListView(){const e=new Xd(this.locale);return e.extendTemplate({attributes:{class:["ck-link__list"]}}),e.items.bindTo(this.listChildren).using(i=>{const s=new ko(this.locale);return s.children.add(i),s}),e}}class PQ extends ct{constructor(e){super(e);y(this,"arrowView");this.set({withText:!0}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-link__button"]}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new qs;return e.content=bO,e}}const Bs="link-ui";class RQ extends De{constructor(){super(...arguments);y(this,"toolbarView",null);y(this,"formView",null);y(this,"linkProviderItemsView",null);y(this,"propertiesView",null);y(this,"_balloon");y(this,"_linksProviders",new Gs)}static get requires(){return[sE,jp]}static get pluginName(){return"LinkUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=this.editor.t;this.set("selectedLinkableText",void 0),e.editing.view.addObserver(UG),this._balloon=e.plugins.get(sE),this._registerComponents(),this._registerEditingOpeners(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Bs,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Bs,view:(s,{writer:r})=>{if(!s.markerRange.isCollapsed)return null;const o=r.createUIElement("span");return r.addClass(["ck-fake-link-selection","ck-fake-link-selection_collapsed"],o),o}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Create link"),keystroke:Fh},{label:i("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.propertiesView&&this.propertiesView.destroy(),this.formView&&this.formView.destroy(),this.toolbarView&&this.toolbarView.destroy(),this.linkProviderItemsView&&this.linkProviderItemsView.destroy()}registerLinksListProvider(e){const i=this._linksProviders.filter(s=>(s.order||0)<=(e.order||0)).length;this._linksProviders.add(e,i)}_createViews(){const e=this.editor.commands.get("link");this.toolbarView=this._createToolbarView(),this.formView=this._createFormView(),e.manualDecorators.length&&(this.propertiesView=this._createPropertiesView()),this._enableUserBalloonInteractions()}_createToolbarView(){const e=this.editor,i=new iw(e.locale),s=e.commands.get("link");i.class="ck-link-toolbar";let r=e.config.get("link.toolbar");return s.manualDecorators.length||(r=r.filter(o=>o!=="linkProperties")),i.fillFromConfig(r,e.ui.componentFactory),i.keystrokes.set("Esc",(o,l)=>{this._hideUI(),l()}),i.keystrokes.set(Fh,(o,l)=>{this._addFormView(),l()}),e.ui.addToolbar(i,{isContextual:!0,beforeFocus:()=>{this._getSelectedLinkElement()&&!this._isToolbarVisible&&this._showUI(!0)},afterBlur:()=>{this._hideUI(!1)}}),i}_createFormView(){const e=this.editor,i=e.locale.t,s=e.commands.get("link"),r=e.config.get("link.defaultProtocol"),o=new(HT(TQ))(e.locale,OQ(e));return o.displayedTextInputView.bind("isEnabled").to(this,"selectedLinkableText",l=>l!==void 0),o.urlInputView.bind("isEnabled").to(s,"isEnabled"),o.saveButtonView.bind("isEnabled").to(s,"isEnabled"),o.saveButtonView.bind("label").to(s,"value",l=>i(l?"Update":"Insert")),this.listenTo(o,"submit",()=>{if(o.isValid()){const l=o.urlInputView.fieldView.element.value,u=uw(l,r),f=o.displayedTextInputView.fieldView.element.value;e.execute("link",u,this._getDecoratorSwitchesState(),f!==this.selectedLinkableText?f:void 0),this._closeFormView()}}),this.listenTo(o.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(o,"cancel",()=>{this._closeFormView()}),o.keystrokes.set("Esc",(l,u)=>{this._closeFormView(),u()}),o.providersListChildren.bindTo(this._linksProviders).using(l=>this._createLinksListProviderButton(l)),o}_createLinkProviderListView(e){return e.getListItems().map(({href:i,label:s,icon:r})=>{const o=new ct;return o.set({label:s,icon:r,tooltip:!1,withText:!0}),o.on("execute",()=>{this.formView.resetFormStatus(),this.formView.urlInputView.fieldView.value=i,this.editor.editing.view.focus(),this._removeLinksProviderView(),this.formView.focus()}),o})}_createLinkProviderItemsView(e){const i=this.editor,s=i.locale.t,r=new EQ(i.locale),{emptyListPlaceholder:o,label:l}=e;return r.emptyListPlaceholder=o||s("No links available"),r.title=l,this.listenTo(r,"cancel",()=>{i.editing.view.focus(),this._removeLinksProviderView(),this.formView.focus()}),r}_createPropertiesView(){const e=this.editor,i=this.editor.commands.get("link"),s=new(HT(AQ))(e.locale);return this.listenTo(s,"back",()=>{e.editing.view.focus(),this._removePropertiesView()}),s.listChildren.bindTo(i.manualDecorators).using(r=>{const o=new nw(e.locale);return o.set({label:r.label,withText:!0}),o.bind("isOn").toMany([r,i],"value",(l,u)=>u===void 0&&l===void 0?!!r.defaultValue:!!l),o.on("execute",()=>{r.set("value",!o.isOn),e.execute("link",i.value,this._getDecoratorSwitchesState())}),o}),s}_getDecoratorSwitchesState(){const e=this.editor.commands.get("link");return Array.from(e.manualDecorators).reduce((i,s)=>{const r=e.value===void 0&&s.value===void 0?s.defaultValue:s.value;return{...i,[s.id]:!!r}},{})}_registerEditingOpeners(){this.editor.plugins.get(jp)._registerLinkOpener(i=>{const s=this._getLinkProviderLinkByHref(i);if(!s)return!1;const{item:r,provider:o}=s;return o.navigate?o.navigate(r):!1})}_registerComponents(){const e=this.editor;e.ui.componentFactory.add("link",()=>{const i=this._createButton(ct);return i.set({tooltip:!0}),i}),e.ui.componentFactory.add("menuBar:link",()=>{const i=this._createButton(Ir);return i.set({role:"menuitemcheckbox"}),i}),e.ui.componentFactory.add("linkPreview",i=>{const s=new xQ(i),r=e.config.get("link.allowedProtocols"),o=e.commands.get("link"),l=i.t;s.bind("isEnabled").to(o,"value",f=>!!f),s.bind("href").to(o,"value",f=>f&&h4(f,r));const u=f=>{if(!f){s.label=void 0,s.icon=void 0,s.tooltip=l("Open link in new tab");return}const h=this._getLinkProviderLinkByHref(f);if(h){const{label:m,tooltip:b,icon:w}=h.item;s.label=m,s.tooltip=b||!1,s.icon=w}else s.label=f,s.icon=void 0,s.tooltip=l("Open link in new tab")};return u(o.value),this.listenTo(o,"change:value",(f,h,m)=>{u(m)}),this.listenTo(s,"navigate",(f,h,m)=>{const b=this._getLinkProviderLinkByHref(h);if(!b)return;const{provider:w,item:_}=b,{navigate:k}=w;k&&k(_)&&(f.stop(),m())}),s}),e.ui.componentFactory.add("unlink",i=>{const s=e.commands.get("unlink"),r=new ct(i),o=i.t;return r.set({label:o("Unlink"),icon:VK,tooltip:!0}),r.bind("isEnabled").to(s),this.listenTo(r,"execute",()=>{e.execute("unlink"),this._hideUI()}),r}),e.ui.componentFactory.add("editLink",i=>{const s=e.commands.get("link"),r=new ct(i),o=i.t;return r.set({label:o("Edit link"),icon:PK,tooltip:!0}),r.bind("isEnabled").to(s),this.listenTo(r,"execute",()=>{this._addFormView()}),r}),e.ui.componentFactory.add("linkProperties",i=>{const s=e.commands.get("link"),r=new ct(i),o=i.t;return r.set({label:o("Link properties"),icon:BK,tooltip:!0}),r.bind("isEnabled").to(s,"isEnabled",s,"value",s,"manualDecorators",(l,u,f)=>l&&!!u&&f.length>0),this.listenTo(r,"execute",()=>{this._addPropertiesView()}),r})}_createLinksListProviderButton(e){const i=this.editor.locale,s=new PQ(i);return s.set({label:e.label}),this.listenTo(s,"execute",()=>{this._showLinksProviderView(e)}),s}_createButton(e){const i=this.editor,s=i.locale,r=i.commands.get("link"),o=new e(i.locale),l=s.t;return o.set({label:l("Link"),icon:yK,keystroke:Fh,isToggleable:!0}),o.bind("isEnabled").to(r,"isEnabled"),o.bind("isOn").to(r,"value",u=>!!u),this.listenTo(o,"execute",()=>{i.editing.view.scrollToTheSelection(),this._showUI(!0),this._getSelectedLinkElement()&&this._addFormView()}),o}_enableBalloonActivators(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Fh,(s,r)=>{r(),e.commands.get("link").isEnabled&&(e.editing.view.scrollToTheSelection(),this._showUI(!0))})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,i)=>{this._isToolbarVisible&&!this.toolbarView.focusTracker.isFocused&&(this.toolbarView.focus(),i())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,i)=>{this._isUIVisible&&(this._hideUI(),i())}),tw({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>{this._hideUI(!1)}})}_addToolbarView(){this.toolbarView||this._createViews(),!this._isToolbarInPanel&&this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this.formView.backButtonView.isVisible=e.isEnabled&&!!e.value,this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.selectedLinkableText=this._getSelectedLinkableText(),this.formView.displayedTextInputView.fieldView.value=this.selectedLinkableText||"",this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_addPropertiesView(){this.propertiesView||this._createViews(),!this._arePropertiesInPanel&&(this.propertiesView.disableCssTransitions(),this._balloon.add({view:this.propertiesView,position:this._getBalloonPositionData()}),this.propertiesView.enableCssTransitions(),this.propertiesView.focus())}_showLinksProviderView(e){this.linkProviderItemsView&&this._removeLinksProviderView(),this.linkProviderItemsView=this._createLinkProviderItemsView(e),this._addLinkProviderItemsView(e)}_addLinkProviderItemsView(e){this.linkProviderItemsView.listChildren.clear(),this.linkProviderItemsView.listChildren.addMany(this._createLinkProviderListView(e)),this._balloon.add({view:this.linkProviderItemsView,position:this._getBalloonPositionData()}),this.linkProviderItemsView.focus()}_closeFormView(){const e=this.editor.commands.get("link");this.selectedLinkableText=void 0,e.value!==void 0?this._removeFormView():this._hideUI()}_removePropertiesView(){this._arePropertiesInPanel&&this._balloon.remove(this.propertiesView)}_removeLinksProviderView(){this._isLinksListInPanel&&this._balloon.remove(this.linkProviderItemsView)}_removeFormView(e=!0){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.displayedTextInputView.fieldView.reset(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),e&&this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._isToolbarVisible?this._addFormView():this._addToolbarView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addToolbarView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(e=!0){const i=this.editor;this._isUIInPanel&&(this.stopListening(i.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e&&i.editing.view.focus(),this._removeLinksProviderView(),this._removePropertiesView(),this._removeFormView(e),this._isToolbarInPanel&&this._balloon.remove(this.toolbarView),this._hideFakeVisualSelection())}_startUpdatingUI(){const e=this.editor,i=e.editing.view.document;let s=this._getSelectedLinkElement(),r=l();const o=()=>{const u=this._getSelectedLinkElement(),f=l();s&&!u||!s&&f!==r?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),s=u,r=f};function l(){return i.selection.focus.getAncestors().reverse().find(u=>u.is("element"))}this.listenTo(e.ui,"update",o),this.listenTo(this._balloon,"change:visibleView",o)}get _arePropertiesInPanel(){return!!this.propertiesView&&this._balloon.hasView(this.propertiesView)}get _isLinksListInPanel(){return!!this.linkProviderItemsView&&this._balloon.hasView(this.linkProviderItemsView)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _isToolbarInPanel(){return!!this.toolbarView&&this._balloon.hasView(this.toolbarView)}get _isPropertiesVisible(){return!!this.propertiesView&&this._balloon.visibleView===this.propertiesView}get _isFormVisible(){return!!this.formView&&this._balloon.visibleView==this.formView}get _isToolbarVisible(){return!!this.toolbarView&&this._balloon.visibleView===this.toolbarView}get _isUIInPanel(){return this._arePropertiesInPanel||this._isLinksListInPanel||this._isFormInPanel||this._isToolbarInPanel}get _isUIVisible(){return this._isPropertiesVisible||this._isLinksListInPanel||this._isFormVisible||this._isToolbarVisible}_getBalloonPositionData(){const e=this.editor.editing.view,i=e.document;if(this.editor.model.markers.has(Bs)){const r=this.editor.editing.mapper.markerNameToElements(Bs);if(r){const o=Array.from(r),l=e.createRange(e.createPositionBefore(o[0]),e.createPositionAfter(o[o.length-1]));return{target:e.domConverter.viewRangeToDom(l)}}}return{target:()=>{const r=this._getSelectedLinkElement();return r?e.domConverter.mapViewToDom(r):e.domConverter.viewRangeToDom(i.selection.getFirstRange())}}}_getSelectedLinkElement(){const e=this.editor.editing.view,i=e.document.selection,s=i.getSelectedElement();if(i.isCollapsed||s&&mn(s))return ay(i.getFirstPosition());{const r=i.getFirstRange().getTrimmed(),o=ay(r.start),l=ay(r.end);return!o||o!=l?null:e.createRangeIn(o).getTrimmed().isEqual(r)?o:null}}_getSelectedLinkableText(){const e=this.editor.model,i=this.editor.editing,s=this._getSelectedLinkElement();if(!s)return Ev(e.document.selection.getFirstRange());const r=i.view.createRangeOn(s),o=i.mapper.toModelRange(r);return Ev(o)}_getLinkProviderLinkByHref(e){if(!e)return null;for(const i of this._linksProviders){const s=i.getItem?i.getItem(e):i.getListItems().find(r=>r.href===e);if(s)return{provider:i,item:s}}return null}_showFakeVisualSelection(){const e=this.editor.model;e.change(i=>{const s=e.document.selection.getFirstRange();if(e.markers.has(Bs))i.updateMarker(Bs,{range:s});else if(s.start.isAtEnd){const r=s.start.getLastMatchingPosition(({item:o})=>!e.schema.isContent(o),{boundaries:s});i.addMarker(Bs,{usingOperation:!1,affectsData:!1,range:i.createRange(r,s.end)})}else i.addMarker(Bs,{usingOperation:!1,affectsData:!1,range:s})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Bs)&&e.change(i=>{i.removeMarker(Bs)})}}function ay(n){return n.getAncestors().find(t=>cQ(t))||null}function OQ(n){const t=n.t,e=n.config.get("link.allowCreatingEmptyLinks");return[i=>{if(!e&&!i.url.length)return t("Link URL must not be empty.")}]}const MQ=4,m4=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63}))|localhost)(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),IQ=2;class g4 extends De{static get requires(){return[Zd,jp]}static get pluginName(){return"AutoLink"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(t,e){return e.textNode&&e.textNode.hasAttribute("linkHref")?zm(e,"linkHref",e.textNode.getAttribute("linkHref"),t):null}_selectEntireLinks(t,e){const s=this.editor.model,r=s.document.selection,o=r.getFirstPosition(),l=r.getLastPosition();let u=e.getJoined(this._expandLinkRange(s,o)||e);u&&(u=u.getJoined(this._expandLinkRange(s,l)||e)),u&&(u.start.isBefore(o)||u.end.isAfter(l))&&t.setSelection(u)}_enablePasteLinking(){const t=this.editor,e=t.model,i=e.document.selection,s=t.plugins.get("ClipboardPipeline"),r=t.commands.get("link");s.on("inputTransformation",(o,l)=>{if(!this.isEnabled||!r.isEnabled||i.isCollapsed||l.method!=="paste"||i.rangeCount>1)return;const u=i.getFirstRange(),f=l.dataTransfer.getData("text/plain");if(!f)return;const h=f.match(m4);h&&h[2]===f&&(e.change(m=>{this._selectEntireLinks(m,u),r.execute(f)}),o.stop())},{priority:"high"})}_enableTypingHandling(){const t=this.editor,e=new bJ(t.model,i=>{let s=i;if(!LQ(s))return;s=s.slice(0,-1),"!.:,;?".includes(s[s.length-1])&&(s=s.slice(0,-1));const r=PE(s);if(r)return{url:r,removedTrailingCharacters:i.length-s.length}});e.on("matched:data",(i,s)=>{const{batch:r,range:o,url:l,removedTrailingCharacters:u}=s;if(!r.isTyping)return;const f=o.end.getShiftedBy(-u),h=f.getShiftedBy(-l.length),m=t.model.createRange(h,f);this._applyAutoLink(l,m)}),e.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,e=t.model,i=t.commands.get("enter");i&&i.on("execute",()=>{var o;const s=e.document.selection.getFirstPosition();let r;(o=s.parent.previousSibling)!=null&&o.is("element")?r=e.createRangeIn(s.parent.previousSibling):r=e.createRange(e.createPositionAt(s.parent,0),s),this._checkAndApplyAutoLinkOnRange(r)})}_enableShiftEnterHandling(){const t=this.editor,e=t.model,i=t.commands.get("shiftEnter");i&&i.on("execute",()=>{const s=e.document.selection.getFirstPosition(),r=e.createRange(e.createPositionAt(s.parent,0),s.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(r)})}_checkAndApplyAutoLinkOnRange(t){const e=this.editor.model,{text:i,range:s}=t4(t,e),r=PE(i);if(r){const o=e.createRange(s.end.getShiftedBy(-r.length),s.end);this._applyAutoLink(r,o)}}_applyAutoLink(t,e){const i=this.editor.model,s=this.editor.config.get("link.defaultProtocol"),r=uw(t,s);!this.isEnabled||!BQ(e,i)||!p4(r)||DQ(e)||this._persistAutoLink(r,e)}_persistAutoLink(t,e){const i=this.editor.model,s=this.editor.plugins.get("Delete");i.enqueueChange(r=>{r.setAttribute("linkHref",t,e),i.enqueueChange(()=>{s.requestUndoOnBackspace()})})}}function LQ(n){return n.length>MQ&&n[n.length-1]===" "&&n[n.length-2]!==" "}function PE(n){const t=m4.exec(n);return t?t[IQ]:null}function BQ(n,t){return t.schema.checkAttributeInSelection(t.createSelection(n),"linkHref")}function DQ(n){const t=n.start.nodeAfter;return!!t&&t.hasAttribute("linkHref")}class NQ extends De{static get requires(){return[jp,RQ,g4]}static get pluginName(){return"Link"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class ls{constructor(t,e){y(this,"_startElement");y(this,"_referenceIndent");y(this,"_isForward");y(this,"_includeSelf");y(this,"_sameAttributes");y(this,"_sameIndent");y(this,"_lowerIndent");y(this,"_higherIndent");this._startElement=t,this._referenceIndent=t.getAttribute("listIndent"),this._isForward=e.direction=="forward",this._includeSelf=!!e.includeSelf,this._sameAttributes=Wt(e.sameAttributes||[]),this._sameIndent=!!e.sameIndent,this._lowerIndent=!!e.lowerIndent,this._higherIndent=!!e.higherIndent}static first(t,e){const s=new this(t,e)[Symbol.iterator]();return $i(s)}*[Symbol.iterator](){const t=[];for(const{node:e}of new Qd(this._getStartNode(),this._isForward?"forward":"backward")){const i=e.getAttribute("listIndent");if(i<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=i}else if(i>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){t.push(e);continue}}else{if(!this._sameIndent){if(this._higherIndent){t.length&&(yield*t,t.length=0);break}continue}if(this._sameAttributes.some(s=>e.getAttribute(s)!==this._startElement.getAttribute(s)))break}t.length&&(yield*t,t.length=0),yield e}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}class Qd{constructor(t,e="forward"){y(this,"_node");y(this,"_isForward");y(this,"_previousNodesByIndent",[]);y(this,"_previous",null);y(this,"_previousNodeIndent",null);this._node=t,this._isForward=e==="forward"}[Symbol.iterator](){return this}next(){if(!Pt(this._node))return{done:!0,value:void 0};const t=this._node.getAttribute("listIndent");let e=null;if(this._previous){const s=this._previousNodeIndent;t>s?this._previousNodesByIndent[s]=this._previous:t<s?(e=this._previousNodesByIndent[t]||null,this._previousNodesByIndent.length=t):e=this._previous}const i={node:this._node,previous:this._previous,previousNodeInList:e};return this._previous=this._node,this._previousNodeIndent=t,this._node=this._isForward?this._node.nextSibling:this._node.previousSibling,{value:i,done:!1}}}class VQ{constructor(t){y(this,"_listHead");this._listHead=t}[Symbol.iterator](){return new Qd(this._listHead)}}class tc{static next(){return vi()}}function Pt(n){return!!n&&n.is("element")&&n.hasAttribute("listItemId")}function nc(n,t={}){return[...Co(n,{...t,direction:"backward"}),...Co(n,{...t,direction:"forward"})]}function Co(n,t={}){const e=t.direction=="forward",i=Array.from(new ls(n,{...t,includeSelf:e,sameIndent:!0,sameAttributes:"listItemId"}));return e?i:i.reverse()}function FQ(n){return Array.from(new ls(n,{direction:"forward",higherIndent:!0}))}function b4(n,t){const e=new ls(n,{sameIndent:!0,sameAttributes:"listType",...t}),i=new ls(n,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...t});return[...Array.from(e).reverse(),...i]}function Rr(n){return!ls.first(n,{sameIndent:!0,sameAttributes:"listItemId"})}function RE(n){return!ls.first(n,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function ef(n,t={}){n=Wt(n);const e=t.withNested!==!1,i=new Set;for(const s of n)for(const r of nc(s,{higherIndent:e}))i.add(r);return Oa(i)}function Um(n){n=Wt(n);const t=new Set;for(const e of n)for(const i of b4(e))t.add(i);return Oa(t)}function dw(n,t){const e=Co(n,{direction:"forward"}),i=tc.next();for(const s of e)t.setAttribute("listItemId",i,s);return e}function Av(n,t,e){const i={};for(const[r,o]of t.getAttributes())r.startsWith("list")&&(i[r]=o);const s=Co(n,{direction:"forward"});for(const r of s)e.setAttributes(i,r);return s}function Pv(n,t,{expand:e,indentBy:i=1}={}){n=Wt(n);const s=e?ef(n):n;for(const r of s){const o=r.getAttribute("listIndent")+i;o<0?$m(r,t):t.setAttribute("listIndent",o,r)}return s}function zQ(n,t){n=Wt(n);const e=ef(n),i=new Set,s=Math.min(...e.map(o=>o.getAttribute("listIndent"))),r=new Map;for(const o of e)r.set(o,ls.first(o,{lowerIndent:!0}));for(const o of e){if(i.has(o))continue;i.add(o);const l=o.getAttribute("listIndent")-1;if(l<0){$m(o,t);continue}if(o.getAttribute("listIndent")==s){const u=$Q(o,r.get(o),t);for(const f of u)i.add(f);if(u.length)continue}t.setAttribute("listIndent",l,o)}return Oa(i)}function $m(n,t){n=Wt(n);for(const e of n)e.is("element","listItem")&&t.rename(e,"paragraph");for(const e of n)for(const i of e.getAttributeKeys())i.startsWith("list")&&t.removeAttribute(i,e);return n}function Od(n){if(!n.length)return!1;const t=n[0].getAttribute("listItemId");return t?!n.some(e=>e.getAttribute("listItemId")!=t):!1}function UQ(n,t){const e=[];let i=Number.POSITIVE_INFINITY;for(const{node:s}of new Qd(n.nextSibling)){const r=s.getAttribute("listIndent");if(r==0)break;r<i&&(i=r);const o=r-i;t.setAttribute("listIndent",o,s),e.push(s)}return e}function Oa(n){return Array.from(n).filter(t=>t.root.rootName!=="$graveyard").sort((t,e)=>t.index-e.index)}function Md(n){const t=n.document.selection.getSelectedElement();return t&&n.schema.isObject(t)&&n.schema.isBlock(t)?t:null}function ly(n,t){return t.checkChild(n.parent,"listItem")&&t.checkChild(n,"$text")&&!t.isObject(n)}function Wp(n){return n=="numbered"||n=="customNumbered"}function $Q(n,t,e){return Co(t,{direction:"forward"}).pop().index>n.index?Av(n,t,e):[]}class OE extends Xt{constructor(e,i){super(e);y(this,"_direction");this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,i=ME(e.document.selection);e.change(s=>{const r=[];Od(i)&&!Rr(i[0])?(this._direction=="forward"&&r.push(...Pv(i,s)),r.push(...dw(i[0],s))):this._direction=="forward"?r.push(...Pv(i,s,{expand:!0})):r.push(...zQ(i,s));for(const o of r){if(!o.hasAttribute("listType"))continue;const l=ls.first(o,{sameIndent:!0});l&&s.setAttribute("listType",l.getAttribute("listType"),o)}this._fireAfterExecute(r)})}_fireAfterExecute(e){this.fire("afterExecute",Oa(new Set(e)))}_checkEnabled(){let e=ME(this.editor.model.document.selection),i=e[0];if(!i)return!1;if(this._direction=="backward"||Od(e)&&!Rr(e[0]))return!0;e=ef(e),i=e[0];const s=ls.first(i,{sameIndent:!0});return s?s.getAttribute("listType")==i.getAttribute("listType"):!1}}function ME(n){const t=Array.from(n.getSelectedBlocks()),e=t.findIndex(i=>!Pt(i));return e!=-1&&(t.length=e),t}class zu extends Xt{constructor(e,i,s={}){super(e);y(this,"type");y(this,"_listWalkerOptions");this.type=i,this._listWalkerOptions=s.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,s=i.document,r=Md(i),o=Array.from(s.selection.getSelectedBlocks()).filter(u=>i.schema.checkAttribute(u,"listType")||ly(u,i.schema)),l=e.forceValue!==void 0?!e.forceValue:this.value;i.change(u=>{if(l){const f=o[o.length-1],h=Co(f,{direction:"forward"}),m=[];h.length>1&&m.push(...dw(h[1],u)),m.push(...$m(o,u)),m.push(...UQ(f,u)),this._fireAfterExecute(m)}else if((r||s.selection.isCollapsed)&&Pt(o[0])){const f=b4(r||o[0],this._listWalkerOptions);for(const h of f)u.setAttributes({...e.additionalAttributes,listType:this.type},h);this._fireAfterExecute(f)}else{const f=[];for(const h of o)if(!h.hasAttribute("listType"))!h.is("element","listItem")&&ly(h,i.schema)&&u.rename(h,"listItem"),u.setAttributes({...e.additionalAttributes,listIndent:0,listItemId:tc.next(),listType:this.type},h),f.push(h);else for(const m of ef(h,{withNested:!1}))m.getAttribute("listType")!=this.type&&(u.setAttributes({...e.additionalAttributes,listType:this.type},m),f.push(m));this._fireAfterExecute(f)}})}_fireAfterExecute(e){this.fire("afterExecute",Oa(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,i=Array.from(e.getSelectedBlocks());if(!i.length)return!1;for(const s of i)if(s.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,i=e.schema,s=e.document.selection,r=Array.from(s.getSelectedBlocks());if(!r.length)return!1;if(this.value)return!0;for(const o of r)if(i.checkAttribute(o,"listType")||ly(o,i))return!0;return!1}}class IE extends Xt{constructor(e,i){super(e);y(this,"_direction");this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const i=this.editor.model,s=i.document.selection,r=[];i.change(o=>{const{firstElement:l,lastElement:u}=this._getMergeSubjectElements(s,e),f=l.getAttribute("listIndent")||0,h=u.getAttribute("listIndent"),m=u.getAttribute("listItemId");if(f!=h){const b=FQ(u);r.push(...Pv([u,...b],o,{indentBy:f-h,expand:f<h}))}if(e){let b=s;s.isCollapsed&&(b=o.createSelection(o.createRange(o.createPositionAt(l,"end"),o.createPositionAt(u,0)))),i.deleteContent(b,{doNotResetEntireContent:s.isCollapsed});const w=b.getLastPosition().parent,_=w.nextSibling;r.push(w),_&&_!==u&&_.getAttribute("listItemId")==m&&r.push(...Av(_,w,o))}else r.push(...Av(u,l,o));this._fireAfterExecute(r)})}_fireAfterExecute(e){this.fire("afterExecute",Oa(new Set(e)))}_checkEnabled(){const e=this.editor.model,i=e.document.selection,s=Md(e);if(i.isCollapsed||s){const r=s||i.getFirstPosition().parent;if(!Pt(r))return!1;const o=this._direction=="backward"?r.previousSibling:r.nextSibling;if(!o||Od([r,o]))return!1}else{const r=i.getLastPosition(),o=i.getFirstPosition();if(r.parent===o.parent||!Pt(r.parent))return!1}return!0}_getMergeSubjectElements(e,i){const s=this.editor.model,r=Md(s);let o,l;if(e.isCollapsed||r){const u=r||e.getFirstPosition().parent,f=Rr(u);this._direction=="backward"?(l=u,f&&!i?o=ls.first(u,{sameIndent:!0,lowerIndent:!0}):o=u.previousSibling):(o=u,l=u.nextSibling)}else o=e.getFirstPosition().parent,l=e.getLastPosition().parent;return{firstElement:o,lastElement:l}}}class LE extends Xt{constructor(e,i){super(e);y(this,"_direction");this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(i=>{const s=dw(this._getStartBlock(),i);this._fireAfterExecute(s)})}_fireAfterExecute(e){this.fire("afterExecute",Oa(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,i=this._getStartBlock();return e.isCollapsed&&Pt(i)&&!Rr(i)}_getStartBlock(){const i=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?i:i.nextSibling}}class HQ extends De{static get pluginName(){return"ListUtils"}static get isOfficialPlugin(){return!0}expandListBlocksToCompleteList(t){return Um(t)}isFirstBlockOfListItem(t){return Rr(t)}isListItemBlock(t){return Pt(t)}expandListBlocksToCompleteItems(t,e={}){return ef(t,e)}isNumberedListType(t){return Wp(t)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function jQ(n){return n.is("element","ol")||n.is("element","ul")}function Rv(n){return n.is("element","li")}function WQ(n){let t=0,e=n.parent;for(;e;){if(Rv(e))t++;else{const i=e.previousSibling;i&&Rv(i)&&t++}e=e.parent}return t}function qQ(n,t,e,i=v4(e,t)){return n.createAttributeElement(y4(e),null,{priority:2*t/100-100,id:i})}function GQ(n,t,e){return n.createAttributeElement("li",null,{priority:(2*t+1)/100-100,id:e})}function y4(n){return n=="numbered"||n=="customNumbered"?"ol":"ul"}function v4(n,t){return`list-${n}-${t}`}function ys(n,t,e){const i=n.nodeBefore;if(Pt(i)){let s=i;for(const{node:r}of new Qd(s,"backward"))if(s=r,e.has(s)||(e.add(s),t.has(i)))return;t.add(s)}else{const s=n.nodeAfter;Pt(s)&&t.add(s)}}function KQ(n,t){let e=0,i=-1,s=null,r=!1;for(const{node:o}of n){const l=o.getAttribute("listIndent");if(l>e){let u;s===null?(s=l-e,u=e):(s>l&&(s=l),u=l-s),u>i+1&&(u=i+1),t.setAttribute("listIndent",u,o),r=!0,i=u}else s=null,e=l+1,i=l}return r}function YQ(n,t,e){const i=new Set;let s=!1;for(const{node:r}of n){if(i.has(r))continue;let o=r.getAttribute("listType"),l=r.getAttribute("listItemId");if(t.has(l)&&(l=tc.next()),t.add(l),r.is("element","listItem")){r.getAttribute("listItemId")!=l&&(e.setAttribute("listItemId",l,r),s=!0);continue}for(const u of Co(r,{direction:"forward"}))i.add(u),u.getAttribute("listType")!=o&&(l=tc.next(),o=u.getAttribute("listType")),u.getAttribute("listItemId")!=l&&(e.setAttribute("listItemId",l,u),s=!0)}return s}function XQ(){return(n,t,e)=>{const{writer:i,schema:s}=e;if(!t.modelRange)return;const r=Array.from(t.modelRange.getItems({shallow:!0})).filter(m=>s.checkAttribute(m,"listItemId"));if(!r.length)return;const o=tc.next(),l=WQ(t.viewItem);let u=t.viewItem.parent&&t.viewItem.parent.is("element","ol")?"numbered":"bulleted";const f=r[0].getAttribute("listType");f&&(u=f);const h={listItemId:o,listIndent:l,listType:u};for(const m of r)m.hasAttribute("listItemId")||i.setAttributes(h,m);r.length>1&&r[1].getAttribute("listItemId")!=h.listItemId&&e.keepEmptyElement(r[0])}}function JQ(n,t,e,i){return()=>{const l=n.document.differ.getChanges(),u=[],f=new Set,h=new Set,m=new Set;for(const b of l)if(b.type=="insert"&&b.name!="$text")ys(b.position,f,m),b.attributes.has("listItemId")?h.add(b.position.nodeAfter):ys(b.position.getShiftedBy(b.length),f,m);else if(b.type=="remove"&&b.attributes.has("listItemId"))ys(b.position,f,m);else if(b.type=="attribute"){const w=b.range.start.nodeAfter;e.includes(b.attributeKey)?(ys(b.range.start,f,m),b.attributeNewValue===null?(ys(b.range.start.getShiftedBy(1),f,m),r(w)&&u.push(w)):h.add(w)):Pt(w)&&r(w)&&u.push(w)}for(const b of f.values())u.push(...s(b,h));for(const b of new Set(u))t.reconvertItem(b)};function s(l,u){const f=[],h=new Set,m=[];for(const{node:b,previous:w}of new Qd(l)){if(h.has(b))continue;const _=b.getAttribute("listIndent");w&&_<w.getAttribute("listIndent")&&(m.length=_+1),m[_]=Object.fromEntries(Array.from(b.getAttributes()).filter(([x])=>e.includes(x)));const k=Co(b,{direction:"forward"});for(const x of k)h.add(x),(r(x,k)||o(x,m,u))&&f.push(x)}return f}function r(l,u){const f=t.mapper.toViewElement(l);if(!f)return!1;if(i.fire("checkElement",{modelElement:l,viewElement:f}))return!0;if(!l.is("element","paragraph")&&!l.is("element","listItem"))return!1;const m=_4(l,e,u);return m&&f.is("element","p")?!0:!!(!m&&f.is("element","span"))}function o(l,u,f){if(f.has(l))return!1;const h=t.mapper.toViewElement(l);let m=u.length-1;for(let b=h.parent;!b.is("editableElement");b=b.parent){const w=Rv(b),_=jQ(b);if(!_&&!w)continue;const k=`checkAttributes:${w?"item":"list"}`;if(i.fire(k,{viewElement:b,modelAttributes:u[m]}))break;if(_&&(m--,m<0))return!1}return!0}}function BE(n,t,e,{dataPipeline:i}={}){const s=see(n);return(r,o,l)=>{const{writer:u,mapper:f,consumable:h}=l,m=o.item;if(!n.includes(o.attributeKey)||!s(m,h))return;const b=QQ(m,f,e);w4(b,u,f),nee(b,u);const w=tee(m,b,t,u,{dataPipeline:i});iee(m,w,t,u)}}function ZQ(n){return(t,e,i)=>{const{writer:s,mapper:r}=i,o=t.name.split(":")[1];if(!n.checkAttribute(o,"listItemId"))return;const l=r.toViewPosition(e.position),u=e.position.getShiftedBy(e.length),f=r.toViewPosition(u,{isPhantom:!0}),m=s.createRange(l,f).getTrimmed().end.nodeBefore;/* istanbul ignore next -- @preserve */m&&w4(m,s,r)}}function DE(n,{dataPipeline:t}={}){return(e,{writer:i})=>{if(!_4(e,n))return null;if(!t)return i.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const s=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,s),s}}function QQ(n,t,e){const i=e.createRangeOn(n);return t.toViewRange(i).getTrimmed().end.nodeBefore}function eee(n,t){return(e,i)=>{if(i.modelPosition.offset>0)return;const s=i.modelPosition.parent;if(!Pt(s)||!n.some(f=>f.scope=="itemMarker"&&f.canInjectMarkerIntoElement&&f.canInjectMarkerIntoElement(s)))return;const r=i.mapper.toViewElement(s),o=t.createRangeIn(r),l=o.getWalker();let u=o.start;for(const{item:f}of l){if(f.is("element")&&i.mapper.toModelElement(f)||f.is("$textProxy"))break;f.is("element")&&f.getCustomProperty("listItemMarker")&&(u=t.createPositionAfter(f),l.skip(({previousPosition:h})=>!h.isEqual(u)))}i.viewPosition=u}}function w4(n,t,e){for(;n.parent.is("attributeElement")&&n.parent.getCustomProperty("listItemWrapper");)t.unwrap(t.createRangeOn(n),n.parent);const i=[];s(t.createPositionBefore(n).getWalker({direction:"backward"})),s(t.createRangeIn(n).getWalker());for(const r of i)t.remove(r);function s(r){for(const{item:o}of r){if(o.is("element")&&e.toModelElement(o))break;o.is("element")&&o.getCustomProperty("listItemMarker")&&i.push(o)}}}function tee(n,t,e,i,{dataPipeline:s}){let r=i.createRangeOn(t);if(!Rr(n))return r;for(const o of e){if(o.scope!="itemMarker")continue;const l=o.createElement(i,n,{dataPipeline:s});if(!l||(i.setCustomProperty("listItemMarker",!0,l),o.canInjectMarkerIntoElement&&o.canInjectMarkerIntoElement(n)?i.insert(i.createPositionAt(t,0),l):(i.insert(r.start,l),r=i.createRange(i.createPositionBefore(l),i.createPositionAfter(t))),!o.createWrapperElement||!o.canWrapElement))continue;const u=o.createWrapperElement(i,n,{dataPipeline:s});i.setCustomProperty("listItemWrapper",!0,u),o.canWrapElement(n)?r=i.wrap(r,u):(r=i.wrap(i.createRangeOn(l),u),r=i.createRange(r.start,i.createPositionAfter(t)))}return r}function nee(n,t){let e=n.parent;for(;e.is("attributeElement")&&["ul","ol","li"].includes(e.name);){const i=e.parent;t.unwrap(t.createRangeOn(n),e),e=i}}function iee(n,t,e,i){if(!n.hasAttribute("listIndent"))return;const s=n.getAttribute("listIndent");let r=n;for(let o=s;o>=0;o--){const l=GQ(i,o,r.getAttribute("listItemId")),u=qQ(i,o,r.getAttribute("listType"));for(const f of e)(f.scope=="list"||f.scope=="item")&&r.hasAttribute(f.attributeName)&&f.setAttributeOnDowncast(i,r.getAttribute(f.attributeName),f.scope=="list"?u:l);if(t=i.wrap(t,l),t=i.wrap(t,u),o==0||(r=ls.first(r,{lowerIndent:!0}),!r))break}}function see(n){return(t,e)=>{const i=[];for(const s of n)t.hasAttribute(s)&&i.push(`attribute:${s}`);return i.every(s=>e.test(t,s)!==!1)?(i.forEach(s=>e.consume(t,s)),!0):!1}}function _4(n,t,e=nc(n)){if(!Pt(n))return!1;for(const i of n.getAttributeKeys())if(!(i.startsWith("selection:")||i=="htmlEmptyBlock")&&!t.includes(i))return!1;return e.length<2}const op=["listType","listIndent","listItemId"];class Id extends De{constructor(e){super(e);y(this,"_downcastStrategies",[]);e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[cw,Zd,HQ,_a]}init(){const e=this.editor,i=e.model,s=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new j("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});i.schema.register("$listItem",{allowAttributes:op}),s?(i.schema.extend("$container",{allowAttributesOf:"$listItem"}),i.schema.extend("$block",{allowAttributesOf:"$listItem"}),i.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):i.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const r of op)i.schema.setAttributeProperties(r,{copyOnReplace:!0});e.commands.add("numberedList",new zu(e,"numbered")),e.commands.add("bulletedList",new zu(e,"bulleted")),e.commands.add("customNumberedList",new zu(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new zu(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new OE(e,"forward")),e.commands.add("outdentList",new OE(e,"backward")),e.commands.add("splitListItemBefore",new LE(e,"before")),e.commands.add("splitListItemAfter",new LE(e,"after")),s&&(e.commands.add("mergeListItemBackward",new IE(e,"backward")),e.commands.add("mergeListItemForward",new IE(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const i=this.editor.commands,s=i.get("indent"),r=i.get("outdent");s&&s.registerChildCommand(i.get("indentList"),{priority:"high"}),r&&r.registerChildCommand(i.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...op,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,i=e.commands.get("mergeListItemBackward"),s=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(r,o)=>{const l=e.model.document.selection;Md(e.model)||e.model.change(()=>{const u=l.getFirstPosition();if(l.isCollapsed&&o.direction=="backward"){if(!u.isAtStart)return;const f=u.parent;if(!Pt(f))return;if(!ls.first(f,{sameAttributes:"listType",sameIndent:!0})&&f.getAttribute("listIndent")===0)RE(f)||e.execute("splitListItemAfter"),e.execute("outdentList");else{if(!i||!i.isEnabled)return;i.execute({shouldMergeOnBlocksContentLevel:NE(e.model,"backward")})}o.preventDefault(),r.stop()}else{if(l.isCollapsed&&!l.getLastPosition().isAtEnd||!s||!s.isEnabled)return;s.execute({shouldMergeOnBlocksContentLevel:NE(e.model,"forward")}),o.preventDefault(),r.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,i=e.model,s=e.commands,r=s.get("enter");this.listenTo(e.editing.view.document,"enter",(o,l)=>{const u=i.document,f=u.selection.getFirstPosition().parent;if(u.selection.isCollapsed&&Pt(f)&&f.isEmpty&&!l.isSoft){const h=Rr(f),m=RE(f);h&&m?(e.execute("outdentList"),l.preventDefault(),o.stop()):h&&!m?(e.execute("splitListItemAfter"),l.preventDefault(),o.stop()):m&&(e.execute("splitListItemBefore"),l.preventDefault(),o.stop())}},{context:"li"}),this.listenTo(r,"afterExecute",()=>{const o=s.get("splitListItemBefore");if(o.refresh(),!o.isEnabled)return;const u=e.model.document.selection.getLastPosition().parent;nc(u).length===2&&o.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(i,s)=>{const r=s.shiftKey?"outdentList":"indentList";this.editor.commands.get(r).isEnabled&&(e.execute(r),s.stopPropagation(),s.preventDefault(),i.stop())},{context:"li"})}_setupConversion(){const e=this.editor,i=e.model,s=this.getListAttributeNames(),r=e.config.get("list.multiBlock"),o=r?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(u,{writer:f})=>f.createElement(o,{listType:""})}).elementToElement({view:"p",model:(u,{writer:f})=>u.parent&&u.parent.is("element","li")?f.createElement(o,{listType:""}):null,converterPriority:"high"}).add(u=>{u.on("element:li",XQ())}),r||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:o,view:DE(s),converterPriority:"high"}).add(u=>{u.on("attribute",BE(s,this._downcastStrategies,i)),u.on("remove",ZQ(i.schema))}),e.conversion.for("dataDowncast").elementToElement({model:o,view:DE(s,{dataPipeline:!0}),converterPriority:"high"}).add(u=>{u.on("attribute",BE(s,this._downcastStrategies,i,{dataPipeline:!0}))});const l=eee(this._downcastStrategies,e.editing.view);e.editing.mapper.on("modelToViewPosition",l),e.data.mapper.on("modelToViewPosition",l),this.listenTo(i.document,"change:data",JQ(i,e.editing,s,this),{priority:"high"}),this.on("checkAttributes:item",(u,{viewElement:f,modelAttributes:h})=>{f.id!=h.listItemId&&(u.return=!0,u.stop())}),this.on("checkAttributes:list",(u,{viewElement:f,modelAttributes:h})=>{(f.name!=y4(h.listType)||f.id!=v4(h.listType,h.listIndent))&&(u.return=!0,u.stop())})}_setupModelPostFixing(){const e=this.editor.model,i=this.getListAttributeNames();e.document.registerPostFixer(s=>ree(e,s,i,this)),this.on("postFixer",(s,{listNodes:r,writer:o})=>{s.return=KQ(r,o)||s.return},{priority:"high"}),this.on("postFixer",(s,{listNodes:r,writer:o,seenIds:l})=>{s.return=YQ(r,l,o)||s.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,i=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",oee(e),{priority:"high"}),this.listenTo(i,"outputTransformation",(s,r)=>{e.change(o=>{const l=Array.from(r.content.getChildren()),u=l[l.length-1];if(l.length>1&&u.is("element")&&u.isEmpty&&l.slice(0,-1).every(Pt)&&o.remove(u),r.method=="copy"||r.method=="cut"){const f=Array.from(r.content.getChildren());Od(f)&&$m(f,o)}})})}_setupAccessibilityIntegration(){const e=this.editor,i=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:i("Keystrokes that can be used in a list"),keystrokes:[{label:i("Increase list item indent"),keystroke:"Tab"},{label:i("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function ree(n,t,e,i){const s=n.document.differ.getChanges(),r=new Set,o=new Set,l=i.editor.config.get("list.multiBlock");let u=!1;for(const h of s){if(h.type=="insert"&&h.name!="$text"){const m=h.position.nodeAfter;if(!n.schema.checkAttribute(m,"listItemId"))for(const b of Array.from(m.getAttributeKeys()))e.includes(b)&&(t.removeAttribute(b,m),u=!0);ys(h.position,o,r),h.attributes.has("listItemId")||ys(h.position.getShiftedBy(h.length),o,r);for(const{item:b,previousPosition:w}of n.createRangeIn(m))Pt(b)&&ys(w,o,r)}else h.type=="remove"?ys(h.position,o,r):h.type=="attribute"&&e.includes(h.attributeKey)&&(ys(h.range.start,o,r),h.attributeNewValue===null&&ys(h.range.start.getShiftedBy(1),o,r));if(!l&&h.type=="attribute"&&op.includes(h.attributeKey)){const m=h.range.start.nodeAfter;h.attributeNewValue===null&&m&&m.is("element","listItem")?(t.rename(m,"paragraph"),u=!0):h.attributeOldValue===null&&m&&m.is("element")&&m.name!="listItem"&&(t.rename(m,"listItem"),u=!0)}}const f=new Set;for(const h of o.values())u=i.fire("postFixer",{listNodes:new VQ(h),listHead:h,writer:t,seenIds:f})||u;return u}function oee(n){return(t,[e,i])=>{const s=e.is("documentFragment")?Array.from(e.getChildren()):[e];if(!s.length)return;const o=(i?n.createSelection(i):n.document.selection).getFirstPosition();let l;if(Pt(o.parent))l=o.parent;else if(Pt(o.nodeBefore)&&Pt(o.nodeAfter))l=o.nodeBefore;else return;n.change(u=>{const f=l.getAttribute("listType"),h=l.getAttribute("listIndent"),m=s[0].getAttribute("listIndent")||0,b=Math.max(h-m,0);for(const w of s){const _=Pt(w);l.is("element","listItem")&&w.is("element","paragraph")&&u.rename(w,"listItem"),u.setAttributes({listIndent:(_?w.getAttribute("listIndent"):0)+b,listItemId:_?w.getAttribute("listItemId"):tc.next(),listType:f},w)}})}}function NE(n,t){const e=n.document.selection;if(!e.isCollapsed)return!Md(n);if(t==="forward")return!0;const s=e.getFirstPosition().parent,r=s.previousSibling;return n.schema.isObject(r)?!1:r.isEmpty?!0:Od([s,r])}function Ov(n,t,e,i){n.ui.componentFactory.add(t,()=>{const s=VE(ct,n,t,e,i);return s.set({tooltip:!0,isToggleable:!0}),s}),n.ui.componentFactory.add(`menuBar:${t}`,()=>{const s=VE(Ir,n,t,e,i);return s.set({role:"menuitemcheckbox",isToggleable:!0}),s})}function VE(n,t,e,i,s){const r=t.commands.get(e),o=new n(t.locale);return o.set({label:i,icon:s}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),o.on("execute",()=>{t.execute(e),t.editing.view.focus()}),o}class aee extends De{static get pluginName(){return"ListUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||Ov(this.editor,"numberedList",t("Numbered List"),X1),this.editor.ui.componentFactory.has("bulletedList")||Ov(this.editor,"bulletedList",t("Bulleted List"),Y1)}}class lee extends De{static get requires(){return[Id,aee]}static get pluginName(){return"List"}static get isOfficialPlugin(){return!0}}class cee extends Xt{refresh(){const t=this._getValue();this.value=t,this.isEnabled=t!=null}execute({startIndex:t=1}={}){const e=this.editor.model,i=e.document;let s=Array.from(i.selection.getSelectedBlocks()).filter(r=>Pt(r)&&Wp(r.getAttribute("listType")));s=Um(s),e.change(r=>{for(const o of s)r.setAttribute("listStart",t>=0?t:1,o)})}_getValue(){const e=this.editor.model.document,i=$i(e.selection.getSelectedBlocks());return i&&Pt(i)&&Wp(i.getAttribute("listType"))?i.getAttribute("listStart"):null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const k4={},C4={},S4={},x4=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:n,typeAttribute:t,listType:e}of x4)k4[n]=e,C4[n]=t,t&&(S4[t]=n);function T4(){return x4.map(n=>n.listStyle)}function fw(n){return k4[n]||null}function E4(n){return S4[n]||null}function Mv(n){return C4[n]||null}function uee(n){switch(n){case"lower-alpha":return"lower-latin";case"upper-alpha":return"upper-latin";default:return n}}class dee extends Xt{constructor(e,i,s){super(e);y(this,"defaultType");y(this,"_supportedTypes");this.defaultType=i,this._supportedTypes=s}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,s=i.document;i.change(r=>{this._tryToConvertItemsToList(e);let o=Array.from(s.selection.getSelectedBlocks()).filter(l=>l.hasAttribute("listType"));if(o.length){o=Um(o);for(const l of o)r.setAttribute("listStyle",e.type||this.defaultType,l)}})}isStyleTypeSupported(e){return this._supportedTypes?this._supportedTypes.includes(e):!0}_getValue(){const e=$i(this.editor.model.document.selection.getSelectedBlocks());return Pt(e)?e.getAttribute("listStyle"):null}_checkEnabled(){const e=this.editor,i=e.commands.get("numberedList"),s=e.commands.get("bulletedList");return i.isEnabled||s.isEnabled}_tryToConvertItemsToList(e){if(!e.type)return;const i=fw(e.type);if(!i)return;const s=this.editor,r=`${i}List`;s.commands.get(r).value||s.execute(r)}}class fee extends Xt{refresh(){const t=this._getValue();this.value=t,this.isEnabled=t!=null}execute(t={}){const e=this.editor.model,i=e.document;let s=Array.from(i.selection.getSelectedBlocks()).filter(r=>Pt(r)&&r.getAttribute("listType")=="numbered");s=Um(s),e.change(r=>{for(const o of s)r.setAttribute("listReversed",!!t.reversed,o)})}_getValue(){const e=this.editor.model.document,i=$i(e.selection.getSelectedBlocks());return Pt(i)&&i.getAttribute("listType")=="numbered"?i.getAttribute("listReversed"):null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function FE(n){return(t,e,i)=>{const{writer:s,schema:r,consumable:o}=i;if(o.test(e.viewItem,n.viewConsumables)===!1)return;e.modelRange||Object.assign(e,i.convertChildren(e.viewItem,e.modelCursor));let l=!1;for(const u of e.modelRange.getItems({shallow:!0}))r.checkAttribute(u,n.attributeName)&&n.appliesToListItem(u)&&(u.hasAttribute(n.attributeName)||(s.setAttribute(n.attributeName,n.getAttributeOnUpcast(e.viewItem),u),l=!0));l&&o.consume(e.viewItem,n.viewConsumables)}}class hee extends De{static get pluginName(){return"ListPropertiesUtils"}static get isOfficialPlugin(){return!0}getAllSupportedStyleTypes(){return T4()}getListTypeFromListStyleType(t){return fw(t)}getListStyleTypeFromTypeAttribute(t){return E4(t)}getTypeAttributeFromListStyleType(t){return Mv(t)}}function A4(n){const{startIndex:t,reversed:e,styles:i}=n;return{styles:pee(i),startIndex:t||!1,reversed:e||!1}}function pee(n){const t={listTypes:["bulleted","numbered"],useAttribute:!1};return n===!0||(n?Array.isArray(n)||typeof n=="string"?t.listTypes=Wt(n):(t.listTypes=n.listTypes?Wt(n.listTypes):t.listTypes,t.useAttribute=!!n.useAttribute,n.listStyleTypes&&(t.listStyleTypes=n.listStyleTypes)):t.listTypes=[]),t}const Pu="default";class mee extends De{static get requires(){return[Id,hee]}static get pluginName(){return"ListPropertiesEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("list.properties",{styles:!0,startIndex:!1,reversed:!1})}init(){const t=this.editor,e=t.model,i=t.plugins.get(Id),s=t.config.get("list.properties"),r=gee(s);for(const o of r)o.addCommand(t),e.schema.extend("$listItem",{allowAttributes:o.attributeName}),i.registerDowncastStrategy({scope:"list",attributeName:o.attributeName,setAttributeOnDowncast(l,u,f){o.setAttributeOnDowncast(l,u,f)}});t.conversion.for("upcast").add(o=>{for(const l of r)o.on("element:ol",FE(l)),o.on("element:ul",FE(l))}),i.on("checkAttributes:list",(o,{viewElement:l,modelAttributes:u})=>{for(const f of r)f.getAttributeOnUpcast(l)!=u[f.attributeName]&&(o.return=!0,o.stop())}),this.listenTo(t.commands.get("indentList"),"afterExecute",(o,l)=>{e.change(u=>{for(const f of l)for(const h of r)h.appliesToListItem(f)&&u.setAttribute(h.attributeName,h.defaultValue,f)})}),i.on("postFixer",(o,{listNodes:l,writer:u})=>{for(const{node:f}of l)for(const h of r)h.hasValidAttribute(f)||(h.appliesToListItem(f)?u.setAttribute(h.attributeName,h.defaultValue,f):u.removeAttribute(h.attributeName,f),o.return=!0)}),i.on("postFixer",(o,{listNodes:l,writer:u})=>{for(const{node:f,previousNodeInList:h}of l)if(h&&h.getAttribute("listType")==f.getAttribute("listType"))for(const m of r){const{attributeName:b}=m;if(!m.appliesToListItem(f))continue;const w=h.getAttribute(b);f.getAttribute(b)!=w&&(u.setAttribute(b,w,f),o.return=!0)}})}}function gee(n){const t=[],e=A4(n);if(n.styles){const i=e.styles.useAttribute;t.push({attributeName:"listStyle",defaultValue:Pu,viewConsumables:{styles:"list-style-type"},addCommand(s){let r=T4();i&&(r=r.filter(o=>!!Mv(o))),s.commands.add("listStyle",new dee(s,Pu,r))},appliesToListItem(s){return s.getAttribute("listType")=="numbered"||s.getAttribute("listType")=="bulleted"},hasValidAttribute(s){if(!this.appliesToListItem(s))return!s.hasAttribute("listStyle");if(!s.hasAttribute("listStyle"))return!1;const r=s.getAttribute("listStyle");return r==Pu?!0:fw(r)==s.getAttribute("listType")},setAttributeOnDowncast(s,r,o){if(r&&r!==Pu)if(i){const l=Mv(r);if(l){s.setAttribute("type",l,o);return}}else{s.setStyle("list-style-type",r,o);return}s.removeStyle("list-style-type",o),s.removeAttribute("type",o)},getAttributeOnUpcast(s){const r=s.getStyle("list-style-type");if(r)return uee(r);const o=s.getAttribute("type");return o?E4(o):Pu}})}return n.reversed&&t.push({attributeName:"listReversed",defaultValue:!1,viewConsumables:{attributes:"reversed"},addCommand(i){i.commands.add("listReversed",new fee(i))},appliesToListItem(i){return i.getAttribute("listType")=="numbered"},hasValidAttribute(i){return this.appliesToListItem(i)==i.hasAttribute("listReversed")},setAttributeOnDowncast(i,s,r){s?i.setAttribute("reversed","reversed",r):i.removeAttribute("reversed",r)},getAttributeOnUpcast(i){return i.hasAttribute("reversed")}}),n.startIndex&&t.push({attributeName:"listStart",defaultValue:1,viewConsumables:{attributes:"start"},addCommand(i){i.commands.add("listStart",new cee(i))},appliesToListItem(i){return Wp(i.getAttribute("listType"))},hasValidAttribute(i){return this.appliesToListItem(i)==i.hasAttribute("listStart")},setAttributeOnDowncast(i,s,r){s==0||s>1?i.setAttribute("start",s,r):i.removeAttribute("start",r)},getAttributeOnUpcast(i){const s=i.getAttribute("start");return s>=0?s:1}}),t}class P4 extends Te{constructor(e,{enabledProperties:i,styleButtonViews:s,styleGridAriaLabel:r}){super(e);y(this,"children");y(this,"stylesView",null);y(this,"additionalPropertiesCollapsibleView",null);y(this,"startIndexFieldView",null);y(this,"reversedSwitchButtonView",null);y(this,"focusTracker",new Ln);y(this,"keystrokes",new ii);y(this,"focusables",new ds);y(this,"focusCycler");const o=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new Ys({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),s&&s.length?(this.stylesView=this._createStylesView(s,r),this.children.add(this.stylesView)):o.push("ck-list-properties_without-styles"),(i.startIndex||i.reversed)&&(this._addNumberedListPropertyViews(i),o.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:o},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const e of this.stylesView.children)this.stylesView.focusTracker.add(e.element);RO({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>ke.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(e,i){const s=new Te(this.locale);return s.children=s.createCollection(),s.children.addMany(e),s.setTemplate({tag:"div",attributes:{"aria-label":i,class:["ck","ck-list-styles-list"]},children:s.children}),s.children.delegate("execute").to(this),s.focus=function(){for(const r of this.children)if(r instanceof ct&&r.isOn){r.focus();return}this.children.first.focus()},s.focusTracker=new Ln,s.keystrokes=new ii,s.render(),s.keystrokes.listenTo(s.element),s}_addNumberedListPropertyViews(e){const i=this.locale.t,s=[];e.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),s.push(this.startIndexFieldView)),e.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),s.push(this.reversedSwitchButtonView)),this.stylesView?(this.additionalPropertiesCollapsibleView=new RY(this.locale,s),this.additionalPropertiesCollapsibleView.set({label:i("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(s,"isEnabled",(...r)=>r.some(o=>o)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(r,o,l)=>{l||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(s)}_createStartIndexField(){const e=this.locale.t,i=new $p(this.locale,nX);return i.set({label:e("Start at"),class:"ck-numbered-list-properties__start-index"}),i.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),i.fieldView.on("input",()=>{const s=i.fieldView.element,r=s.valueAsNumber;if(Number.isNaN(r)){i.errorText=e("Invalid start index value.");return}s.checkValidity()?this.fire("listStart",{startIndex:r}):i.errorText=e("Start index must be greater than 0.")}),i}_createReversedSwitchButton(){const e=this.locale.t,i=new nw(this.locale);return i.set({withText:!0,label:e("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),i.delegate("execute").to(this,"listReversed"),i}}class bee extends De{static get pluginName(){return"ListPropertiesUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,i=t.config.get("list.properties"),s=A4(i),r=s.styles.listTypes;if(r.includes("bulleted")){const o=[{label:e("Toggle the disc list style"),tooltip:e("Disc"),type:"disc",icon:kK},{label:e("Toggle the circle list style"),tooltip:e("Circle"),type:"circle",icon:vK},{label:e("Toggle the square list style"),tooltip:e("Square"),type:"square",icon:xK}],l=e("Bulleted List"),u=e("Bulleted list styles toolbar"),f="bulletedList";t.ui.componentFactory.add(f,zE({editor:t,normalizedConfig:s,parentCommandName:f,buttonLabel:l,buttonIcon:Y1,styleGridAriaLabel:u,styleDefinitions:o})),t.ui.componentFactory.add(`menuBar:${f}`,UE({editor:t,normalizedConfig:s,parentCommandName:f,buttonLabel:l,styleGridAriaLabel:u,styleDefinitions:o}))}if(r.includes("numbered")||i.startIndex||i.reversed){const o=[{label:e("Toggle the decimal list style"),tooltip:e("Decimal"),type:"decimal",icon:_K},{label:e("Toggle the decimal with leading zero list style"),tooltip:e("Decimal with leading zero"),type:"decimal-leading-zero",icon:wK},{label:e("Toggle the lower–roman list style"),tooltip:e("Lower–roman"),type:"lower-roman",icon:SK},{label:e("Toggle the upper–roman list style"),tooltip:e("Upper-roman"),type:"upper-roman",icon:EK},{label:e("Toggle the lower–latin list style"),tooltip:e("Lower-latin"),type:"lower-latin",icon:CK},{label:e("Toggle the upper–latin list style"),tooltip:e("Upper-latin"),type:"upper-latin",icon:TK}],l=e("Numbered List"),u=e("Numbered list styles toolbar"),f="numberedList";t.ui.componentFactory.add(f,zE({editor:t,normalizedConfig:s,parentCommandName:f,buttonLabel:l,buttonIcon:X1,styleGridAriaLabel:u,styleDefinitions:o})),r.includes("numbered")&&t.ui.componentFactory.add(`menuBar:${f}`,UE({editor:t,normalizedConfig:s,parentCommandName:f,buttonLabel:l,styleGridAriaLabel:u,styleDefinitions:o}))}}}function zE({editor:n,normalizedConfig:t,parentCommandName:e,buttonLabel:i,buttonIcon:s,styleGridAriaLabel:r,styleDefinitions:o}){const l=n.commands.get(e);return u=>{const f=Jd(u,FO),h=f.buttonView;return f.bind("isEnabled").to(l),f.class="ck-list-styles-dropdown",h.on("execute",()=>{n.execute(e),n.editing.view.focus()}),h.set({label:i,icon:s,tooltip:!0,isToggleable:!0}),h.bind("isOn").to(l,"value",m=>!!m),f.once("change:isOpen",()=>{const m=yee({editor:n,normalizedConfig:t,dropdownView:f,parentCommandName:e,styleGridAriaLabel:r,styleDefinitions:o});f.panelView.children.add(m)}),f.on("execute",()=>{n.editing.view.focus()}),f}}function R4({editor:n,listStyleCommand:t,parentCommandName:e}){const i=n.locale,s=n.commands.get(e);return({label:r,type:o,icon:l,tooltip:u})=>{const f=new ct(i);return f.set({label:r,icon:l,tooltip:u}),f.bind("isOn").to(t,"value",h=>h===o),f.on("execute",()=>{s.value?t.value===o?n.execute(e):t.value!==o&&n.execute("listStyle",{type:o}):n.model.change(()=>{n.execute("listStyle",{type:o})})}),f}}function yee({editor:n,normalizedConfig:t,dropdownView:e,parentCommandName:i,styleDefinitions:s,styleGridAriaLabel:r}){const o=n.locale,l={...t,...i!="numberedList"?{startIndex:!1,reversed:!1}:null},u=i.replace("List","");let f=null;if(t.styles.listTypes.includes(u)){const m=n.commands.get("listStyle"),b=R4({editor:n,parentCommandName:i,listStyleCommand:m}),w=t.styles.listStyleTypes;let _=s;if(w){const x=w[u];x&&(_=s.filter(A=>x.includes(A.type)))}const k=O4(m);f=_.filter(k).map(b)}const h=new P4(o,{styleGridAriaLabel:r,enabledProperties:l,styleButtonViews:f});if(t.styles.listTypes.includes(u)&&rw(e,()=>h.stylesView.children.find(m=>m.isOn)),l.startIndex){const m=n.commands.get("listStart");h.startIndexFieldView.bind("isEnabled").to(m),h.startIndexFieldView.fieldView.bind("value").to(m),h.on("listStart",(b,w)=>n.execute("listStart",w))}if(l.reversed){const m=n.commands.get("listReversed");h.reversedSwitchButtonView.bind("isEnabled").to(m),h.reversedSwitchButtonView.bind("isOn").to(m,"value",b=>!!b),h.on("listReversed",()=>{const b=m.value;n.execute("listReversed",{reversed:!b})})}return h.delegate("execute").to(e),h}function UE({editor:n,normalizedConfig:t,parentCommandName:e,buttonLabel:i,styleGridAriaLabel:s,styleDefinitions:r}){return o=>{const l=new bo(o),u=n.commands.get(e),f=n.commands.get("listStyle"),h=O4(f),m=R4({editor:n,parentCommandName:e,listStyleCommand:f}),b=t.styles.listStyleTypes;let w=r;if(b){const x=u.type,A=b[x];A&&(w=r.filter(L=>A.includes(L.type)))}const _=w.filter(h).map(m),k=new P4(o,{styleGridAriaLabel:s,enabledProperties:{...t,startIndex:!1,reversed:!1},styleButtonViews:_});return k.delegate("execute").to(l),l.buttonView.set({label:i,icon:e==="bulletedList"?Y1:X1}),l.panelView.children.add(k),l.bind("isEnabled").to(u,"isEnabled"),l.on("execute",()=>{n.editing.view.focus()}),l}}function O4(n){return typeof n.isStyleTypeSupported=="function"?t=>n.isStyleTypeSupported(t.type):()=>!0}class vee extends De{static get requires(){return[mee,bee]}static get pluginName(){return"ListProperties"}static get isOfficialPlugin(){return!0}}class wee extends Xt{constructor(t){super(t),this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){const t=this._getSelectedItems();this.value=this._getValue(t),this.isEnabled=!!t.length}execute(t={}){this.editor.model.change(e=>{const i=this._getSelectedItems(),s=t.forceValue===void 0?!this._getValue(i):t.forceValue;for(const r of i)s?e.setAttribute("todoListChecked",!0,r):e.removeAttribute("todoListChecked",r)})}_getValue(t){return t.every(e=>e.getAttribute("todoListChecked"))}_getSelectedItems(){const t=this.editor.model,e=t.schema,i=t.document.selection.getFirstRange(),s=i.start.parent,r=[];e.checkAttribute(s,"todoListChecked")&&r.push(...nc(s));for(const o of i.getItems({shallow:!0}))e.checkAttribute(o,"todoListChecked")&&!r.includes(o)&&r.push(...nc(o));return r}}class _ee extends Mr{constructor(){super(...arguments);y(this,"domEventType",["change"])}onDomEvent(e){if(e.target){const i=this.view.domConverter.mapDomToView(e.target);i&&i.is("element","input")&&i.getAttribute("type")=="checkbox"&&i.findAncestor({classes:"todo-list__label"})&&this.fire("todoCheckboxChange",e)}}}const kee=Mm("Ctrl+Enter");class Cee extends De{static get pluginName(){return"TodoListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Id]}init(){const t=this.editor,e=t.model,i=t.editing,s=t.plugins.get(Id),o=t.config.get("list.multiBlock")?"paragraph":"listItem";t.commands.add("todoList",new zu(t,"todo")),t.commands.add("checkTodoList",new wee(t)),i.view.addObserver(_ee),e.schema.extend("$listItem",{allowAttributes:"todoListChecked"}),e.schema.addAttributeCheck(l=>{const u=l.last;if(!u.getAttribute("listItemId")||u.getAttribute("listType")!="todo")return!1},"todoListChecked"),t.conversion.for("upcast").add(l=>{l.on("element:input",xee()),l.on("element:li",See(),{priority:"low"}),l.on("element:label",cy({name:"label",classes:"todo-list__label"})),l.on("element:label",cy({name:"label",classes:["todo-list__label","todo-list__label_without-description"]})),l.on("element:span",cy({name:"span",classes:"todo-list__label__description"})),l.on("element:ul",Tee({name:"ul",classes:"todo-list"}))}),t.conversion.for("downcast").elementToElement({model:o,view:(l,{writer:u})=>{if(zh(l,s.getListAttributeNames()))return u.createContainerElement("span",{class:"todo-list__label__description"})},converterPriority:"highest"}),s.registerDowncastStrategy({scope:"list",attributeName:"listType",setAttributeOnDowncast(l,u,f){u=="todo"?l.addClass("todo-list",f):l.removeClass("todo-list",f)}}),s.registerDowncastStrategy({scope:"itemMarker",attributeName:"todoListChecked",createElement(l,u,{dataPipeline:f}){if(u.getAttribute("listType")!="todo")return null;const h=l.createUIElement("input",{type:"checkbox",...u.getAttribute("todoListChecked")?{checked:"checked"}:null,...f?{disabled:"disabled"}:{tabindex:"-1"}});if(f)return h;const m=l.createContainerElement("span",{contenteditable:"false"},h);return m.getFillerOffset=()=>null,m},canWrapElement(l){return zh(l,s.getListAttributeNames())},createWrapperElement(l,u,{dataPipeline:f}){const h=["todo-list__label"];return zh(u,s.getListAttributeNames())||h.push("todo-list__label_without-description"),l.createAttributeElement(f?"label":"span",{class:h.join(" ")})}}),s.on("checkElement",(l,{modelElement:u,viewElement:f})=>{const h=zh(u,s.getListAttributeNames());f.hasClass("todo-list__label__description")!=h&&(l.return=!0,l.stop())}),s.on("checkElement",(l,{modelElement:u,viewElement:f})=>{const h=u.getAttribute("listType")=="todo"&&Rr(u);let m=!1;const b=t.editing.view.createPositionBefore(f).getWalker({direction:"backward"});for(const{item:w}of b){if(w.is("element")&&t.editing.mapper.toModelElement(w))break;w.is("element","input")&&w.getAttribute("type")=="checkbox"&&(m=!0)}m!=h&&(l.return=!0,l.stop())}),s.on("postFixer",(l,{listNodes:u,writer:f})=>{for(const{node:h,previousNodeInList:m}of u){if(!m||m.getAttribute("listItemId")!=h.getAttribute("listItemId"))continue;const b=m.hasAttribute("todoListChecked"),w=h.hasAttribute("todoListChecked");w&&!b?(f.removeAttribute("todoListChecked",h),l.return=!0):!w&&b&&(f.setAttribute("todoListChecked",!0,h),l.return=!0)}}),e.document.registerPostFixer(l=>{const u=e.document.differ.getChanges();let f=!1;for(const h of u)if(h.type=="attribute"&&h.attributeKey=="listType"){const m=h.range.start.nodeAfter;h.attributeOldValue=="todo"&&m.hasAttribute("todoListChecked")&&(l.removeAttribute("todoListChecked",m),f=!0)}else if(h.type=="insert"&&h.name!="$text")for(const{item:m}of l.createRangeOn(h.position.nodeAfter))m.is("element")&&m.getAttribute("listType")!="todo"&&m.hasAttribute("todoListChecked")&&(l.removeAttribute("todoListChecked",m),f=!0);return f}),this.listenTo(i.view.document,"keydown",(l,u)=>{ya(u)===kee&&(t.execute("checkTodoList"),l.stop())},{priority:"high"}),this.listenTo(i.view.document,"todoCheckboxChange",(l,u)=>{const f=u.target;if(!f||!f.is("element","input"))return;const h=i.view.createPositionAfter(f),b=i.mapper.toModelPosition(h).parent;b&&Pt(b)&&b.getAttribute("listType")=="todo"&&this._handleCheckmarkChange(b)}),this.listenTo(i.view.document,"arrowKey",Aee(e,t.locale),{context:"$text"}),this.listenTo(i.mapper,"viewToModelPosition",(l,u)=>{const f=u.viewPosition.parent,h=f.is("attributeElement","li")&&u.viewPosition.offset==0,m=$E(f)&&u.viewPosition.offset<=1,b=f.is("element","span")&&f.getAttribute("contenteditable")=="false"&&$E(f.parent);if(!h&&!m&&!b)return;const w=u.modelPosition.nodeAfter;w&&w.getAttribute("listType")=="todo"&&(u.modelPosition=e.createPositionAt(w,0))},{priority:"low"}),this._initAriaAnnouncements()}_handleCheckmarkChange(t){const e=this.editor,i=e.model,s=Array.from(i.document.selection.getRanges());i.change(r=>{r.setSelection(t,"end"),e.execute("checkTodoList"),r.setSelection(s)})}_initAriaAnnouncements(){const{model:t,ui:e,t:i}=this.editor;let s=null;e&&t.document.selection.on("change:range",()=>{const r=t.document.selection.focus.parent,o=HE(s),l=HE(r);o&&!l?e.ariaLiveAnnouncer.announce(i("Leaving a to-do list")):!o&&l&&e.ariaLiveAnnouncer.announce(i("Entering a to-do list")),s=r})}}function See(){return(n,t,e)=>{const{writer:i,schema:s}=e;if(!t.modelRange)return;const r=Array.from(t.modelRange.getItems({shallow:!0})).filter(o=>o.getAttribute("listType")==="todo"&&s.checkAttribute(o,"listItemId")).reduce((o,l)=>{const u=l.getAttribute("listItemId");return o.has(u)||o.set(u,nc(l)),o},new Map);for(const[,o]of r.entries())if(o.some(l=>l.getAttribute("todoListChecked")))for(const l of o)i.setAttribute("todoListChecked",!0,l)}}function xee(){return(n,t,e)=>{const i=t.modelCursor,s=i.parent,r=t.viewItem;if(!e.consumable.test(r,{name:!0})||r.getAttribute("type")!="checkbox"||!i.isAtStart||!s.hasAttribute("listType"))return;e.consumable.consume(r,{name:!0});const o=e.writer;o.setAttribute("listType","todo",s),t.viewItem.hasAttribute("checked")&&o.setAttribute("todoListChecked",!0,s),t.modelRange=o.createRange(i)}}function cy(n){const t=new va(n);return(e,i,s)=>{const r=t.match(i.viewItem);r&&s.consumable.consume(i.viewItem,r.match)&&Object.assign(i,s.convertChildren(i.viewItem,i.modelCursor))}}function Tee(n){const t=new va(n);return(e,i,s)=>{const r=t.match(i.viewItem);if(!r)return;const o=r.match;o.name=!1,s.consumable.consume(i.viewItem,o)}}function zh(n,t){return(n.is("element","paragraph")||n.is("element","listItem"))&&n.getAttribute("listType")=="todo"&&Rr(n)&&Eee(n,t)}function Eee(n,t){for(const e of n.getAttributeKeys())if(!e.startsWith("selection:")&&!t.includes(e))return!1;return!0}function Aee(n,t){return(e,i)=>{const s=L1(i.keyCode,t.contentLanguageDirection),r=n.schema,o=n.document.selection;if(!o.isCollapsed)return;const l=o.getFirstPosition(),u=l.parent;if(s=="right"&&l.isAtEnd){const f=r.getNearestSelectionRange(n.createPositionAfter(u),"forward");if(!f)return;const h=f.start.parent;h&&Pt(h)&&h.getAttribute("listType")=="todo"&&(n.change(m=>m.setSelection(f)),i.preventDefault(),i.stopPropagation(),e.stop())}else if(s=="left"&&l.isAtStart&&Pt(u)&&u.getAttribute("listType")=="todo"){const f=r.getNearestSelectionRange(n.createPositionBefore(u),"backward");if(!f)return;n.change(h=>h.setSelection(f)),i.preventDefault(),i.stopPropagation(),e.stop()}}}function $E(n){return!!n&&n.is("attributeElement")&&n.hasClass("todo-list__label")}function HE(n){return!n||!n.is("element","paragraph")&&!n.is("element","listItem")?!1:n.getAttribute("listType")=="todo"}class Pee extends De{static get pluginName(){return"TodoListUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.t;Ov(this.editor,"todoList",t("To-do List"),NK)}}class Ree extends De{static get requires(){return[Cee,Pee]}static get pluginName(){return"TodoList"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */Ke.arrowup,Ke.arrowdown,Ke.esc;Ke.enter,Ke.tab;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Oee={ko:{dictionary:{"Words: %0":"단어 수: %0","Characters: %0":"문자 수: %0","Widget toolbar":"위젯 툴바","Insert paragraph before block":"블록 앞에 단락 삽입","Insert paragraph after block":"블록 뒤에 단락 삽입","Press Enter to type after or press Shift + Enter to type before the widget":"엔터를 눌러서 위젯 뒤에 입력하거나 시프트 + 엔터를 눌러서 위젯 앞에 입력하세요","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"위젯이 선택되었을 때 사용할 수 있는 키 입력(예: 이미지, 표 등)","Insert a new paragraph directly after a widget":"위젯 바로 뒤에 새 단락 삽입","Insert a new paragraph directly before a widget":"위젯 바로 앞에 새 단락 삽입","Move the caret to allow typing directly before a widget":"위젯 바로 앞에 입력할 수 있도록 삽입 기호 이동","Move the caret to allow typing directly after a widget":"위젯 바로 뒤에 입력할 수 있도록 삽입 기호 이동","Move focus from an editable area back to the parent widget":"포커스를 편집 가능 영역에서 부모위젯으로 옮기기","Upload in progress":"업로드 진행 중",Undo:"실행 취소",Redo:"다시 실행","Rich Text Editor":"서식 있는 텍스트 편집기","Edit block":"편집 영역","Click to edit block":"클릭하여 블록 편집","Drag to move":"드래그하여 이동",Next:"다음",Previous:"이전","Editor toolbar":"편집기 툴바","Dropdown toolbar":"드롭다운 툴바","Dropdown menu":"드롭다운 메뉴",Black:"검은색","Dim grey":"진한 회색",Grey:"회색","Light grey":"밝은 회색",White:"흰색",Red:"빨간색",Orange:"주황색",Yellow:"노랑색","Light green":"연한 초록색",Green:"초록색",Aquamarine:"연한 청록색",Turquoise:"청록색","Light blue":"연한 파랑색",Blue:"파랑색",Purple:"보라색","Editor block content toolbar":"편집기 영역 내용 툴바","Editor contextual toolbar":"편집기 문맥 툴바",HEX:"HEX","No results found":"결과 찾을 수 없음","No searchable items":"검색 가능한 항목 없음","Editor dialog":"편집기 대화상자",Close:"닫기","Help Contents. To close this dialog press ESC.":"도움말 내용입니다. 이 대화 상자를 닫으려면 ESC 키를 누르세요.","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"편집기에서 사용할 수 있는 키보드 단축키 목록을 아래에서 확인할 수 있습니다.","(may require <kbd>Fn</kbd>)":"(<kbd>Fn</kbd> 키가 필요할 수 있음)",Accessibility:"접근성","Accessibility help":"접근성 도움말","Press %0 for help.":"도움말을 보려면 %0 키를 누르세요.","Move focus in and out of an active dialog window":"활성화된 대화 창 안팎으로 포커스 이동",MENU_BAR_MENU_FILE:"파일",MENU_BAR_MENU_EDIT:"수정",MENU_BAR_MENU_VIEW:"보기",MENU_BAR_MENU_INSERT:"삽입",MENU_BAR_MENU_FORMAT:"서식",MENU_BAR_MENU_TOOLS:"도구",MENU_BAR_MENU_HELP:"도움말",MENU_BAR_MENU_TEXT:"텍스트",MENU_BAR_MENU_FONT:"글꼴","Editor menu bar":"편집기 메뉴 표시줄",'Please enter a valid color (e.g. "ff0000").':'유효한 색상을 입력해 주세요(예를 들어, "ff0000").',"Insert table":"테이블 삽입","Header column":"헤더 열","Insert column left":"왼쪽에 열 삽입","Insert column right":"오른쪽에 열 삽입","Delete column":"열 삭제","Select column":"열 선택",Column:"열","Header row":"헤더 행","Insert row below":"아래에 행 삽입","Insert row above":"위에 행 삽입","Delete row":"행 삭제","Select row":"행 선택",Row:"행","Merge cell up":"위 셀과 병합","Merge cell right":"오른쪽 셀과 병합","Merge cell down":"아래 셀과 병합","Merge cell left":"왼쪽 셀과 병합","Split cell vertically":"세로로 셀 분할","Split cell horizontally":"가로로 셀 분할","Merge cells":"셀 병합","Table toolbar":"표 도구 모음","Table properties":"표 속성","Cell properties":"셀 속성",Border:"테두리",Style:"스타일",Width:"가로",Height:"세로",Color:"색",Background:"배경색",Padding:"여백",Dimensions:"크기","Table cell text alignment":"표 셀 텍스트 정렬",Alignment:"정렬","Horizontal text alignment toolbar":"가로 텍스트 정렬 도구 모음","Vertical text alignment toolbar":"세로 텍스트 정렬 도구 모음","Table alignment toolbar":"표 정렬 도구 모음",None:"선 없음",Solid:"실선",Dotted:"점선",Dashed:"파선",Double:"이중선",Groove:"음각선",Ridge:"양각선",Inset:"측면 음각선",Outset:"측면 양각선","Align cell text to the left":"셀 텍스트를 왼쪽으로 정렬","Align cell text to the center":"셀 텍스트를 가로 가운데로 정렬","Align cell text to the right":"셀 텍스트를 오른쪽으로 정렬","Justify cell text":"셀 텍스트를 양쪽으로 정렬","Align cell text to the top":"셀 텍스트를 위로 정렬","Align cell text to the middle":"셀 텍스트를 세로 가운데로 정렬","Align cell text to the bottom":"셀 텍스트를 아래로 정렬","Align table to the left":"테이블을 왼쪽으로 정렬","Center table":"테이블을 가운데로 정렬","Align table to the right":"테이블을 오른쪽으로 정렬",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'유효하지 않은 색입니다. "#FF0000"이나 "rgb(255,0,0)", 또는 "red"를 입력해 보세요.','The value is invalid. Try "10px" or "2em" or simply "2".':'유효하지 않은 값입니다. "10px"나 "2em" 또는 그냥 "2"를 입력해 보세요.',"Enter table caption":"테이블 캡션 입력","Keystrokes that can be used in a table cell":"표 셀에서 사용할 수 있는 키 입력","Move the selection to the next cell":"선택 항목을 다음 셀로 이동","Move the selection to the previous cell":"선택 항목을 이전 셀로 이동","Insert a new table row (when in the last cell of a table)":"새 표 행 삽입(표의 마지막 셀에 있을 때)","Navigate through the table":"표 탐색",Table:"표","Insert table layout":"표 레이아웃 삽입","Table layout":"표 레이아웃","Layout table":"레이아웃 표","Content table":"콘텐츠 표","Choose table type":"표 유형 선택","Table type":"표 유형","Table type options":"표 유형 옵션",Styles:"스타일","Multiple styles":"다중 스타일","Block styles":"블록 스타일","Text styles":"텍스트 스타일","Special characters":"특수 문자",Category:"카테고리",All:"전체",Arrows:"화살표",Currency:"통화",Latin:"라틴",Mathematical:"수식",Text:"텍스트","leftwards simple arrow":"왼쪽 단순 화살표","rightwards simple arrow":"오른쪽 단순 화살표","upwards simple arrow":"위쪽 단순 화살표","downwards simple arrow":"아래쪽 단순 화살표","leftwards double arrow":"왼쪽 겹화살표","rightwards double arrow":"오른쪽 겹화살표","upwards double arrow":"위쪽 겹화살표","downwards double arrow":"아래쪽 겹화살표","leftwards dashed arrow":"왼쪽 대시 화살표","rightwards dashed arrow":"오른쪽 대시 화살표","upwards dashed arrow":"위쪽 대시 화살표","downwards dashed arrow":"아래쪽 대시 화살표","leftwards arrow to bar":"왼쪽 바를 향한 화살표","rightwards arrow to bar":"오른쪽 바를 향한 화살표","upwards arrow to bar":"위쪽 바를 향한 화살표","downwards arrow to bar":"아래쪽 바를 향한 화살표","up down arrow with base":"받침이 있는 위아래 화살표","back with leftwards arrow above":"BACK 위 왼쪽 화살표","end with leftwards arrow above":"END 위 왼쪽 화살표","on with exclamation mark with left right arrow above":"ON! 위 왼쪽 오른쪽 화살표","soon with rightwards arrow above":"SOON 위 오른쪽 화살표","top with upwards arrow above":"TOP 위 위쪽 화살표","Dollar sign":"달러 기호","Euro sign":"유로 기호","Yen sign":"엔 기호","Pound sign":"파운드 기호","Cent sign":"센트 기호","Euro-currency sign":"유로화 기호","Colon sign":"콜론 기호","Cruzeiro sign":"크루제이루 기호","French franc sign":"프랑스 프랑 기호","Lira sign":"리라 기호","Currency sign":"통화 기호","Bitcoin sign":"비트코인 기호","Mill sign":"밀 기호","Naira sign":"나이라 기호","Peseta sign":"페세타 기호","Rupee sign":"루피 기호","Won sign":"원 기호","New sheqel sign":"뉴 세켈 기호","Dong sign":"동 기호","Kip sign":"킵 기호","Tugrik sign":"투그리크 기호","Drachma sign":"드라크마 기호","German penny sign":"독일 페니 기호","Peso sign":"페소 기호","Guarani sign":"과라니 기호","Austral sign":"오스트랄 기호","Hryvnia sign":"흐리브냐 기호","Cedi sign":"세디 기호","Livre tournois sign":"리브르 트르누아 기호","Spesmilo sign":"스페스밀로 기호","Tenge sign":"텡게 기호","Indian rupee sign":"인도 루피 기호","Turkish lira sign":"터키 리라 기호","Nordic mark sign":"노르딕 마크 기호","Manat sign":"마나트 기호","Ruble sign":"루블 기호","Latin capital letter a with macron":"장음 부호가 있는 라틴어 대문자 A","Latin small letter a with macron":"장음 부호가 있는 라틴어 소문자 a","Latin capital letter a with breve":"반달점 부호가 있는 라틴어 대문자 A","Latin small letter a with breve":"반달점 부호가 있는 라틴어 소문자 a","Latin capital letter a with ogonek":"꼬리 부호가 있는 라틴어 대문자 A","Latin small letter a with ogonek":"꼬리 부호가 있는 라틴어 소문자 a","Latin capital letter c with acute":"양음 부호가 있는 라틴어 대문자 C","Latin small letter c with acute":"양음 부호가 있는 라틴어 소문자 c","Latin capital letter c with circumflex":"곡절 부호가 있는 라틴어 대문자 C","Latin small letter c with circumflex":"곡절 부호가 있는 라틴어 소문자 c","Latin capital letter c with dot above":"위에 점 부호가 있는 라틴어 대문자 C","Latin small letter c with dot above":"위에 점 부호가 있는 라틴어 소문자 c","Latin capital letter c with caron":"반대 곡절 부호가 있는 라틴어 대문자 C","Latin small letter c with caron":"반대 곡절 부호가 있는 라틴어 소문자 c","Latin capital letter d with caron":"반대 곡절 부호가 있는 라틴어 대문자 D","Latin small letter d with caron":"반대 곡절 부호가 있는 라틴어 소문자 d","Latin capital letter d with stroke":"획 부호가 있는 라틴어 대문자 D","Latin small letter d with stroke":"획 부호가 있는 라틴어 소문자 d","Latin capital letter e with macron":"장음 부호가 있는 라틴어 대문자 E","Latin small letter e with macron":"장음 부호가 있는 라틴어 소문자 e","Latin capital letter e with breve":"반달점 부호가 있는 라틴어 대문자 E","Latin small letter e with breve":"반달점 부호가 있는 라틴어 소문자 e","Latin capital letter e with dot above":"위에 점 부호가 있는 라틴어 대문자 E","Latin small letter e with dot above":"위에 점 부호가 있는 라틴어 소문자 e","Latin capital letter e with ogonek":"꼬리 부호가 있는 라틴어 대문자 E","Latin small letter e with ogonek":"꼬리 부호가 있는 라틴어 소문자 e","Latin capital letter e with caron":"반대 곡절 부호가 있는 라틴어 대문자 E","Latin small letter e with caron":"반대 곡절 부호가 있는 라틴어 소문자 e","Latin capital letter g with circumflex":"곡절 부호가 있는 라틴어 대문자 G","Latin small letter g with circumflex":"곡절 부호가 있는 라틴어 소문자 g","Latin capital letter g with breve":"반달점 부호가 있는 라틴어 대문자 G","Latin small letter g with breve":"반달점 부호가 있는 라틴어 소문자 g","Latin capital letter g with dot above":"위에 점 부호가 있는 라틴어 대문자 G","Latin small letter g with dot above":"위에 점 부호가 있는 라틴어 소문자 g","Latin capital letter g with cedilla":"갈고리 부호가 있는 라틴어 대문자 G","Latin small letter g with cedilla":"갈고리 부호가 있는 라틴어 소문자 g","Latin capital letter h with circumflex":"곡절 부호가 있는 라틴어 대문자 H","Latin small letter h with circumflex":"곡절 부호가 있는 라틴어 소문자 h","Latin capital letter h with stroke":"획 부호가 있는 라틴어 대문자 H","Latin small letter h with stroke":"획 부호가 있는 라틴어 소문자 h","Latin capital letter i with tilde":"물결 부호가 있는 라틴어 대문자 I","Latin small letter i with tilde":"물결 부호가 있는 라틴어 소문자 i","Latin capital letter i with macron":"장음 부호가 있는 라틴어 대문자 I","Latin small letter i with macron":"장음 부호가 있는 라틴어 소문자 i","Latin capital letter i with breve":"반달점 부호가 있는 라틴어 대문자 I","Latin small letter i with breve":"반달점 부호가 있는 라틴어 소문자 i","Latin capital letter i with ogonek":"꼬리 부호가 있는 라틴어 대문자 I","Latin small letter i with ogonek":"꼬리 부호가 있는 라틴어 소문자 i","Latin capital letter i with dot above":"위에 점 부호가 있는 라틴어 대문자 I","Latin small letter dotless i":"라틴어 소문자 점 없는 i","Latin capital ligature ij":"라틴어 대문자 합자 IJ","Latin small ligature ij":"라틴어 소문자 합자 ij","Latin capital letter j with circumflex":"곡절 부호가 있는 라틴어 대문자 J","Latin small letter j with circumflex":"곡절 부호가 있는 라틴어 소문자 j","Latin capital letter k with cedilla":"갈고리 부호가 있는 라틴어 대문자 K","Latin small letter k with cedilla":"갈고리 부호가 있는 라틴어 소문자 k","Latin small letter kra":"라틴어 소문자 크라","Latin capital letter l with acute":"양음 부호가 있는 라틴어 대문자 I","Latin small letter l with acute":"양음 부호가 있는 라틴어 소문자 i","Latin capital letter l with cedilla":"갈고리 부호가 있는 라틴어 대문자 I","Latin small letter l with cedilla":"갈고리 부호가 있는 라틴어 소문자 i","Latin capital letter l with caron":"반대 곡절 부호가 있는 라틴어 대문자 I","Latin small letter l with caron":"반대 곡절 부호가 있는 라틴어 소문자 i","Latin capital letter l with middle dot":"중간에 점 부호가 있는 라틴어 대문자 I","Latin small letter l with middle dot":"중간에 점 부호가 있는 라틴어 소문자 i","Latin capital letter l with stroke":"획 부호가 있는 라틴어 대문자 I","Latin small letter l with stroke":"획 부호가 있는 라틴어 소문자 i","Latin capital letter n with acute":"양음 부호가 있는 라틴어 대문자 N","Latin small letter n with acute":"양음 부호가 있는 라틴어 소문자 n","Latin capital letter n with cedilla":"갈고리 부호가 있는 라틴어 대문자 N","Latin small letter n with cedilla":"갈고리 부호가 있는 라틴어 소문자 n","Latin capital letter n with caron":"반대 곡절 부호가 있는 라틴어 대문자 N","Latin small letter n with caron":"반대 곡절 부호가 있는 라틴어 소문자 n","Latin small letter n preceded by apostrophe":"아포스트로피 다음에 있는 라틴어 소문자 n","Latin capital letter eng":"라틴어 대문자 엥","Latin small letter eng":"라틴어 소문자 엥","Latin capital letter o with macron":"장음 부호가 있는 라틴어 대문자 O","Latin small letter o with macron":"장음 부호가 있는 라틴어 소문자 o","Latin capital letter o with breve":"반달점 부호가 있는 라틴어 대문자 O","Latin small letter o with breve":"반달점 부호가 있는 라틴어 소문자 o","Latin capital letter o with double acute":"이중 양음 부호가 있는 라틴어 대문자 O","Latin small letter o with double acute":"이중 양음 부호가 있는 라틴어 소문자 o","Latin capital ligature oe":"라틴어 대문자 합자 OE","Latin small ligature oe":"라틴어 소문자 합자 oe","Latin capital letter r with acute":"양음 부호가 있는 라틴어 대문자 R","Latin small letter r with acute":"양음 부호가 있는 라틴어 소문자 r","Latin capital letter r with cedilla":"갈고리 부호가 있는 라틴어 대문자 R","Latin small letter r with cedilla":"갈고리 부호가 있는 라틴어 소문자 r","Latin capital letter r with caron":"반대 곡절 부호가 있는 라틴어 대문자 R","Latin small letter r with caron":"반대 곡절 부호가 있는 라틴어 소문자 r","Latin capital letter s with acute":"양음 부호가 있는 라틴어 대문자 S","Latin small letter s with acute":"양음 부호가 있는 라틴어 소문자 s","Latin capital letter s with circumflex":"곡절 부호가 있는 라틴어 대문자 S","Latin small letter s with circumflex":"곡절 부호가 있는 라틴어 소문자 s","Latin capital letter s with cedilla":"갈고리 부호가 있는 라틴어 대문자 S","Latin small letter s with cedilla":"갈고리 부호가 있는 라틴어 소문자 s","Latin capital letter s with caron":"반대 곡절 부호가 있는 라틴어 대문자 S","Latin small letter s with caron":"반대 곡절 부호가 있는 라틴어 소문자 s","Latin capital letter t with cedilla":"갈고리 부호가 있는 라틴어 대문자 T","Latin small letter t with cedilla":"갈고리 부호가 있는 라틴어 소문자 t","Latin capital letter t with caron":"반대 곡절 부호가 있는 라틴어 대문자 T","Latin small letter t with caron":"반대 곡절 부호가 있는 라틴어 소문자 t","Latin capital letter t with stroke":"획 부호가 있는 라틴어 대문자 T","Latin small letter t with stroke":"획 부호가 있는 라틴어 소문자 t","Latin capital letter u with tilde":"물결 부호가 있는 라틴어 대문자 U","Latin small letter u with tilde":"물결 부호가 있는 라틴어 소문자 u","Latin capital letter u with macron":"장음 부호가 있는 라틴어 대문자 U","Latin small letter u with macron":"장음 부호가 있는 라틴어 소문자 u","Latin capital letter u with breve":"반달점 부호가 있는 라틴어 대문자 U","Latin small letter u with breve":"반달점 부호가 있는 라틴어 소문자 u","Latin capital letter u with ring above":"위에 고리가 있는 라틴어 대문자 U","Latin small letter u with ring above":"위에 고리가 있는 라틴어 소문자 u","Latin capital letter u with double acute":"이중 양음 부호가 있는 라틴어 대문자 U","Latin small letter u with double acute":"이중 양음 부호가 있는 라틴어 소문자 u","Latin capital letter u with ogonek":"꼬리 부호가 있는 라틴어 대문자 U","Latin small letter u with ogonek":"꼬리 부호가 있는 라틴어 소문자 u","Latin capital letter w with circumflex":"곡절 부호가 있는 라틴어 대문자 W","Latin small letter w with circumflex":"곡절 부호가 있는 라틴어 소문자 w","Latin capital letter y with circumflex":"곡절 부호가 있는 라틴어 대문자 Y","Latin small letter y with circumflex":"곡절 부호가 있는 라틴어 소문자 y","Latin capital letter y with diaeresis":"분음 부호가 있는 라틴어 대문자 Y","Latin capital letter z with acute":"양음 부호가 있는 라틴어 대문자 Z","Latin small letter z with acute":"양음 부호가 있는 라틴어 소문자 z","Latin capital letter z with dot above":"위에 점 부호가 있는 라틴어 대문자 Z","Latin small letter z with dot above":"위에 점 부호가 있는 라틴어 소문자 z","Latin capital letter z with caron":"반대 곡절 부호가 있는 라틴어 대문자 Z","Latin small letter z with caron":"반대 곡절 부호가 있는 라틴어 소문자 z","Latin small letter long s":"라틴어 소문자 긴 s","Less-than sign":"더 작음 기호","Greater-than sign":"더 큼 기호","Less-than or equal to":"더 작거나 같음","Greater-than or equal to":"더 크거나 같음","En dash":"엔 대시","Em dash":"엠 대시",Macron:"장음 부호",Overline:"윗줄","Degree sign":"도 기호","Minus sign":"빼기 기호","Plus-minus sign":"더하기 빼기 기호","Division sign":"나누기 기호","Fraction slash":"분수 슬래시","Multiplication sign":"곱하기 기호","Latin small letter f with hook":"밑이 구부러진 라틴어 소문자 f",Integral:"적분","N-ary summation":"누계합",Infinity:"무한대","Square root":"제곱근","Tilde operator":"물결표 연산자","Approximately equal to":"대략 같음","Almost equal to":"거의 같음","Not equal to":"같지 않음","Identical to":"합동","Element of":"원소","Not an element of":"원소가 아님","Contains as member":"원소로 포함","N-ary product":"중복순열","Logical and":"논리곱","Logical or":"논리합","Not sign":"부정 기호",Intersection:"교집합",Union:"합집합","Partial differential":"편미분","For all":"전칭","There exists":"존재","Empty set":"공집합",Nabla:"나블라","Asterisk operator":"별표 연산자","Proportional to":"비례",Angle:"각","Vulgar fraction one quarter":"4분의 1","Vulgar fraction one half":"2분의 1","Vulgar fraction three quarters":"4분의 3","Single left-pointing angle quotation mark":"왼쪽 홑화살괄호","Single right-pointing angle quotation mark":"오른쪽 홑화살괄호","Left-pointing double angle quotation mark":"왼쪽 겹화살괄호","Right-pointing double angle quotation mark":"오른쪽 겹화살괄호","Left single quotation mark":"왼쪽 작은따옴표","Right single quotation mark":"오른쪽 작은따옴표","Left double quotation mark":"왼쪽 큰따옴표","Right double quotation mark":"오른쪽 큰따옴표","Single low-9 quotation mark":"낮은 홑따옴표","Double low-9 quotation mark":"낮은 겹따옴표","Inverted exclamation mark":"역느낌표","Inverted question mark":"역물음표","Two dot leader":"두 점 줄임표","Horizontal ellipsis":"세 점 줄임표","Double dagger":"겹칼표","Per mille sign":"퍼 마일 기호","Per ten thousand sign":"만분율 기호","Double exclamation mark":"겹느낌표","Question exclamation mark":"물음표 느낌표","Exclamation question mark":"느낌표 물음표","Double question mark":"겹물음표","Copyright sign":"저작권 기호","Registered sign":"등록 상표 기호","Trade mark sign":"상표 기호","Section sign":"구역 기호","Paragraph sign":"단락 기호","Reversed paragraph sign":"반전된 단락 기호","Show source":"소스 표시","Show blocks":"블록 표시","Select all":"전체 선택","Disable editing":"편집 비활성화","Enable editing":"편집 활성화","Previous editable region":"이전 편집 가능한 구역","Next editable region":"다음 편집 가능한 구역","Navigate editable regions":"편집 가능한 구역 탐색","Remove Format":"서식 지우기","Page break":"페이지 나누기","media widget":"미디어 위젯","Media URL":"미디어 URL","Paste the media URL in the input.":"미디어 URL을 입력해주세요.","Tip: Paste the URL into the content to embed faster.":"팁: URL을 붙여넣으면 더 빨리 삽입할 수 있습니다.","The URL must not be empty.":"URL이 비어있을 수 없습니다.","This media URL is not supported.":"이 미디어 URL은 지원되지 않습니다.","Insert media":"미디어 삽입",Media:"미디어","Media toolbar":"미디어 툴바","Open media in new tab":"새 탭에서 미디어 열기","Media embed":"미디어 ㅅ","Numbered List":"번호 목록","Bulleted List":"불릿 목록","To-do List":"확인 목록","Bulleted list styles toolbar":"글머리 기호 목록 스타일 도구 모음","Numbered list styles toolbar":"번호 목록 스타일 도구 모음","Toggle the disc list style":"흰 원형 목록 스타일 전환","Toggle the circle list style":"검은 원형 목록 스타일 전환","Toggle the square list style":"검은 사각형 목록 스타일 전환","Toggle the decimal list style":"십진수 목록 스타일 전환","Toggle the decimal with leading zero list style":"앞에 0이 붙는 십진수 목록 스타일 전환","Toggle the lower–roman list style":"소문자 로마자 목록 스타일 전환","Toggle the upper–roman list style":"대문자 로마자 목록 스타일 전환","Toggle the lower–latin list style":"소문자 알파벳 목록 스타일 전환","Toggle the upper–latin list style":"대문자 알파벳 목록 스타일 전환",Disc:"검은 원형",Circle:"흰 원형",Square:"검은 사각형",Decimal:"십진수","Decimal with leading zero":"앞에 0이 붙는 십진수","Lower–roman":"소문자 로마자","Upper-roman":"대문자 로마자","Lower-latin":"소문자 알파벳","Upper-latin":"대문자 알파벳","List properties":"목록 속성","Start at":"시작 번호","Invalid start index value.":"잘못된 시작 인덱스 값입니다.","Start index must be greater than 0.":"시작 번호는 0보다 커야 합니다.","Reversed order":"역순","Keystrokes that can be used in a list":"목록에서 사용할 수 있는 키 입력","Increase list item indent":"목록 항목 들여쓰기 늘리기","Decrease list item indent":"목록 항목 들여쓰기 줄이기","Entering a to-do list":"할 일 목록 입력하는 중","Leaving a to-do list":"할 일 목록 남기는 중",Unlink:"링크 삭제",Link:"링크","Link URL":"링크 주소","Link URL must not be empty.":"링크 URL은 비워둘 수 없습니다.","Link image":"사진 링크","Edit link":"링크 편집","Open link in new tab":"새 탭에서 링크 열기","Open in a new tab":"새 탭에서 열기",Downloadable:"다운로드 가능","Create link":"링크 생성","Move out of a link":"링크 밖으로 이동","Link properties":"링크 속성","Displayed text":"표시 텍스트","No links available":"사용 가능한 링크 없음",Language:"언어","Choose language":"언어 선택","Remove language":"언어 제거","Increase indent":"들여쓰기 늘리기","Decrease indent":"들여쓰기 줄이기","image widget":"사진 위젯","Wrap text":"텍스트 줄 바꿈","Break text":"텍스트 분리","In line":"줄 안에","Side image":"본문 옆에 배치","Full size image":"꽉 찬 크기","Left aligned image":"왼쪽 정렬","Centered image":"가운데 정렬","Right aligned image":"오른쪽 정렬","Change image text alternative":"대체 문구 변경","Text alternative":"대체 문구","Enter image caption":"사진 설명을 입력하세요","Insert image":"사진 삽입","Replace image":"이미지 교체","Upload from computer":"컴퓨터에서 업로드","Replace from computer":"컴퓨터에서 교체","Upload image from computer":"컴퓨터에서 이미지 업로드","Image from computer":"컴퓨터에서 이미지 가져오기","From computer":"컴퓨터에서","Replace image from computer":"컴퓨터에서 이미지 교체","Upload failed":"업로드 실패","You have no image upload permissions.":"이미지를 업로드할 수 있는 권한이 없습니다.","Image toolbar":"사진 툴바","Resize image":"사진 크기 조절","Resize image to %0":"사진의 크기를 %0으로 조절","Resize image to the original size":"사진을 원래 크기로 돌려놓기","Resize image (in %0)":"이미지 크기 조정하기(%0 이내)",Original:"원본","Custom image size":"사용자 지정 이미지 크기",Custom:"사용자 지정","Image resize list":"사진 크기 목록","Insert image via URL":"URL로 이미지 삽입","Insert via URL":"URL 버튼으로 이미지 삽입","Image via URL":"URL 메뉴를 통한 이미지 삽입","Via URL":"이미지 메뉴에서 URL을 통한 이미지 삽입","Update image URL":"이미지 URL 업데이트","Caption for the image":"이미지용 캡션","Caption for image: %0":"이미지용 캡션: %0","The value must not be empty.":"값은 비워둘 수 없습니다.","The value should be a plain number.":"일반 숫자로 된 값을 입력해야 합니다.","Uploading image":"이미지 업로드 중","Image upload complete":"이미지 업로드 완료","Error during image upload":"이미지 업로드 중에 오류 발생",Image:"이미지 삽입 기능으로 삽입된 위젯","Image Resize":"이미지 크기 조절","Text Alternative":"대체 텍스트","HTML object":"HTML 오브젝트","Insert HTML":"HTML 삽입","HTML snippet":"HTML 코드 조각","Paste raw HTML here...":"원시 HTML을 여기에 붙여넣으세요...","Edit source":"소스 편집","Save changes":"변경사항 저장","No preview available":"미리보기를 이용할 수 없습니다","Empty snippet content":"빈 코드 조각 내용","Horizontal line":"수평선","Yellow marker":"노란색 마커","Green marker":"초록색 마커","Pink marker":"분홍색 마커","Blue marker":"파란색 마커","Red pen":"빨간색 펜","Green pen":"초록색 펜","Remove highlight":"강조 제거",Highlight:"강조","Text highlight toolbar":"글자 강조 툴바",Heading:"제목","Choose heading":"제목 선택","Heading 1":"제목 1","Heading 2":"제목 2","Heading 3":"제목 3","Heading 4":"제목 4","Heading 5":"제목 5","Heading 6":"제목 6","Type your title":"제목을 입력해주세요","Type or paste your content here.":"여기에 내용을 입력하거나 붙여넣으세요.","Enter fullscreen mode":"전체 화면으로 보기","Leave fullscreen mode":"전체 화면 나가기","Fullscreen mode":"전체 화면 모드","Toggle fullscreen mode":"전체 화면 모드 전환","Document outline":"문서 외곽선","Connected users":"참여 사용자","Font Size":"글자 크기",Tiny:"매우 작은",Small:"작은",Big:"큰",Huge:"매우 큰","Font Family":"글꼴 집합",Default:"기본","Font Color":"글자 색깔","Font Background Color":"글자 배경 색깔","Document colors":"문서 색깔들","Find and replace":"찾기 및 바꾸기","Find in text…":"텍스트에서 찾기...",Find:"찾기","Previous result":"이전 결과","Next result":"다음 결과",Replace:"바꾸기","Replace all":"모두 바꾸기","Match case":"대/소문자 구분","Whole words only":"전체 단어만","Replace with…":"바꿀 내용...","Text to find must not be empty.":"찾을 텍스트를 입력해야 합니다.","Tip: Find some text first in order to replace it.":"팁: 바꾸려는 텍스트를 먼저 찾으세요.","Advanced options":"고급 옵션","Find in the document":"문서에서 찾기","Insert a soft break (a <code>&lt;br&gt;</code> element)":"줄 바꿈 삽입(<code>&lt;br&gt;</code> 요소)","Insert a hard break (a new paragraph)":"단락 바꿈 삽입(새 단락)",Emoji:"이모지","Show all emoji...":"모든 이모지 표시...","Find an emoji (min. 2 characters)":"이모지 찾기(최소 2자)",'No emojis were found matching "%0".':'"%0"에 대한 이모지를 찾을 수 없습니다.',"Keep on typing to see the emoji.":"이모지를 보려면 계속 입력하세요.","The query must contain at least two characters.":"쿼리에는 2자 이상이 포함되어야 합니다.","Smileys & Expressions":"스마일 및 표정","Gestures & People":"제스처 및 사람","Animals & Nature":"동물 및 자연","Food & Drinks":"음식 및 음료","Travel & Places":"여행 및 장소",Activities:"활동",Objects:"사물",Symbols:"기호",Flags:"깃발","Select skin tone":"피부색 선택","Default skin tone":"기본 피부색","Light skin tone":"밝은 피부색","Medium Light skin tone":"약간 밝은 피부색","Medium skin tone":"중간 피부색","Medium Dark skin tone":"약간 어두운 피부색","Dark skin tone":"어두운 피부색","Emoji picker":"이모지 선택",Cancel:"취소",Clear:"지우기","Remove color":"색깔 제거","Restore default":"기본값 복원",Save:"저장","Show more items":"더보기","%0 of %1":"%0 / %1","Cannot upload file:":"파일 업로드할 수 없음: ","Rich Text Editor. Editing area: %0":"리치 텍스트 편집기. 편집 영역: %0","Insert with file manager":"파일 관리자를 사용하여 삽입","Replace with file manager":"파일 관리자를 사용하여 교체","Insert image with file manager":"파일 관리자를 사용하여 이미지 삽입","Replace image with file manager":"파일 관리자를 사용하여 이미지 교체",File:"파일","With file manager":"파일 관리 버튼으로 이미지 삽입","Toggle caption off":"캡션 지우기","Toggle caption on":"캡션 넣기","Content editing keystrokes":"콘텐츠 편집 키 입력","These keyboard shortcuts allow for quick access to content editing features.":"이러한 키보드 단축키를 사용하면 콘텐츠 편집 기능을 빠르게 사용할 수 있습니다.","User interface and content navigation keystrokes":"사용자 인터페이스 및 콘텐츠 탐색 키 입력","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"다음 키 입력을 사용하여 CKEditor 5 사용자 인터페이스를 더 효율적으로 탐색하세요.","Close contextual balloons, dropdowns, and dialogs":"상황별 풍선, 드롭다운, 대화 상자 닫기","Open the accessibility help dialog":"접근성 도움말 대화 상자 열기","Move focus between form fields (inputs, buttons, etc.)":"양식 필드(입력, 버튼 등) 간에 포커스 이동","Move focus to the menu bar, navigate between menu bars":"메뉴 표시줄로 포커스 이동, 메뉴 표시줄 탐색","Move focus to the toolbar, navigate between toolbars":"도구 모음으로 포커스 이동, 도구 모음 간 탐색","Navigate through the toolbar or menu bar":"도구 모음 또는 메뉴 표시줄 탐색","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"현재 포커스가 맞춰진 버튼을 실행합니다. 편집기 콘텐츠와 상호 작용하는 버튼을 실행하면 포커스가 다시 콘텐츠로 이동합니다.",Accept:"수락",Paragraph:"문단","Color picker":"색상 선택기","Please try a different phrase or check the spelling.":"다른 문구를 사용해 보시거나 철자를 확인해 주세요.",Source:"소스",Insert:"삽입",Update:"업데이트",Back:"뒤로","Insert code block":"코드 블럭 삽입","Plain text":"평문","Leaving %0 code snippet":"%0 코드 스니펫 남기는 중","Entering %0 code snippet":"%0 코드 스니펫 입력하는 중","Entering code snippet":"코드 스니펫 입력하는 중","Leaving code snippet":"코드 스니펫 남기는 중","Code block":"코드 블록","Copy selected content":"선택된 콘텐츠 복사","Paste content":"콘텐츠 붙여넣기","Paste content as plain text":"콘텐츠를 일반 텍스트로 붙여넣기","Insert image or file":"사진이나 파일을 삽입","Could not obtain resized image URL.":"크기가 조절된 사진의 URL을 가져오지 못했습니다.","Selecting resized image failed":"크기가 조절된 이미지 선택 실패","Could not insert image at the current position.":"현재 위치에 사진을 삽입할 수 없습니다.","Inserting image failed":"사진 삽입 실패","Open file manager":"파일 관리자 열기","Cannot determine a category for the uploaded file.":"업로드된 파일의 카테고리를 확인할 수 없습니다.","Cannot access default workspace.":"기본 작업 공간에 액세스할 수 없습니다.","You have no image editing permissions.":"이미지를 편집할 수 있는 권한이 없습니다.","Edit image":"이미지 편집","Processing the edited image.":"편집한 이미지를 처리 중입니다.","Server failed to process the image.":"서버가 이미지를 처리하지 못했습니다.","Failed to determine category of edited image.":"편집한 이미지의 카테고리를 결정하지 못했습니다.",Bookmark:"책갈피","Edit bookmark":"책갈피 편집","Remove bookmark":"책갈피 제거","Bookmark name":"책갈피 이름","Enter the bookmark name without spaces.":"공백 없이 책갈피 이름을 입력하세요.","Bookmark must not be empty.":"책갈피 이름은 비워 둘 수 없습니다.","Bookmark name cannot contain space characters.":"책갈피 이름에는 공백이 포함될 수 없습니다.","Bookmark name already exists.":"책갈피 이름이 이미 존재합니다.","bookmark widget":"책갈피 위젯","Bookmark toolbar":"북마크 도구 모음",Bookmarks:"북마크","No bookmarks available.":"사용 가능한 북마크가 없습니다.","Scroll to bookmark":"북마크로 이동","Block quote":"인용 단락",Bold:"굵게",Italic:"기울임꼴",Underline:"밑줄",Code:"코드",Strikethrough:"취소선",Subscript:"아래 첨자",Superscript:"위 첨자","Italic text":"기울인 텍스트","Move out of an inline code style":"인라인 코드 스타일 밖으로 이동","Bold text":"굵은 텍스트","Underline text":"텍스트 밑줄","Strikethrough text":"텍스트 취소선","Saving changes":"변경된 내용을 저장하고 있습니다","Revert autoformatting action":"자동 서식 작업 되돌리기","Align left":"왼쪽 정렬","Align right":"오른쪽 정렬","Align center":"가운데 정렬",Justify:"양쪽 정렬","Text alignment":"텍스트 정렬","Text alignment toolbar":"텍스트 정렬 툴바"},getPluralForm(n){return 0}}},Mee="eyJhbGciOiJFUzI1NiJ9.eyJleHAiOjE3NTAyOTExOTksImp0aSI6ImI0MmZjM2NiLWJiZDQtNGFhMS1hYzViLWY5NGU4MjRiYzY1OCIsInVzYWdlRW5kcG9pbnQiOiJodHRwczovL3Byb3h5LWV2ZW50LmNrZWRpdG9yLmNvbSIsImRpc3RyaWJ1dGlvbkNoYW5uZWwiOlsiY2xvdWQiLCJkcnVwYWwiLCJzaCJdLCJ3aGl0ZUxhYmVsIjp0cnVlLCJsaWNlbnNlVHlwZSI6InRyaWFsIiwiZmVhdHVyZXMiOlsiKiJdLCJ2YyI6IjM2YjFkMDdiIn0.10d-BM5CxS4vKtQmLfVTfuc1OXezmIMPYXGnPzkvEUy-a3ZbHoVP6hZHgKpank7flV7kiygsCwx1gJchzHuNHA";function Iee(){const n=S.useRef(null),t=S.useRef(null),[e,i]=S.useState(!1);S.useEffect(()=>(i(!0),()=>i(!1)),[]);const{editorConfig:s}=S.useMemo(()=>e?{editorConfig:{toolbar:{items:["undo","redo","|","bold","fontColor","|","alignment","bulletedList","numberedList","todoList","|","link"],shouldNotGroupWhenFull:!1},plugins:[sJ,g4,vJ,SJ,BZ,WZ,nQ,d4,NQ,lee,vee,xv,Ree],blockToolbar:["fontSize","fontColor","fontBackgroundColor","|","bold","italic","|","link","insertImage","insertTable","|","bulletedList","numberedList","outdent","indent"],language:"ko",licenseKey:Mee,link:{addTargetToExternalLinks:!0,defaultProtocol:"https://",decorators:{toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},placeholder:"내용을 입력해주세요.",translations:[Oee]}}:{},[e]);return D("div",{className:"main-container",children:D("div",{className:"editor-container editor-container_classic-editor editor-container_include-block-toolbar",ref:n,children:D("div",{className:"editor-container__editor",children:D("div",{ref:t,children:s&&D(SP,{editor:_Z,config:s})})})})})}const Lee=()=>{const[n,t]=Zl(v1),[e,i]=S.useState(!1),s=S.useCallback(()=>{t(!1)},[t]),r=S.useCallback(()=>{i(o=>!o)},[i]);return Ce(Ly,{fullWidth:!0,open:n,onClose:s,maxWidth:"md",children:[D(By,{sx:{paddingX:{xs:2,sm:5}},children:Ce(Se,{gap:1,children:[Ce(Se,{direction:"row",alignItems:"center",gap:1,children:[D(vs,{title:e?"카드 잠금 풀기":"카드 잠그기",placement:"top",children:D(sn,{color:"primary",size:"small",onClick:r,children:e?D(JU,{fontSize:"large"}):D(XU,{fontSize:"large"})})}),D(Be,{variant:"h4",children:"카드 편집 대화상자 - Day 1"})]}),D(fd,{})]})}),Ce(Se,{px:{xs:2,sm:5},pb:3,gap:3,children:[Ce(Se,{direction:{sm:"column",md:"row"},justifyContent:"space-between",gap:{xs:5,md:0},children:[D(Ht,{width:{xs:"100%",md:"70%"},height:"400px",children:D(Iee,{})}),Ce(Se,{direction:{xs:"column",sm:"row",md:"column"},gap:1,children:[D(iF,{variant:"rectangular",sx:{borderRadius:2,width:{xs:"200px"},height:{xs:"200px"}}}),Ce(Se,{children:[Ce(Se,{direction:"row",alignItems:"center",gap:.5,sx:{color:Xe.palette.black.main},children:[D(KU,{}),D(Be,{variant:"h6",children:"장소"})]}),Ce(Se,{direction:"row",alignItems:"center",gap:.5,sx:{color:Xe.palette.black.main},children:[D(YU,{}),D(Be,{variant:"h6",flex:1,children:"시간"})]})]})]})]}),Ce(Se,{direction:"row",gap:2,alignSelf:"flex-end",color:Xe.palette.black.main,children:[D(bn,{variant:"outlined",color:"inherit",sx:{px:3},onClick:s,children:D(Be,{children:"취소"})}),D(bn,{variant:"contained",sx:{px:3},children:D(Be,{children:"저장"})})]})]})]})},jE=[{name:"편집 모드",icon:D(gP,{})},{name:"열람 모드",icon:D(bP,{})}],WE=()=>{const n=To(),[t,e]=Zl(V5),[i,s]=Zl(y1),[r,o]=S.useState(i.title),{uuid:l}=b6(),[u,f]=S.useState(!1),[h,m]=S.useState(null),[b,w]=S.useState(!1),_=S.useCallback(async()=>{if(l)try{f(!0),m(null);const P=await $n(),R=await Cn.get(`/template/uuid/${l}`,{headers:{"X-CSRF-Token":P}});if(console.log("템플릿 데이터:",R.data),R.data.success){const V=R.data.template;s({uuid:V.template_uuid,title:V.title,boards:V.boards.map(()=>({cards:[]}))}),o(V.title)}else m("템플릿 데이터를 불러올 수 없습니다.")}catch(P){console.error("템플릿 데이터 로딩 오류:",P),m("템플릿을 불러오는 중 오류가 발생했습니다.")}finally{f(!1)}},[s,l]);S.useEffect(()=>{_()},[_]);const k=S.useCallback(()=>{e(P=>P===qu.EDIT?qu.VIEW:qu.EDIT)},[e]),x=S.useCallback(()=>{if(i.boards.length>=md)return;const R=$y(i,{cards:[]});s(R)},[s,i]),A=S.useCallback(()=>{w(P=>!P)},[]),L=S.useCallback(P=>{o(P.target.value)},[]),E=S.useCallback(()=>{const P={...i};P.title=r,s(P),w(!1)},[s,i,r]);return u?D(Se,{height:"calc(100vh - 82px)",alignItems:"center",justifyContent:"center",children:D(pm,{})}):h?Ce(Se,{height:"calc(100vh - 82px)",alignItems:"center",justifyContent:"center",children:[D(Be,{color:"error",children:h}),D(bn,{variant:"contained",onClick:()=>n("/community"),sx:{mt:2},children:"뒤로 가기"})]}):Ce($v,{children:[Ce(Se,{height:"calc(100vh - 82px)",sx:{"& .MuiIconButton-root > svg":{color:Xe.palette.black.main}},children:[D(Ao,{maxWidth:"xl",sx:{marginTop:5},children:Ce(Se,{direction:"row",width:"100%",height:"40px",justifyContent:"space-between",alignItems:"center",children:[Ce(Se,{direction:"row",alignItems:"center",gap:1,sx:{minWidth:0,overflow:"hidden"},children:[b?D(v5,{onClickAway:E,children:D(I5,{value:r,onChange:L,autoFocus:!0,sx:{minWidth:0,"& input":{padding:1,fontWeight:"bold",fontSize:Xe.typography.h4.fontSize}}})}):D(bn,{onClick:A,sx:{minWidth:0,maxWidth:"100%",overflow:"hidden",padding:0,textTransform:"none",flexShrink:1,flexGrow:1,justifyContent:"flex-start"},children:D(Be,{variant:"h4",color:"black",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:"bold"},children:i.title})}),D(vs,{title:"정렬하기",children:D(sn,{size:"small",children:D(zU,{})})})]}),Ce(Se,{direction:"row",alignContent:"inherit",gap:1,children:[D(vs,{title:t===jE[0].name?"열람 모드":"편집 모드",children:D(sn,{size:"small",onClick:k,children:t===jE[0].name?D(bP,{}):D(gP,{})})}),D(vs,{title:"공유하기",children:D(sn,{size:"small",children:D(UU,{})})}),D(vs,{title:"더보기",children:D(sn,{size:"small",children:D($U,{})})})]})]})}),Ce(Se,{direction:"row",height:"100%",gap:5,paddingX:{xs:"16px",sm:"24px",xl:`calc(24px + (100vw - ${Xe.breakpoints.values.xl}px) / 2)`},paddingY:5,sx:{overflowX:"auto"},children:[i.boards.map((P,R)=>D(GU,{day:R+1},`board-${R+1}`)),i.boards.length<md&&D(Ht,{children:D(vs,{title:"보드 추가하기",placement:"top",children:D(bn,{onClick:x,sx:{padding:0},children:D(ks,{elevation:3,sx:{width:"300px",height:"80px",display:"flex",justifyContent:"center",alignItems:"center",background:Xe.palette.secondary.main,borderRadius:"inherit",overflow:"hidden"},children:D(ks,{elevation:3,sx:{display:"flex",padding:.5,justifyContent:"center",alignItems:"center",borderRadius:"50%"},children:D(Tp,{sx:{color:Xe.palette.primary.main,fontSize:"2.5rem"}})})})})})})]})]}),D(Lee,{})]})},M4=Bt(J.jsx("path",{d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59 7.11 5.7a.996.996 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41s1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4"})),Uh=200,qE=({title:n,color:t=Xe.palette.info.main,onClick:e,onDelete:i,children:s,sx:r={},type:o="existing",id:l})=>{const u=Ca(),f=h=>{h.stopPropagation(),i&&i()};return Ce(Ht,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Ce(ks,{elevation:2,onClick:e,sx:{width:Uh,height:Uh,borderRadius:4,bgcolor:t,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:2,cursor:e?"pointer":"default",transition:"box-shadow 0.2s",":hover":e?{boxShadow:6}:{},position:"relative",...r},children:[o!=="new"&&i&&D(sn,{size:"small",onClick:f,sx:{position:"absolute",top:8,right:8,opacity:0,transition:"opacity 0.2s ease",backgroundColor:"rgba(255, 255, 255, 0.7)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.9)"},zIndex:1,".MuiPaper-root:hover &":{opacity:1}},children:D(M4,{fontSize:"small"})}),o==="new"?D(Tp,{sx:{fontSize:"40px",color:u.palette.black.main}}):s]}),n&&D(Be,{variant:"body2",fontWeight:300,align:"left",sx:{width:Uh,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",mt:1,pl:.5},noWrap:!0,children:n}),o==="new"&&!n&&D(Be,{variant:"body2",fontWeight:300,align:"left",sx:{width:Uh,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",mt:1,pl:.5},noWrap:!0,children:"새 템플릿"})]},`template-${l}`)},Bee=24,Dee=()=>{const n=To(),[t,e]=S.useState([]),[i,s]=S.useState(!0),[r,o]=S.useState(null),[l,u]=S.useState(!1),[f,h]=S.useState(""),[m,b]=S.useState(!1),[w,_]=S.useState(null),[k,x]=S.useState(""),A=S.useCallback(async()=>{try{s(!0);const C=await $n(),N=await Cn.get("/template",{headers:{"X-CSRF-Token":C}});N.data.success?e(N.data.templates):o("템플릿 목록을 불러오는 데 실패했습니다.")}catch(C){console.error("템플릿 목록 불러오기 오류:",C),o("템플릿 목록을 불러오는 데 문제가 발생했습니다.")}finally{s(!1)}},[]);S.useEffect(()=>{A()},[A]);const L=S.useCallback(()=>{h(""),x(""),u(!0)},[]),E=S.useCallback(()=>{u(!1)},[]),P=S.useCallback(async()=>{if(!f.trim()){x("템플릿 이름을 입력해주세요.");return}try{s(!0);const C=await $n();(await Cn.post("/template",{name:f.trim()},{headers:{"X-CSRF-Token":C}})).data.success?(E(),A()):o("템플릿 생성에 실패했습니다.")}catch(C){console.error("새 템플릿 생성 오류:",C),o("템플릿 생성 중 오류가 발생했습니다.")}finally{s(!1)}},[A,E,f]),R=S.useCallback(C=>{n(`/template/${C}`)},[n]),V=S.useCallback(C=>{_(C),b(!0)},[]),I=S.useCallback(()=>{b(!1),_(null)},[]),z=S.useCallback(async()=>{if(w!==null)try{const C=await $n();(await Cn.delete(`/template/${w}`,{headers:{"X-CSRF-Token":C}})).data.success?A():o("템플릿 삭제에 실패했습니다.")}catch(C){console.error("템플릿 삭제 오류:",C),o("템플릿 삭제 중 오류가 발생했습니다.")}finally{b(!1),_(null)}},[w,A]),F=S.useCallback(C=>{const N=["#A7C7FF","#FFF6A3","#FFB6E1","#FFB6B6","#FFD59E","#D6FFB7","#B6FFE4","#B6D9FF","#D9B6FF"];return N[C%N.length]},[]);return Ce(Se,{mt:4,gap:8,children:[D(Se,{gap:4,children:D(Be,{variant:"h5",children:"인기 템플릿"})}),Ce(Se,{gap:4,children:[D(Be,{variant:"h5",children:"내 템플릿"}),i?D(Ht,{display:"flex",justifyContent:"center",py:4,children:D(pm,{})}):r?D(Be,{color:"error",py:2,children:r}):Ce(Ht,{sx:{display:"flex",flexWrap:"wrap",gap:`${Bee}px`,mb:6},children:[D(qE,{type:"new",onClick:L}),t.map(C=>D(qE,{id:C.template_id,title:C.name,color:F(C.template_id),onClick:()=>R(C.template_uuid),onDelete:()=>V(C.template_id)},`template-${C.template_id}`))]})]}),Ce(Ly,{open:l,onClose:E,children:[D(By,{children:"새 템플릿 만들기"}),D(_2,{children:D(I5,{autoFocus:!0,margin:"dense",label:"템플릿 이름",type:"text",fullWidth:!0,variant:"outlined",value:f,onChange:C=>{h(C.target.value),x("")},error:!!k,helperText:k,sx:{mt:2}})}),Ce(w2,{children:[D(bn,{onClick:E,color:"inherit",children:"취소"}),D(bn,{onClick:P,color:"primary",variant:"contained",children:"생성"})]})]}),Ce(Ly,{open:m,onClose:I,children:[D(By,{children:"템플릿 삭제"}),Ce(_2,{children:[D(Be,{children:"정말로 이 템플릿을 삭제하시겠습니까?"}),D(Be,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"삭제한 템플릿은 복구할 수 없습니다."})]}),Ce(w2,{children:[D(bn,{onClick:I,color:"inherit",children:"취소"}),D(bn,{onClick:z,color:"error",variant:"contained",children:"삭제"})]})]})]})},Nee=Bt(J.jsx("path",{d:"M9.37 5.51c-.18.64-.27 1.31-.27 1.99 0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27C17.45 17.19 14.93 19 12 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"})),Vee=Bt(J.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2m6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5z"})),Fee=Bt(J.jsx("path",{d:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 9c2.7 0 5.8 1.29 6 2v1H6v-.99c.2-.72 3.3-2.01 6-2.01m0-11C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"})),zee=Bt(J.jsx("path",{d:"M10.25 13c0 .69-.56 1.25-1.25 1.25S7.75 13.69 7.75 13s.56-1.25 1.25-1.25 1.25.56 1.25 1.25M15 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25m7 .25c0 5.52-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2s10 4.48 10 10m-2 0c0-.78-.12-1.53-.33-2.24-.7.15-1.42.24-2.17.24-3.13 0-5.92-1.44-7.76-3.69C8.69 8.87 6.6 10.88 4 11.86c.01.04 0 .09 0 .14 0 4.41 3.59 8 8 8s8-3.59 8-8"})),Uee=Bt(J.jsx("path",{d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1m0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1M3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1"})),GE=[{text:"템플릿",to:"/template"},{text:"게시판",to:"/community"},{text:"지도",to:"/map"},{text:"소식",to:"/news"}],$ee=[{text:"내 정보",to:"/"},{text:"내 템플릿",to:"/userTemplates"},{text:"좋아요 한 게시글",to:"/"},{text:"로그아웃",to:"/"}],KE=n=>{const{to:t,children:e,onClick:i,...s}=n;return D(H6,{to:t,className:({isActive:r,isPending:o})=>o?"pending":r?"active":"",css:{textDecoration:"none",color:Xe.palette.black.main,transition:"color 0.3s","&.active":{color:Xe.palette.primary.main}},onClick:i,...s,children:e})},Hee=["/login","/register","/find-password","/change-password"],jee=()=>{const n=oc(),t=To(),e=S.useRef(null),i=S.useRef(null),[s,r]=S.useState(!1),[o,l]=S.useState(!1),[u,f]=Zl(ga),{isLoggedIn:h}=u,m=S.useCallback(()=>{r(!1)},[]),b=S.useCallback(()=>{r(E=>!E)},[]),w=S.useCallback(E=>{i.current&&i.current.contains(E.target)||l(!1)},[]),_=S.useCallback(()=>{l(E=>!E)},[]),k=S.useCallback(E=>{t(E),l(!1),r(!1)},[t]),x=dP();let A="홍길동님";if(x)try{A=mP(x).name}catch(E){console.error("토큰 디코드 오류:",E)}const L=S.useCallback(async()=>{if(!h){alert("로그인이 필요합니다.");return}const E=await $n(),P=await Cn.post("/auth/logout",{},{headers:{"X-CSRF-Token":E}});try{P.data.success?(await pP(f),r(!1),alert("로그아웃이 성공적으로 완료되었습니다."),t("/")):alert("로그아웃 처리에 실패했습니다.")}catch(R){console.error("로그아웃 중 오류 발생:",R),alert("로그아웃 중 오류가 발생했습니다. 다시 시도해 주세요.")}},[h,t,f]);return Hee.includes(n.pathname)?null:Ce($v,{children:[Ce(MD,{color:"info",position:"relative",sx:{boxShadow:"none",zIndex:1e3},children:[D(Ht,{sx:{borderBottom:`2px solid ${Xe.palette.divider}`},children:D(Ao,{maxWidth:"xl",children:Ce(pF,{disableGutters:!0,sx:{height:"80px"},children:[D(KE,{to:"/",children:D(Be,{variant:"h4",color:"primary",children:"Wanna Trip"})}),D(Se,{direction:"row",gap:{sm:3,md:5,lg:7,xl:10},justifyContent:"center",flexGrow:1,display:{xs:"none",sm:"flex"},children:GE.map((E,P)=>D(KE,{to:E.to,children:D(Be,{variant:"h5",fontWeight:500,children:E.text})},`nav-link-${P}`))}),Ce(Se,{direction:"row",gap:{xs:.5,sm:1},color:Xe.palette.black.main,justifyContent:"flex-end",alignItems:"center",flexGrow:{xs:1,sm:0},sx:{"& > .MuiIconButton-root svg":{fontSize:{xs:"1.5rem",sm:"2rem"}}},children:[D(sn,{color:"inherit",size:"small",children:D(Nee,{})}),D(sn,{color:"inherit",size:"small",children:D(_8,{badgeContent:100,color:"primary",overlap:"circular",children:D(Vee,{})})}),D(sn,{color:"inherit",size:"small",ref:e,onClick:b,children:D(Fee,{})}),D(sn,{color:"inherit",size:"small",onClick:_,ref:i,sx:{display:{sm:"none"}},children:D(Uee,{})})]})]})})}),D(v5,{onClickAway:w,children:D(mp,{in:o,sx:{boxShadow:3,position:"absolute",top:"100%",left:0,width:"100vw",background:"white"},children:D(Se,{p:1,paddingX:4,gap:.5,children:GE.map((E,P)=>D(bn,{onClick:()=>k(E.to),sx:{justifyContent:"flex-start"},children:D(Be,{variant:"h6",fontWeight:500,color:n.pathname==E.to?"primary":Xe.palette.black.main,children:E.text})},`mobile-nav-link-${P}`))})})})]}),D(A5,{anchorEl:e.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:m,children:h?Ce(Se,{width:"250px",p:1,gap:1.5,sx:{paddingX:2},children:[Ce(Se,{direction:"row",alignItems:"center",gap:1,color:Xe.palette.black.main,children:[D(d8,{sx:{width:"36px",height:"36px",bgcolor:Xe.palette.primary.main},children:D(zee,{sx:{width:"90%",height:"90%",color:SA[100]}})}),D(Be,{variant:"h6",children:A}),D(Se,{flex:1,alignItems:"flex-end",children:D(sn,{color:"inherit",onClick:m,children:D(M4,{})})})]}),D(fd,{}),D(Se,{gap:.5,children:$ee.map((E,P)=>D(bn,{color:"info",sx:{justifyContent:"flex-start",borderRadius:"50px",pl:2,"&:hover":{"--variant-containedBg":"white","--variant-textBg":Xe.palette.primary.main,"--variant-outlinedBg":Xe.palette.primary.main},"&:hover > .MuiTypography-root":{color:"white"}},onClick:()=>{E.text==="로그아웃"?L():(t(E.to),r(!1))},children:D(Be,{variant:"subtitle1",color:Xe.palette.black.main,fontWeight:500,children:E.text})},`menu-link-${P}`))})]}):Ce(Se,{p:"8px 16px",gap:1,children:[D(Be,{variant:"body2",textAlign:"center",color:"text.secondary",sx:{fontWeight:700,fontSize:"12px"},children:"여행갈래로 계획을 더 쉽고 편리하게"}),D(bn,{variant:"contained",color:"primary",onClick:()=>{m(),t("/login")},sx:{height:"60px",borderRadius:"6px",textTransform:"none"},children:D(Be,{variant:"h6",children:"Wanna Trip 로그인"})})]})})]})};function Wee(){return Ce(BI,{theme:Xe,children:[D(J8,{}),D(z6,{basename:"/wanna-trip",children:Ce(kU,{children:[D(jee,{}),D(Ao,{maxWidth:"xl",children:Ce(CS,{children:[D(mr,{path:"/",element:D(xU,{})}),D(mr,{path:"/login",element:D(BU,{})}),D(mr,{path:"/register",element:D(NU,{})}),D(mr,{path:"/userTemplates",element:D(Dee,{})}),D(mr,{path:"/find-password",element:D(VU,{})}),D(mr,{path:"/change-password",element:D(FU,{})})]})}),Ce(CS,{children:[D(mr,{path:"/template",element:D(WE,{})}),D(mr,{path:"/template/:uuid",element:D(WE,{})})]})]})})]})}HI.createRoot(document.getElementById("root")).render(D(Wee,{}));
